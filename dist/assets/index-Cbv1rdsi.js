(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(a){if(a.ep)return;a.ep=!0;const s=n(a);fetch(a.href,s)}})();var t$=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Th(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Ag={exports:{}},Mf={};var X5;function AC(){if(X5)return Mf;X5=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,a,s){var l=null;if(s!==void 0&&(l=""+s),a.key!==void 0&&(l=""+a.key),"key"in a){s={};for(var u in a)u!=="key"&&(s[u]=a[u])}else s=a;return a=s.ref,{$$typeof:t,type:r,key:l,ref:a!==void 0?a:null,props:s}}return Mf.Fragment=e,Mf.jsx=n,Mf.jsxs=n,Mf}var J5;function NC(){return J5||(J5=1,Ag.exports=AC()),Ag.exports}var w=NC(),Ng={exports:{}},Wt={};var Q5;function EC(){if(Q5)return Wt;Q5=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.for("react.activity"),y=Symbol.iterator;function v(Y){return Y===null||typeof Y!="object"?null:(Y=y&&Y[y]||Y["@@iterator"],typeof Y=="function"?Y:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,T={};function A(Y,P,z){this.props=Y,this.context=P,this.refs=T,this.updater=z||N}A.prototype.isReactComponent={},A.prototype.setState=function(Y,P){if(typeof Y!="object"&&typeof Y!="function"&&Y!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Y,P,"setState")},A.prototype.forceUpdate=function(Y){this.updater.enqueueForceUpdate(this,Y,"forceUpdate")};function D(){}D.prototype=A.prototype;function M(Y,P,z){this.props=Y,this.context=P,this.refs=T,this.updater=z||N}var B=M.prototype=new D;B.constructor=M,C(B,A.prototype),B.isPureReactComponent=!0;var q=Array.isArray;function V(){}var W={H:null,A:null,T:null,S:null},R=Object.prototype.hasOwnProperty;function L(Y,P,z){var Z=z.ref;return{$$typeof:t,type:Y,key:P,ref:Z!==void 0?Z:null,props:z}}function $(Y,P){return L(Y.type,P,Y.props)}function k(Y){return typeof Y=="object"&&Y!==null&&Y.$$typeof===t}function I(Y){var P={"=":"=0",":":"=2"};return"$"+Y.replace(/[=:]/g,function(z){return P[z]})}var J=/\/+/g;function ne(Y,P){return typeof Y=="object"&&Y!==null&&Y.key!=null?I(""+Y.key):P.toString(36)}function we(Y){switch(Y.status){case"fulfilled":return Y.value;case"rejected":throw Y.reason;default:switch(typeof Y.status=="string"?Y.then(V,V):(Y.status="pending",Y.then(function(P){Y.status==="pending"&&(Y.status="fulfilled",Y.value=P)},function(P){Y.status==="pending"&&(Y.status="rejected",Y.reason=P)})),Y.status){case"fulfilled":return Y.value;case"rejected":throw Y.reason}}throw Y}function re(Y,P,z,Z,se){var ue=typeof Y;(ue==="undefined"||ue==="boolean")&&(Y=null);var he=!1;if(Y===null)he=!0;else switch(ue){case"bigint":case"string":case"number":he=!0;break;case"object":switch(Y.$$typeof){case t:case e:he=!0;break;case p:return he=Y._init,re(he(Y._payload),P,z,Z,se)}}if(he)return se=se(Y),he=Z===""?"."+ne(Y,0):Z,q(se)?(z="",he!=null&&(z=he.replace(J,"$&/")+"/"),re(se,P,z,"",function(je){return je})):se!=null&&(k(se)&&(se=$(se,z+(se.key==null||Y&&Y.key===se.key?"":(""+se.key).replace(J,"$&/")+"/")+he)),P.push(se)),1;he=0;var ve=Z===""?".":Z+":";if(q(Y))for(var be=0;be<Y.length;be++)Z=Y[be],ue=ve+ne(Z,be),he+=re(Z,P,z,ue,se);else if(be=v(Y),typeof be=="function")for(Y=be.call(Y),be=0;!(Z=Y.next()).done;)Z=Z.value,ue=ve+ne(Z,be++),he+=re(Z,P,z,ue,se);else if(ue==="object"){if(typeof Y.then=="function")return re(we(Y),P,z,Z,se);throw P=String(Y),Error("Objects are not valid as a React child (found: "+(P==="[object Object]"?"object with keys {"+Object.keys(Y).join(", ")+"}":P)+"). If you meant to render a collection of children, use an array instead.")}return he}function le(Y,P,z){if(Y==null)return Y;var Z=[],se=0;return re(Y,Z,"","",function(ue){return P.call(z,ue,se++)}),Z}function ce(Y){if(Y._status===-1){var P=Y._result;P=P(),P.then(function(z){(Y._status===0||Y._status===-1)&&(Y._status=1,Y._result=z)},function(z){(Y._status===0||Y._status===-1)&&(Y._status=2,Y._result=z)}),Y._status===-1&&(Y._status=0,Y._result=P)}if(Y._status===1)return Y._result.default;throw Y._result}var me=typeof reportError=="function"?reportError:function(Y){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var P=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof Y=="object"&&Y!==null&&typeof Y.message=="string"?String(Y.message):String(Y),error:Y});if(!window.dispatchEvent(P))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",Y);return}console.error(Y)},Re={map:le,forEach:function(Y,P,z){le(Y,function(){P.apply(this,arguments)},z)},count:function(Y){var P=0;return le(Y,function(){P++}),P},toArray:function(Y){return le(Y,function(P){return P})||[]},only:function(Y){if(!k(Y))throw Error("React.Children.only expected to receive a single React element child.");return Y}};return Wt.Activity=g,Wt.Children=Re,Wt.Component=A,Wt.Fragment=n,Wt.Profiler=a,Wt.PureComponent=M,Wt.StrictMode=r,Wt.Suspense=d,Wt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=W,Wt.__COMPILER_RUNTIME={__proto__:null,c:function(Y){return W.H.useMemoCache(Y)}},Wt.cache=function(Y){return function(){return Y.apply(null,arguments)}},Wt.cacheSignal=function(){return null},Wt.cloneElement=function(Y,P,z){if(Y==null)throw Error("The argument must be a React element, but you passed "+Y+".");var Z=C({},Y.props),se=Y.key;if(P!=null)for(ue in P.key!==void 0&&(se=""+P.key),P)!R.call(P,ue)||ue==="key"||ue==="__self"||ue==="__source"||ue==="ref"&&P.ref===void 0||(Z[ue]=P[ue]);var ue=arguments.length-2;if(ue===1)Z.children=z;else if(1<ue){for(var he=Array(ue),ve=0;ve<ue;ve++)he[ve]=arguments[ve+2];Z.children=he}return L(Y.type,se,Z)},Wt.createContext=function(Y){return Y={$$typeof:l,_currentValue:Y,_currentValue2:Y,_threadCount:0,Provider:null,Consumer:null},Y.Provider=Y,Y.Consumer={$$typeof:s,_context:Y},Y},Wt.createElement=function(Y,P,z){var Z,se={},ue=null;if(P!=null)for(Z in P.key!==void 0&&(ue=""+P.key),P)R.call(P,Z)&&Z!=="key"&&Z!=="__self"&&Z!=="__source"&&(se[Z]=P[Z]);var he=arguments.length-2;if(he===1)se.children=z;else if(1<he){for(var ve=Array(he),be=0;be<he;be++)ve[be]=arguments[be+2];se.children=ve}if(Y&&Y.defaultProps)for(Z in he=Y.defaultProps,he)se[Z]===void 0&&(se[Z]=he[Z]);return L(Y,ue,se)},Wt.createRef=function(){return{current:null}},Wt.forwardRef=function(Y){return{$$typeof:u,render:Y}},Wt.isValidElement=k,Wt.lazy=function(Y){return{$$typeof:p,_payload:{_status:-1,_result:Y},_init:ce}},Wt.memo=function(Y,P){return{$$typeof:f,type:Y,compare:P===void 0?null:P}},Wt.startTransition=function(Y){var P=W.T,z={};W.T=z;try{var Z=Y(),se=W.S;se!==null&&se(z,Z),typeof Z=="object"&&Z!==null&&typeof Z.then=="function"&&Z.then(V,me)}catch(ue){me(ue)}finally{P!==null&&z.types!==null&&(P.types=z.types),W.T=P}},Wt.unstable_useCacheRefresh=function(){return W.H.useCacheRefresh()},Wt.use=function(Y){return W.H.use(Y)},Wt.useActionState=function(Y,P,z){return W.H.useActionState(Y,P,z)},Wt.useCallback=function(Y,P){return W.H.useCallback(Y,P)},Wt.useContext=function(Y){return W.H.useContext(Y)},Wt.useDebugValue=function(){},Wt.useDeferredValue=function(Y,P){return W.H.useDeferredValue(Y,P)},Wt.useEffect=function(Y,P){return W.H.useEffect(Y,P)},Wt.useEffectEvent=function(Y){return W.H.useEffectEvent(Y)},Wt.useId=function(){return W.H.useId()},Wt.useImperativeHandle=function(Y,P,z){return W.H.useImperativeHandle(Y,P,z)},Wt.useInsertionEffect=function(Y,P){return W.H.useInsertionEffect(Y,P)},Wt.useLayoutEffect=function(Y,P){return W.H.useLayoutEffect(Y,P)},Wt.useMemo=function(Y,P){return W.H.useMemo(Y,P)},Wt.useOptimistic=function(Y,P){return W.H.useOptimistic(Y,P)},Wt.useReducer=function(Y,P,z){return W.H.useReducer(Y,P,z)},Wt.useRef=function(Y){return W.H.useRef(Y)},Wt.useState=function(Y){return W.H.useState(Y)},Wt.useSyncExternalStore=function(Y,P,z){return W.H.useSyncExternalStore(Y,P,z)},Wt.useTransition=function(){return W.H.useTransition()},Wt.version="19.2.3",Wt}var Z5;function $m(){return Z5||(Z5=1,Ng.exports=EC()),Ng.exports}var X=$m();const Ar=Th(X);var Eg={exports:{}},Bf={},Cg={exports:{}},Tg={};var ew;function CC(){return ew||(ew=1,(function(t){function e(re,le){var ce=re.length;re.push(le);e:for(;0<ce;){var me=ce-1>>>1,Re=re[me];if(0<a(Re,le))re[me]=le,re[ce]=Re,ce=me;else break e}}function n(re){return re.length===0?null:re[0]}function r(re){if(re.length===0)return null;var le=re[0],ce=re.pop();if(ce!==le){re[0]=ce;e:for(var me=0,Re=re.length,Y=Re>>>1;me<Y;){var P=2*(me+1)-1,z=re[P],Z=P+1,se=re[Z];if(0>a(z,ce))Z<Re&&0>a(se,z)?(re[me]=se,re[Z]=ce,me=Z):(re[me]=z,re[P]=ce,me=P);else if(Z<Re&&0>a(se,ce))re[me]=se,re[Z]=ce,me=Z;else break e}}return le}function a(re,le){var ce=re.sortIndex-le.sortIndex;return ce!==0?ce:re.id-le.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var l=Date,u=l.now();t.unstable_now=function(){return l.now()-u}}var d=[],f=[],p=1,g=null,y=3,v=!1,N=!1,C=!1,T=!1,A=typeof setTimeout=="function"?setTimeout:null,D=typeof clearTimeout=="function"?clearTimeout:null,M=typeof setImmediate<"u"?setImmediate:null;function B(re){for(var le=n(f);le!==null;){if(le.callback===null)r(f);else if(le.startTime<=re)r(f),le.sortIndex=le.expirationTime,e(d,le);else break;le=n(f)}}function q(re){if(C=!1,B(re),!N)if(n(d)!==null)N=!0,V||(V=!0,I());else{var le=n(f);le!==null&&we(q,le.startTime-re)}}var V=!1,W=-1,R=5,L=-1;function $(){return T?!0:!(t.unstable_now()-L<R)}function k(){if(T=!1,V){var re=t.unstable_now();L=re;var le=!0;try{e:{N=!1,C&&(C=!1,D(W),W=-1),v=!0;var ce=y;try{t:{for(B(re),g=n(d);g!==null&&!(g.expirationTime>re&&$());){var me=g.callback;if(typeof me=="function"){g.callback=null,y=g.priorityLevel;var Re=me(g.expirationTime<=re);if(re=t.unstable_now(),typeof Re=="function"){g.callback=Re,B(re),le=!0;break t}g===n(d)&&r(d),B(re)}else r(d);g=n(d)}if(g!==null)le=!0;else{var Y=n(f);Y!==null&&we(q,Y.startTime-re),le=!1}}break e}finally{g=null,y=ce,v=!1}le=void 0}}finally{le?I():V=!1}}}var I;if(typeof M=="function")I=function(){M(k)};else if(typeof MessageChannel<"u"){var J=new MessageChannel,ne=J.port2;J.port1.onmessage=k,I=function(){ne.postMessage(null)}}else I=function(){A(k,0)};function we(re,le){W=A(function(){re(t.unstable_now())},le)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(re){re.callback=null},t.unstable_forceFrameRate=function(re){0>re||125<re?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<re?Math.floor(1e3/re):5},t.unstable_getCurrentPriorityLevel=function(){return y},t.unstable_next=function(re){switch(y){case 1:case 2:case 3:var le=3;break;default:le=y}var ce=y;y=le;try{return re()}finally{y=ce}},t.unstable_requestPaint=function(){T=!0},t.unstable_runWithPriority=function(re,le){switch(re){case 1:case 2:case 3:case 4:case 5:break;default:re=3}var ce=y;y=re;try{return le()}finally{y=ce}},t.unstable_scheduleCallback=function(re,le,ce){var me=t.unstable_now();switch(typeof ce=="object"&&ce!==null?(ce=ce.delay,ce=typeof ce=="number"&&0<ce?me+ce:me):ce=me,re){case 1:var Re=-1;break;case 2:Re=250;break;case 5:Re=1073741823;break;case 4:Re=1e4;break;default:Re=5e3}return Re=ce+Re,re={id:p++,callback:le,priorityLevel:re,startTime:ce,expirationTime:Re,sortIndex:-1},ce>me?(re.sortIndex=ce,e(f,re),n(d)===null&&re===n(f)&&(C?(D(W),W=-1):C=!0,we(q,ce-me))):(re.sortIndex=Re,e(d,re),N||v||(N=!0,V||(V=!0,I()))),re},t.unstable_shouldYield=$,t.unstable_wrapCallback=function(re){var le=y;return function(){var ce=y;y=le;try{return re.apply(this,arguments)}finally{y=ce}}}})(Tg)),Tg}var tw;function TC(){return tw||(tw=1,Cg.exports=CC()),Cg.exports}var jg={exports:{}},Ai={};var nw;function jC(){if(nw)return Ai;nw=1;var t=$m();function e(d){var f="https://react.dev/errors/"+d;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)f+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+d+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function s(d,f,p){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:g==null?null:""+g,children:d,containerInfo:f,implementation:p}}var l=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(d,f){if(d==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return Ai.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Ai.createPortal=function(d,f){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(e(299));return s(d,f,null,p)},Ai.flushSync=function(d){var f=l.T,p=r.p;try{if(l.T=null,r.p=2,d)return d()}finally{l.T=f,r.p=p,r.d.f()}},Ai.preconnect=function(d,f){typeof d=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,r.d.C(d,f))},Ai.prefetchDNS=function(d){typeof d=="string"&&r.d.D(d)},Ai.preinit=function(d,f){if(typeof d=="string"&&f&&typeof f.as=="string"){var p=f.as,g=u(p,f.crossOrigin),y=typeof f.integrity=="string"?f.integrity:void 0,v=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;p==="style"?r.d.S(d,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:g,integrity:y,fetchPriority:v}):p==="script"&&r.d.X(d,{crossOrigin:g,integrity:y,fetchPriority:v,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},Ai.preinitModule=function(d,f){if(typeof d=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var p=u(f.as,f.crossOrigin);r.d.M(d,{crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&r.d.M(d)},Ai.preload=function(d,f){if(typeof d=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var p=f.as,g=u(p,f.crossOrigin);r.d.L(d,p,{crossOrigin:g,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},Ai.preloadModule=function(d,f){if(typeof d=="string")if(f){var p=u(f.as,f.crossOrigin);r.d.m(d,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else r.d.m(d)},Ai.requestFormReset=function(d){r.d.r(d)},Ai.unstable_batchedUpdates=function(d,f){return d(f)},Ai.useFormState=function(d,f,p){return l.H.useFormState(d,f,p)},Ai.useFormStatus=function(){return l.H.useHostTransitionStatus()},Ai.version="19.2.3",Ai}var rw;function BS(){if(rw)return jg.exports;rw=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),jg.exports=jC(),jg.exports}var iw;function kC(){if(iw)return Bf;iw=1;var t=TC(),e=$m(),n=BS();function r(i){var o="https://react.dev/errors/"+i;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)o+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+i+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function s(i){var o=i,c=i;if(i.alternate)for(;o.return;)o=o.return;else{i=o;do o=i,(o.flags&4098)!==0&&(c=o.return),i=o.return;while(i)}return o.tag===3?c:null}function l(i){if(i.tag===13){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function u(i){if(i.tag===31){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function d(i){if(s(i)!==i)throw Error(r(188))}function f(i){var o=i.alternate;if(!o){if(o=s(i),o===null)throw Error(r(188));return o!==i?null:i}for(var c=i,h=o;;){var b=c.return;if(b===null)break;var _=b.alternate;if(_===null){if(h=b.return,h!==null){c=h;continue}break}if(b.child===_.child){for(_=b.child;_;){if(_===c)return d(b),i;if(_===h)return d(b),o;_=_.sibling}throw Error(r(188))}if(c.return!==h.return)c=b,h=_;else{for(var O=!1,K=b.child;K;){if(K===c){O=!0,c=b,h=_;break}if(K===h){O=!0,h=b,c=_;break}K=K.sibling}if(!O){for(K=_.child;K;){if(K===c){O=!0,c=_,h=b;break}if(K===h){O=!0,h=_,c=b;break}K=K.sibling}if(!O)throw Error(r(189))}}if(c.alternate!==h)throw Error(r(190))}if(c.tag!==3)throw Error(r(188));return c.stateNode.current===c?i:o}function p(i){var o=i.tag;if(o===5||o===26||o===27||o===6)return i;for(i=i.child;i!==null;){if(o=p(i),o!==null)return o;i=i.sibling}return null}var g=Object.assign,y=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),N=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),D=Symbol.for("react.consumer"),M=Symbol.for("react.context"),B=Symbol.for("react.forward_ref"),q=Symbol.for("react.suspense"),V=Symbol.for("react.suspense_list"),W=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),L=Symbol.for("react.activity"),$=Symbol.for("react.memo_cache_sentinel"),k=Symbol.iterator;function I(i){return i===null||typeof i!="object"?null:(i=k&&i[k]||i["@@iterator"],typeof i=="function"?i:null)}var J=Symbol.for("react.client.reference");function ne(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===J?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case C:return"Fragment";case A:return"Profiler";case T:return"StrictMode";case q:return"Suspense";case V:return"SuspenseList";case L:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case N:return"Portal";case M:return i.displayName||"Context";case D:return(i._context.displayName||"Context")+".Consumer";case B:var o=i.render;return i=i.displayName,i||(i=o.displayName||o.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case W:return o=i.displayName||null,o!==null?o:ne(i.type)||"Memo";case R:o=i._payload,i=i._init;try{return ne(i(o))}catch{}}return null}var we=Array.isArray,re=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ce={pending:!1,data:null,method:null,action:null},me=[],Re=-1;function Y(i){return{current:i}}function P(i){0>Re||(i.current=me[Re],me[Re]=null,Re--)}function z(i,o){Re++,me[Re]=i.current,i.current=o}var Z=Y(null),se=Y(null),ue=Y(null),he=Y(null);function ve(i,o){switch(z(ue,o),z(se,i),z(Z,null),o.nodeType){case 9:case 11:i=(i=o.documentElement)&&(i=i.namespaceURI)?b5(i):0;break;default:if(i=o.tagName,o=o.namespaceURI)o=b5(o),i=w5(o,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}P(Z),z(Z,i)}function be(){P(Z),P(se),P(ue)}function je(i){i.memoizedState!==null&&z(he,i);var o=Z.current,c=w5(o,i.type);o!==c&&(z(se,i),z(Z,c))}function Oe(i){se.current===i&&(P(Z),P(se)),he.current===i&&(P(he),Rf._currentValue=ce)}var qe,Qe;function nt(i){if(qe===void 0)try{throw Error()}catch(c){var o=c.stack.trim().match(/\n( *(at )?)/);qe=o&&o[1]||"",Qe=-1<c.stack.indexOf(`
    at`)?" (<anonymous>)":-1<c.stack.indexOf("@")?"@unknown:0:0":""}return`
`+qe+i+Qe}var ee=!1;function $e(i,o){if(!i||ee)return"";ee=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var h={DetermineComponentFrameRoot:function(){try{if(o){var We=function(){throw Error()};if(Object.defineProperty(We.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(We,[])}catch(De){var Le=De}Reflect.construct(i,[],We)}else{try{We.call()}catch(De){Le=De}i.call(We.prototype)}}else{try{throw Error()}catch(De){Le=De}(We=i())&&typeof We.catch=="function"&&We.catch(function(){})}}catch(De){if(De&&Le&&typeof De.stack=="string")return[De.stack,Le.stack]}return[null,null]}};h.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var b=Object.getOwnPropertyDescriptor(h.DetermineComponentFrameRoot,"name");b&&b.configurable&&Object.defineProperty(h.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var _=h.DetermineComponentFrameRoot(),O=_[0],K=_[1];if(O&&K){var fe=O.split(`
`),ke=K.split(`
`);for(b=h=0;h<fe.length&&!fe[h].includes("DetermineComponentFrameRoot");)h++;for(;b<ke.length&&!ke[b].includes("DetermineComponentFrameRoot");)b++;if(h===fe.length||b===ke.length)for(h=fe.length-1,b=ke.length-1;1<=h&&0<=b&&fe[h]!==ke[b];)b--;for(;1<=h&&0<=b;h--,b--)if(fe[h]!==ke[b]){if(h!==1||b!==1)do if(h--,b--,0>b||fe[h]!==ke[b]){var Fe=`
`+fe[h].replace(" at new "," at ");return i.displayName&&Fe.includes("<anonymous>")&&(Fe=Fe.replace("<anonymous>",i.displayName)),Fe}while(1<=h&&0<=b);break}}}finally{ee=!1,Error.prepareStackTrace=c}return(c=i?i.displayName||i.name:"")?nt(c):""}function St(i,o){switch(i.tag){case 26:case 27:case 5:return nt(i.type);case 16:return nt("Lazy");case 13:return i.child!==o&&o!==null?nt("Suspense Fallback"):nt("Suspense");case 19:return nt("SuspenseList");case 0:case 15:return $e(i.type,!1);case 11:return $e(i.type.render,!1);case 1:return $e(i.type,!0);case 31:return nt("Activity");default:return""}}function tt(i){try{var o="",c=null;do o+=St(i,c),c=i,i=i.return;while(i);return o}catch(h){return`
Error generating stack: `+h.message+`
`+h.stack}}var Me=Object.prototype.hasOwnProperty,de=t.unstable_scheduleCallback,Ne=t.unstable_cancelCallback,Ke=t.unstable_shouldYield,Ge=t.unstable_requestPaint,He=t.unstable_now,Ie=t.unstable_getCurrentPriorityLevel,Je=t.unstable_ImmediatePriority,ot=t.unstable_UserBlockingPriority,ct=t.unstable_NormalPriority,Ze=t.unstable_LowPriority,ht=t.unstable_IdlePriority,it=t.log,Qt=t.unstable_setDisableYieldValue,kt=null,rt=null;function lt(i){if(typeof it=="function"&&Qt(i),rt&&typeof rt.setStrictMode=="function")try{rt.setStrictMode(kt,i)}catch{}}var Dt=Math.clz32?Math.clz32:_t,ft=Math.log,Zt=Math.LN2;function _t(i){return i>>>=0,i===0?32:31-(ft(i)/Zt|0)|0}var Et=256,Xt=262144,Lt=4194304;function pt(i){var o=i&42;if(o!==0)return o;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Ht(i,o,c){var h=i.pendingLanes;if(h===0)return 0;var b=0,_=i.suspendedLanes,O=i.pingedLanes;i=i.warmLanes;var K=h&134217727;return K!==0?(h=K&~_,h!==0?b=pt(h):(O&=K,O!==0?b=pt(O):c||(c=K&~i,c!==0&&(b=pt(c))))):(K=h&~_,K!==0?b=pt(K):O!==0?b=pt(O):c||(c=h&~i,c!==0&&(b=pt(c)))),b===0?0:o!==0&&o!==b&&(o&_)===0&&(_=b&-b,c=o&-o,_>=c||_===32&&(c&4194048)!==0)?o:b}function ki(i,o){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&o)===0}function Rr(i,o){switch(i){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ia(){var i=Lt;return Lt<<=1,(Lt&62914560)===0&&(Lt=4194304),i}function $i(i){for(var o=[],c=0;31>c;c++)o.push(i);return o}function Tt(i,o){i.pendingLanes|=o,o!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function fs(i,o,c,h,b,_){var O=i.pendingLanes;i.pendingLanes=c,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=c,i.entangledLanes&=c,i.errorRecoveryDisabledLanes&=c,i.shellSuspendCounter=0;var K=i.entanglements,fe=i.expirationTimes,ke=i.hiddenUpdates;for(c=O&~c;0<c;){var Fe=31-Dt(c),We=1<<Fe;K[Fe]=0,fe[Fe]=-1;var Le=ke[Fe];if(Le!==null)for(ke[Fe]=null,Fe=0;Fe<Le.length;Fe++){var De=Le[Fe];De!==null&&(De.lane&=-536870913)}c&=~We}h!==0&&Fa(i,h,0),_!==0&&b===0&&i.tag!==0&&(i.suspendedLanes|=_&~(O&~o))}function Fa(i,o,c){i.pendingLanes|=o,i.suspendedLanes&=~o;var h=31-Dt(o);i.entangledLanes|=o,i.entanglements[h]=i.entanglements[h]|1073741824|c&261930}function Li(i,o){var c=i.entangledLanes|=o;for(i=i.entanglements;c;){var h=31-Dt(c),b=1<<h;b&o|i[h]&o&&(i[h]|=o),c&=~b}}function Ri(i,o){var c=o&-o;return c=(c&42)!==0?1:qn(c),(c&(i.suspendedLanes|o))!==0?0:c}function qn(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function fr(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Or(){var i=le.p;return i!==0?i:(i=window.event,i===void 0?32:V5(i.type))}function Js(i,o){var c=le.p;try{return le.p=i,o()}finally{le.p=c}}var li=Math.random().toString(36).slice(2),En="__reactFiber$"+li,Hn="__reactProps$"+li,Qr="__reactContainer$"+li,Oi="__reactEvents$"+li,Gi="__reactListeners$"+li,To="__reactHandles$"+li,fa="__reactResources$"+li,ha="__reactMarker$"+li;function Qs(i){delete i[En],delete i[Hn],delete i[Oi],delete i[Gi],delete i[To]}function pa(i){var o=i[En];if(o)return o;for(var c=i.parentNode;c;){if(o=c[Qr]||c[En]){if(c=o.alternate,o.child!==null||c!==null&&c.child!==null)for(i=C5(i);i!==null;){if(c=i[En])return c;i=C5(i)}return o}i=c,c=i.parentNode}return null}function ma(i){if(i=i[En]||i[Qr]){var o=i.tag;if(o===5||o===6||o===13||o===31||o===26||o===27||o===3)return i}return null}function jo(i){var o=i.tag;if(o===5||o===26||o===27||o===6)return i.stateNode;throw Error(r(33))}function Ua(i){var o=i[fa];return o||(o=i[fa]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function ir(i){i[ha]=!0}var hc=new Set,Di={};function ga(i,o){hs(i,o),hs(i+"Capture",o)}function hs(i,o){for(Di[i]=o,i=0;i<o.length;i++)hc.add(o[i])}var pc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),mc={},gc={};function yu(i){return Me.call(gc,i)?!0:Me.call(mc,i)?!1:pc.test(i)?gc[i]=!0:(mc[i]=!0,!1)}function Pi(i,o,c){if(yu(o))if(c===null)i.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":i.removeAttribute(o);return;case"boolean":var h=o.toLowerCase().slice(0,5);if(h!=="data-"&&h!=="aria-"){i.removeAttribute(o);return}}i.setAttribute(o,""+c)}}function ps(i,o,c){if(c===null)i.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttribute(o,""+c)}}function va(i,o,c,h){if(h===null)i.removeAttribute(c);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(c);return}i.setAttributeNS(o,c,""+h)}}function vn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function vc(i){var o=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function za(i,o,c){var h=Object.getOwnPropertyDescriptor(i.constructor.prototype,o);if(!i.hasOwnProperty(o)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var b=h.get,_=h.set;return Object.defineProperty(i,o,{configurable:!0,get:function(){return b.call(this)},set:function(O){c=""+O,_.call(this,O)}}),Object.defineProperty(i,o,{enumerable:h.enumerable}),{getValue:function(){return c},setValue:function(O){c=""+O},stopTracking:function(){i._valueTracker=null,delete i[o]}}}}function Zs(i){if(!i._valueTracker){var o=vc(i)?"checked":"value";i._valueTracker=za(i,o,""+i[o])}}function yc(i){if(!i)return!1;var o=i._valueTracker;if(!o)return!0;var c=o.getValue(),h="";return i&&(h=vc(i)?i.checked?"true":"false":i.value),i=h,i!==c?(o.setValue(i),!0):!1}function ci(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var Nr=/[\n"\\]/g;function hr(i){return i.replace(Nr,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function ml(i,o,c,h,b,_,O,K){i.name="",O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"?i.type=O:i.removeAttribute("type"),o!=null?O==="number"?(o===0&&i.value===""||i.value!=o)&&(i.value=""+vn(o)):i.value!==""+vn(o)&&(i.value=""+vn(o)):O!=="submit"&&O!=="reset"||i.removeAttribute("value"),o!=null?bc(i,O,vn(o)):c!=null?bc(i,O,vn(c)):h!=null&&i.removeAttribute("value"),b==null&&_!=null&&(i.defaultChecked=!!_),b!=null&&(i.checked=b&&typeof b!="function"&&typeof b!="symbol"),K!=null&&typeof K!="function"&&typeof K!="symbol"&&typeof K!="boolean"?i.name=""+vn(K):i.removeAttribute("name")}function bu(i,o,c,h,b,_,O,K){if(_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(i.type=_),o!=null||c!=null){if(!(_!=="submit"&&_!=="reset"||o!=null)){Zs(i);return}c=c!=null?""+vn(c):"",o=o!=null?""+vn(o):c,K||o===i.value||(i.value=o),i.defaultValue=o}h=h??b,h=typeof h!="function"&&typeof h!="symbol"&&!!h,i.checked=K?i.checked:!!h,i.defaultChecked=!!h,O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"&&(i.name=O),Zs(i)}function bc(i,o,c){o==="number"&&ci(i.ownerDocument)===i||i.defaultValue===""+c||(i.defaultValue=""+c)}function ui(i,o,c,h){if(i=i.options,o){o={};for(var b=0;b<c.length;b++)o["$"+c[b]]=!0;for(c=0;c<i.length;c++)b=o.hasOwnProperty("$"+i[c].value),i[c].selected!==b&&(i[c].selected=b),b&&h&&(i[c].defaultSelected=!0)}else{for(c=""+vn(c),o=null,b=0;b<i.length;b++){if(i[b].value===c){i[b].selected=!0,h&&(i[b].defaultSelected=!0);return}o!==null||i[b].disabled||(o=i[b])}o!==null&&(o.selected=!0)}}function wc(i,o,c){if(o!=null&&(o=""+vn(o),o!==i.value&&(i.value=o),c==null)){i.defaultValue!==o&&(i.defaultValue=o);return}i.defaultValue=c!=null?""+vn(c):""}function xc(i,o,c,h){if(o==null){if(h!=null){if(c!=null)throw Error(r(92));if(we(h)){if(1<h.length)throw Error(r(93));h=h[0]}c=h}c==null&&(c=""),o=c}c=vn(o),i.defaultValue=c,h=i.textContent,h===c&&h!==""&&h!==null&&(i.value=h),Zs(i)}function ya(i,o){if(o){var c=i.firstChild;if(c&&c===i.lastChild&&c.nodeType===3){c.nodeValue=o;return}}i.textContent=o}var ko=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function wu(i,o,c){var h=o.indexOf("--")===0;c==null||typeof c=="boolean"||c===""?h?i.setProperty(o,""):o==="float"?i.cssFloat="":i[o]="":h?i.setProperty(o,c):typeof c!="number"||c===0||ko.has(o)?o==="float"?i.cssFloat=c:i[o]=(""+c).trim():i[o]=c+"px"}function xu(i,o,c){if(o!=null&&typeof o!="object")throw Error(r(62));if(i=i.style,c!=null){for(var h in c)!c.hasOwnProperty(h)||o!=null&&o.hasOwnProperty(h)||(h.indexOf("--")===0?i.setProperty(h,""):h==="float"?i.cssFloat="":i[h]="");for(var b in o)h=o[b],o.hasOwnProperty(b)&&c[b]!==h&&wu(i,b,h)}else for(var _ in o)o.hasOwnProperty(_)&&wu(i,_,o[_])}function _c(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Sc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),_u=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function xi(i){return _u.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function ba(){}var ms=null;function Lo(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var eo=null,Pt=null;function Su(i){var o=ma(i);if(o&&(i=o.stateNode)){var c=i[Hn]||null;e:switch(i=o.stateNode,o.type){case"input":if(ml(i,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name),o=c.name,c.type==="radio"&&o!=null){for(c=i;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll('input[name="'+hr(""+o)+'"][type="radio"]'),o=0;o<c.length;o++){var h=c[o];if(h!==i&&h.form===i.form){var b=h[Hn]||null;if(!b)throw Error(r(90));ml(h,b.value,b.defaultValue,b.defaultValue,b.checked,b.defaultChecked,b.type,b.name)}}for(o=0;o<c.length;o++)h=c[o],h.form===i.form&&yc(h)}break e;case"textarea":wc(i,c.value,c.defaultValue);break e;case"select":o=c.value,o!=null&&ui(i,!!c.multiple,o,!1)}}}var Ac=!1;function Au(i,o,c){if(Ac)return i(o,c);Ac=!0;try{var h=i(o);return h}finally{if(Ac=!1,(eo!==null||Pt!==null)&&(up(),eo&&(o=eo,i=Pt,Pt=eo=null,Su(o),i)))for(o=0;o<i.length;o++)Su(i[o])}}function Mi(i,o){var c=i.stateNode;if(c===null)return null;var h=c[Hn]||null;if(h===null)return null;c=h[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(i=i.type,h=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!h;break e;default:i=!1}if(i)return null;if(c&&typeof c!="function")throw Error(r(231,o,typeof c));return c}var zr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Nc=!1;if(zr)try{var Ro={};Object.defineProperty(Ro,"passive",{get:function(){Nc=!0}}),window.addEventListener("test",Ro,Ro),window.removeEventListener("test",Ro,Ro)}catch{Nc=!1}var Bi=null,Oo=null,qa=null;function Nu(){if(qa)return qa;var i,o=Oo,c=o.length,h,b="value"in Bi?Bi.value:Bi.textContent,_=b.length;for(i=0;i<c&&o[i]===b[i];i++);var O=c-i;for(h=1;h<=O&&o[c-h]===b[_-h];h++);return qa=b.slice(i,1<h?1-h:void 0)}function Wi(i){var o=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&o===13&&(i=13)):i=o,i===10&&(i=13),32<=i||i===13?i:0}function gl(){return!0}function vl(){return!1}function Dr(i){function o(c,h,b,_,O){this._reactName=c,this._targetInst=b,this.type=h,this.nativeEvent=_,this.target=O,this.currentTarget=null;for(var K in i)i.hasOwnProperty(K)&&(c=i[K],this[K]=c?c(_):_[K]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?gl:vl,this.isPropagationStopped=vl,this}return g(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=gl)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=gl)},persist:function(){},isPersistent:gl}),o}var Va={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Yi=Dr(Va),gs=g({},Va,{view:0,detail:0}),yl=Dr(gs),Do,vs,ys,Po=g({},gs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:It,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==ys&&(ys&&i.type==="mousemove"?(Do=i.screenX-ys.screenX,vs=i.screenY-ys.screenY):vs=Do=0,ys=i),Do)},movementY:function(i){return"movementY"in i?i.movementY:vs}}),Ec=Dr(Po),bs=g({},Po,{dataTransfer:0}),ws=Dr(bs),Eu=g({},gs,{relatedTarget:0}),xs=Dr(Eu),Cu=g({},Va,{animationName:0,elapsedTime:0,pseudoElement:0}),S=Dr(Cu),F=g({},Va,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),oe=Dr(F),pe=g({},Va,{data:0}),_e=Dr(pe),Ue={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Xe={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},gt={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function wt(i){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(i):(i=gt[i])?!!o[i]:!1}function It(){return wt}var $t=g({},gs,{key:function(i){if(i.key){var o=Ue[i.key]||i.key;if(o!=="Unidentified")return o}return i.type==="keypress"?(i=Wi(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Xe[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:It,charCode:function(i){return i.type==="keypress"?Wi(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Wi(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),un=Dr($t),$n=g({},Po,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ar=Dr($n),Rn=g({},gs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:It}),Er=Dr(Rn),pr=g({},Va,{propertyName:0,elapsedTime:0,pseudoElement:0}),qr=Dr(pr),_s=g({},Po,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),wa=Dr(_s),Ss=g({},Va,{newState:0,oldState:0}),Cc=Dr(Ss),bl=[9,13,27,32],Ha=zr&&"CompositionEvent"in window,xa=null;zr&&"documentMode"in document&&(xa=document.documentMode);var Mo=zr&&"TextEvent"in window&&!xa,As=zr&&(!Ha||xa&&8<xa&&11>=xa),Pr=" ",to=!1;function no(i,o){switch(i){case"keyup":return bl.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function wl(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var $a=!1;function di(i,o){switch(i){case"compositionend":return wl(o);case"keypress":return o.which!==32?null:(to=!0,Pr);case"textInput":return i=o.data,i===Pr&&to?null:i;default:return null}}function Ns(i,o){if($a)return i==="compositionend"||!Ha&&no(i,o)?(i=Nu(),qa=Oo=Bi=null,$a=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return As&&o.locale!=="ko"?null:o.data;default:return null}}var xl={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Tc(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o==="input"?!!xl[i.type]:o==="textarea"}function Ii(i,o,c,h){eo?Pt?Pt.push(h):Pt=[h]:eo=h,o=vp(o,"onChange"),0<o.length&&(c=new Yi("onChange","change",null,c,h),i.push({event:c,listeners:o}))}var _a=null,Es=null;function jc(i){h5(i,0)}function Sa(i){var o=jo(i);if(yc(o))return i}function ro(i,o){if(i==="change")return o}var _i=!1;if(zr){var fi;if(zr){var Ga="oninput"in document;if(!Ga){var Wa=document.createElement("div");Wa.setAttribute("oninput","return;"),Ga=typeof Wa.oninput=="function"}fi=Ga}else fi=!1;_i=fi&&(!document.documentMode||9<document.documentMode)}function Cs(){_a&&(_a.detachEvent("onpropertychange",_l),Es=_a=null)}function _l(i){if(i.propertyName==="value"&&Sa(Es)){var o=[];Ii(o,Es,i,Lo(i)),Au(jc,o)}}function Sl(i,o,c){i==="focusin"?(Cs(),_a=o,Es=c,_a.attachEvent("onpropertychange",_l)):i==="focusout"&&Cs()}function sr(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Sa(Es)}function Tu(i,o){if(i==="click")return Sa(o)}function Ya(i,o){if(i==="input"||i==="change")return Sa(o)}function Ka(i,o){return i===o&&(i!==0||1/i===1/o)||i!==i&&o!==o}var Vr=typeof Object.is=="function"?Object.is:Ka;function Ts(i,o){if(Vr(i,o))return!0;if(typeof i!="object"||i===null||typeof o!="object"||o===null)return!1;var c=Object.keys(i),h=Object.keys(o);if(c.length!==h.length)return!1;for(h=0;h<c.length;h++){var b=c[h];if(!Me.call(o,b)||!Vr(i[b],o[b]))return!1}return!0}function Al(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Nl(i,o){var c=Al(i);i=0;for(var h;c;){if(c.nodeType===3){if(h=i+c.textContent.length,i<=o&&h>=o)return{node:c,offset:o-i};i=h}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=Al(c)}}function js(i,o){return i&&o?i===o?!0:i&&i.nodeType===3?!1:o&&o.nodeType===3?js(i,o.parentNode):"contains"in i?i.contains(o):i.compareDocumentPosition?!!(i.compareDocumentPosition(o)&16):!1:!1}function ks(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var o=ci(i.document);o instanceof i.HTMLIFrameElement;){try{var c=typeof o.contentWindow.location.href=="string"}catch{c=!1}if(c)i=o.contentWindow;else break;o=ci(i.document)}return o}function Xa(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o&&(o==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||o==="textarea"||i.contentEditable==="true")}var Bo=zr&&"documentMode"in document&&11>=document.documentMode,Fi=null,Ls=null,Zr=null,Ki=!1;function yn(i,o,c){var h=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;Ki||Fi==null||Fi!==ci(h)||(h=Fi,"selectionStart"in h&&Xa(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),Zr&&Ts(Zr,h)||(Zr=h,h=vp(Ls,"onSelect"),0<h.length&&(o=new Yi("onSelect","select",null,o,c),i.push({event:o,listeners:h}),o.target=Fi)))}function dn(i,o){var c={};return c[i.toLowerCase()]=o.toLowerCase(),c["Webkit"+i]="webkit"+o,c["Moz"+i]="moz"+o,c}var On={animationend:dn("Animation","AnimationEnd"),animationiteration:dn("Animation","AnimationIteration"),animationstart:dn("Animation","AnimationStart"),transitionrun:dn("Transition","TransitionRun"),transitionstart:dn("Transition","TransitionStart"),transitioncancel:dn("Transition","TransitionCancel"),transitionend:dn("Transition","TransitionEnd")},or={},Ja={};zr&&(Ja=document.createElement("div").style,"AnimationEvent"in window||(delete On.animationend.animation,delete On.animationiteration.animation,delete On.animationstart.animation),"TransitionEvent"in window||delete On.transitionend.transition);function Aa(i){if(or[i])return or[i];if(!On[i])return i;var o=On[i],c;for(c in o)if(o.hasOwnProperty(c)&&c in Ja)return or[i]=o[c];return i}var Io=Aa("animationend"),kc=Aa("animationiteration"),ef=Aa("animationstart"),Uh=Aa("transitionrun"),zh=Aa("transitionstart"),qh=Aa("transitioncancel"),tf=Aa("transitionend"),nf=new Map,Fo="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Fo.push("scrollEnd");function Xi(i,o){nf.set(i,o),ga(o,[i])}var Lc=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},Ui=[],Uo=0,ju=0;function Rc(){for(var i=Uo,o=ju=Uo=0;o<i;){var c=Ui[o];Ui[o++]=null;var h=Ui[o];Ui[o++]=null;var b=Ui[o];Ui[o++]=null;var _=Ui[o];if(Ui[o++]=null,h!==null&&b!==null){var O=h.pending;O===null?b.next=b:(b.next=O.next,O.next=b),h.pending=b}_!==0&&Dc(c,b,_)}}function Oc(i,o,c,h){Ui[Uo++]=i,Ui[Uo++]=o,Ui[Uo++]=c,Ui[Uo++]=h,ju|=h,i.lanes|=h,i=i.alternate,i!==null&&(i.lanes|=h)}function ku(i,o,c,h){return Oc(i,o,c,h),ei(i)}function Rs(i,o){return Oc(i,null,null,o),ei(i)}function Dc(i,o,c){i.lanes|=c;var h=i.alternate;h!==null&&(h.lanes|=c);for(var b=!1,_=i.return;_!==null;)_.childLanes|=c,h=_.alternate,h!==null&&(h.childLanes|=c),_.tag===22&&(i=_.stateNode,i===null||i._visibility&1||(b=!0)),i=_,_=_.return;return i.tag===3?(_=i.stateNode,b&&o!==null&&(b=31-Dt(c),i=_.hiddenUpdates,h=i[b],h===null?i[b]=[o]:h.push(o),o.lane=c|536870912),_):null}function ei(i){if(50<Nf)throw Nf=0,Y0=null,Error(r(185));for(var o=i.return;o!==null;)i=o,o=i.return;return i.tag===3?i.stateNode:null}var Hr={};function Lu(i,o,c,h){this.tag=i,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ti(i,o,c,h){return new Lu(i,o,c,h)}function Ru(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Ji(i,o){var c=i.alternate;return c===null?(c=ti(i.tag,o,i.key,i.mode),c.elementType=i.elementType,c.type=i.type,c.stateNode=i.stateNode,c.alternate=i,i.alternate=c):(c.pendingProps=o,c.type=i.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=i.flags&65011712,c.childLanes=i.childLanes,c.lanes=i.lanes,c.child=i.child,c.memoizedProps=i.memoizedProps,c.memoizedState=i.memoizedState,c.updateQueue=i.updateQueue,o=i.dependencies,c.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},c.sibling=i.sibling,c.index=i.index,c.ref=i.ref,c.refCleanup=i.refCleanup,c}function Pc(i,o){i.flags&=65011714;var c=i.alternate;return c===null?(i.childLanes=0,i.lanes=o,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=c.childLanes,i.lanes=c.lanes,i.child=c.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=c.memoizedProps,i.memoizedState=c.memoizedState,i.updateQueue=c.updateQueue,i.type=c.type,o=c.dependencies,i.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),i}function El(i,o,c,h,b,_){var O=0;if(h=i,typeof i=="function")Ru(i)&&(O=1);else if(typeof i=="string")O=fC(i,c,Z.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case L:return i=ti(31,c,o,b),i.elementType=L,i.lanes=_,i;case C:return io(c.children,b,_,o);case T:O=8,b|=24;break;case A:return i=ti(12,c,o,b|2),i.elementType=A,i.lanes=_,i;case q:return i=ti(13,c,o,b),i.elementType=q,i.lanes=_,i;case V:return i=ti(19,c,o,b),i.elementType=V,i.lanes=_,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case M:O=10;break e;case D:O=9;break e;case B:O=11;break e;case W:O=14;break e;case R:O=16,h=null;break e}O=29,c=Error(r(130,i===null?"null":typeof i,"")),h=null}return o=ti(O,c,o,b),o.elementType=i,o.type=h,o.lanes=_,o}function io(i,o,c,h){return i=ti(7,i,h,o),i.lanes=c,i}function Mc(i,o,c){return i=ti(6,i,null,o),i.lanes=c,i}function Ou(i){var o=ti(18,null,null,0);return o.stateNode=i,o}function Cl(i,o,c){return o=ti(4,i.children!==null?i.children:[],i.key,o),o.lanes=c,o.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},o}var Du=new WeakMap;function Qi(i,o){if(typeof i=="object"&&i!==null){var c=Du.get(i);return c!==void 0?c:(o={value:i,source:o,stack:tt(o)},Du.set(i,o),o)}return{value:i,source:o,stack:tt(o)}}var Tl=[],zo=0,Pu=null,Bc=0,Zi=[],ea=0,ao=null,ta=1,na="";function zi(i,o){Tl[zo++]=Bc,Tl[zo++]=Pu,Pu=i,Bc=o}function Vh(i,o,c){Zi[ea++]=ta,Zi[ea++]=na,Zi[ea++]=ao,ao=i;var h=ta;i=na;var b=32-Dt(h)-1;h&=~(1<<b),c+=1;var _=32-Dt(o)+b;if(30<_){var O=b-b%5;_=(h&(1<<O)-1).toString(32),h>>=O,b-=O,ta=1<<32-Dt(o)+b|c<<b|h,na=_+i}else ta=1<<_|c<<b|h,na=i}function rf(i){i.return!==null&&(zi(i,1),Vh(i,1,0))}function Mu(i){for(;i===Pu;)Pu=Tl[--zo],Tl[zo]=null,Bc=Tl[--zo],Tl[zo]=null;for(;i===ao;)ao=Zi[--ea],Zi[ea]=null,na=Zi[--ea],Zi[ea]=null,ta=Zi[--ea],Zi[ea]=null}function Hh(i,o){Zi[ea++]=ta,Zi[ea++]=na,Zi[ea++]=ao,ta=o.id,na=o.overflow,ao=i}var $r=null,In=null,nn=!1,hi=null,Jn=!1,Na=Error(r(519));function so(i){var o=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw jl(Qi(o,i)),Na}function af(i){var o=i.stateNode,c=i.type,h=i.memoizedProps;switch(o[En]=i,o[Hn]=h,c){case"dialog":an("cancel",o),an("close",o);break;case"iframe":case"object":case"embed":an("load",o);break;case"video":case"audio":for(c=0;c<Cf.length;c++)an(Cf[c],o);break;case"source":an("error",o);break;case"img":case"image":case"link":an("error",o),an("load",o);break;case"details":an("toggle",o);break;case"input":an("invalid",o),bu(o,h.value,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name,!0);break;case"select":an("invalid",o);break;case"textarea":an("invalid",o),xc(o,h.value,h.defaultValue,h.children)}c=h.children,typeof c!="string"&&typeof c!="number"&&typeof c!="bigint"||o.textContent===""+c||h.suppressHydrationWarning===!0||v5(o.textContent,c)?(h.popover!=null&&(an("beforetoggle",o),an("toggle",o)),h.onScroll!=null&&an("scroll",o),h.onScrollEnd!=null&&an("scrollend",o),h.onClick!=null&&(o.onclick=ba),o=!0):o=!1,o||so(i,!0)}function Os(i){for($r=i.return;$r;)switch($r.tag){case 5:case 31:case 13:Jn=!1;return;case 27:case 3:Jn=!0;return;default:$r=$r.return}}function Gr(i){if(i!==$r)return!1;if(!nn)return Os(i),nn=!0,!1;var o=i.tag,c;if((c=o!==3&&o!==27)&&((c=o===5)&&(c=i.type,c=!(c!=="form"&&c!=="button")||cg(i.type,i.memoizedProps)),c=!c),c&&In&&so(i),Os(i),o===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));In=E5(i)}else if(o===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));In=E5(i)}else o===27?(o=In,Vl(i.type)?(i=pg,pg=null,In=i):In=o):In=$r?ts(i.stateNode.nextSibling):null;return!0}function qo(){In=$r=null,nn=!1}function sf(){var i=hi;return i!==null&&(la===null?la=i:la.push.apply(la,i),hi=null),i}function jl(i){hi===null?hi=[i]:hi.push(i)}var Bu=Y(null),oo=null,Qa=null;function lo(i,o,c){z(Bu,o._currentValue),o._currentValue=c}function ra(i){i._currentValue=Bu.current,P(Bu)}function kl(i,o,c){for(;i!==null;){var h=i.alternate;if((i.childLanes&o)!==o?(i.childLanes|=o,h!==null&&(h.childLanes|=o)):h!==null&&(h.childLanes&o)!==o&&(h.childLanes|=o),i===c)break;i=i.return}}function Vo(i,o,c,h){var b=i.child;for(b!==null&&(b.return=i);b!==null;){var _=b.dependencies;if(_!==null){var O=b.child;_=_.firstContext;e:for(;_!==null;){var K=_;_=b;for(var fe=0;fe<o.length;fe++)if(K.context===o[fe]){_.lanes|=c,K=_.alternate,K!==null&&(K.lanes|=c),kl(_.return,c,i),h||(O=null);break e}_=K.next}}else if(b.tag===18){if(O=b.return,O===null)throw Error(r(341));O.lanes|=c,_=O.alternate,_!==null&&(_.lanes|=c),kl(O,c,i),O=null}else O=b.child;if(O!==null)O.return=b;else for(O=b;O!==null;){if(O===i){O=null;break}if(b=O.sibling,b!==null){b.return=O.return,O=b;break}O=O.return}b=O}}function co(i,o,c,h){i=null;for(var b=o,_=!1;b!==null;){if(!_){if((b.flags&524288)!==0)_=!0;else if((b.flags&262144)!==0)break}if(b.tag===10){var O=b.alternate;if(O===null)throw Error(r(387));if(O=O.memoizedProps,O!==null){var K=b.type;Vr(b.pendingProps.value,O.value)||(i!==null?i.push(K):i=[K])}}else if(b===he.current){if(O=b.alternate,O===null)throw Error(r(387));O.memoizedState.memoizedState!==b.memoizedState.memoizedState&&(i!==null?i.push(Rf):i=[Rf])}b=b.return}i!==null&&Vo(o,i,c,h),o.flags|=262144}function Iu(i){for(i=i.firstContext;i!==null;){if(!Vr(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function uo(i){oo=i,Qa=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Wr(i){return $h(oo,i)}function Fu(i,o){return oo===null&&uo(i),$h(i,o)}function $h(i,o){var c=o._currentValue;if(o={context:o,memoizedValue:c,next:null},Qa===null){if(i===null)throw Error(r(308));Qa=o,i.dependencies={lanes:0,firstContext:o},i.flags|=524288}else Qa=Qa.next=o;return c}var h0=typeof AbortController<"u"?AbortController:function(){var i=[],o=this.signal={aborted:!1,addEventListener:function(c,h){i.push(h)}};this.abort=function(){o.aborted=!0,i.forEach(function(c){return c()})}},p0=t.unstable_scheduleCallback,m0=t.unstable_NormalPriority,lr={$$typeof:M,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ll(){return{controller:new h0,data:new Map,refCount:0}}function Ic(i){i.refCount--,i.refCount===0&&p0(m0,function(){i.controller.abort()})}var Fc=null,Uu=0,m=0,x=null;function E(i,o){if(Fc===null){var c=Fc=[];Uu=0,m=eg(),x={status:"pending",value:void 0,then:function(h){c.push(h)}}}return Uu++,o.then(j,j),o}function j(){if(--Uu===0&&Fc!==null){x!==null&&(x.status="fulfilled");var i=Fc;Fc=null,m=0,x=null;for(var o=0;o<i.length;o++)(0,i[o])()}}function U(i,o){var c=[],h={status:"pending",value:null,reason:null,then:function(b){c.push(b)}};return i.then(function(){h.status="fulfilled",h.value=o;for(var b=0;b<c.length;b++)(0,c[b])(o)},function(b){for(h.status="rejected",h.reason=b,b=0;b<c.length;b++)(0,c[b])(void 0)}),h}var H=re.S;re.S=function(i,o){z2=He(),typeof o=="object"&&o!==null&&typeof o.then=="function"&&E(i,o),H!==null&&H(i,o)};var G=Y(null);function Q(){var i=G.current;return i!==null?i:Un.pooledCache}function te(i,o){o===null?z(G,G.current):z(G,o.pool)}function ae(){var i=Q();return i===null?null:{parent:lr._currentValue,pool:i}}var ge=Error(r(460)),Ce=Error(r(474)),ie=Error(r(542)),xe={then:function(){}};function Ae(i){return i=i.status,i==="fulfilled"||i==="rejected"}function Be(i,o,c){switch(c=i[c],c===void 0?i.push(o):c!==o&&(o.then(ba,ba),o=c),o.status){case"fulfilled":return o.value;case"rejected":throw i=o.reason,et(i),i;default:if(typeof o.status=="string")o.then(ba,ba);else{if(i=Un,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=o,i.status="pending",i.then(function(h){if(o.status==="pending"){var b=o;b.status="fulfilled",b.value=h}},function(h){if(o.status==="pending"){var b=o;b.status="rejected",b.reason=h}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw i=o.reason,et(i),i}throw Pe=o,ge}}function Ee(i){try{var o=i._init;return o(i._payload)}catch(c){throw c!==null&&typeof c=="object"&&typeof c.then=="function"?(Pe=c,ge):c}}var Pe=null;function ze(){if(Pe===null)throw Error(r(459));var i=Pe;return Pe=null,i}function et(i){if(i===ge||i===ie)throw Error(r(483))}var Ye=null,yt=0;function ut(i){var o=yt;return yt+=1,Ye===null&&(Ye=[]),Be(Ye,i,o)}function qt(i,o){o=o.props.ref,i.ref=o!==void 0?o:null}function mt(i,o){throw o.$$typeof===y?Error(r(525)):(i=Object.prototype.toString.call(o),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":i)))}function tn(i){function o(Se,ye){if(i){var Te=Se.deletions;Te===null?(Se.deletions=[ye],Se.flags|=16):Te.push(ye)}}function c(Se,ye){if(!i)return null;for(;ye!==null;)o(Se,ye),ye=ye.sibling;return null}function h(Se){for(var ye=new Map;Se!==null;)Se.key!==null?ye.set(Se.key,Se):ye.set(Se.index,Se),Se=Se.sibling;return ye}function b(Se,ye){return Se=Ji(Se,ye),Se.index=0,Se.sibling=null,Se}function _(Se,ye,Te){return Se.index=Te,i?(Te=Se.alternate,Te!==null?(Te=Te.index,Te<ye?(Se.flags|=67108866,ye):Te):(Se.flags|=67108866,ye)):(Se.flags|=1048576,ye)}function O(Se){return i&&Se.alternate===null&&(Se.flags|=67108866),Se}function K(Se,ye,Te,Ve){return ye===null||ye.tag!==6?(ye=Mc(Te,Se.mode,Ve),ye.return=Se,ye):(ye=b(ye,Te),ye.return=Se,ye)}function fe(Se,ye,Te,Ve){var Ot=Te.type;return Ot===C?Fe(Se,ye,Te.props.children,Ve,Te.key):ye!==null&&(ye.elementType===Ot||typeof Ot=="object"&&Ot!==null&&Ot.$$typeof===R&&Ee(Ot)===ye.type)?(ye=b(ye,Te.props),qt(ye,Te),ye.return=Se,ye):(ye=El(Te.type,Te.key,Te.props,null,Se.mode,Ve),qt(ye,Te),ye.return=Se,ye)}function ke(Se,ye,Te,Ve){return ye===null||ye.tag!==4||ye.stateNode.containerInfo!==Te.containerInfo||ye.stateNode.implementation!==Te.implementation?(ye=Cl(Te,Se.mode,Ve),ye.return=Se,ye):(ye=b(ye,Te.children||[]),ye.return=Se,ye)}function Fe(Se,ye,Te,Ve,Ot){return ye===null||ye.tag!==7?(ye=io(Te,Se.mode,Ve,Ot),ye.return=Se,ye):(ye=b(ye,Te),ye.return=Se,ye)}function We(Se,ye,Te){if(typeof ye=="string"&&ye!==""||typeof ye=="number"||typeof ye=="bigint")return ye=Mc(""+ye,Se.mode,Te),ye.return=Se,ye;if(typeof ye=="object"&&ye!==null){switch(ye.$$typeof){case v:return Te=El(ye.type,ye.key,ye.props,null,Se.mode,Te),qt(Te,ye),Te.return=Se,Te;case N:return ye=Cl(ye,Se.mode,Te),ye.return=Se,ye;case R:return ye=Ee(ye),We(Se,ye,Te)}if(we(ye)||I(ye))return ye=io(ye,Se.mode,Te,null),ye.return=Se,ye;if(typeof ye.then=="function")return We(Se,ut(ye),Te);if(ye.$$typeof===M)return We(Se,Fu(Se,ye),Te);mt(Se,ye)}return null}function Le(Se,ye,Te,Ve){var Ot=ye!==null?ye.key:null;if(typeof Te=="string"&&Te!==""||typeof Te=="number"||typeof Te=="bigint")return Ot!==null?null:K(Se,ye,""+Te,Ve);if(typeof Te=="object"&&Te!==null){switch(Te.$$typeof){case v:return Te.key===Ot?fe(Se,ye,Te,Ve):null;case N:return Te.key===Ot?ke(Se,ye,Te,Ve):null;case R:return Te=Ee(Te),Le(Se,ye,Te,Ve)}if(we(Te)||I(Te))return Ot!==null?null:Fe(Se,ye,Te,Ve,null);if(typeof Te.then=="function")return Le(Se,ye,ut(Te),Ve);if(Te.$$typeof===M)return Le(Se,ye,Fu(Se,Te),Ve);mt(Se,Te)}return null}function De(Se,ye,Te,Ve,Ot){if(typeof Ve=="string"&&Ve!==""||typeof Ve=="number"||typeof Ve=="bigint")return Se=Se.get(Te)||null,K(ye,Se,""+Ve,Ot);if(typeof Ve=="object"&&Ve!==null){switch(Ve.$$typeof){case v:return Se=Se.get(Ve.key===null?Te:Ve.key)||null,fe(ye,Se,Ve,Ot);case N:return Se=Se.get(Ve.key===null?Te:Ve.key)||null,ke(ye,Se,Ve,Ot);case R:return Ve=Ee(Ve),De(Se,ye,Te,Ve,Ot)}if(we(Ve)||I(Ve))return Se=Se.get(Te)||null,Fe(ye,Se,Ve,Ot,null);if(typeof Ve.then=="function")return De(Se,ye,Te,ut(Ve),Ot);if(Ve.$$typeof===M)return De(Se,ye,Te,Fu(ye,Ve),Ot);mt(ye,Ve)}return null}function vt(Se,ye,Te,Ve){for(var Ot=null,wn=null,xt=ye,Jt=ye=0,ln=null;xt!==null&&Jt<Te.length;Jt++){xt.index>Jt?(ln=xt,xt=null):ln=xt.sibling;var xn=Le(Se,xt,Te[Jt],Ve);if(xn===null){xt===null&&(xt=ln);break}i&&xt&&xn.alternate===null&&o(Se,xt),ye=_(xn,ye,Jt),wn===null?Ot=xn:wn.sibling=xn,wn=xn,xt=ln}if(Jt===Te.length)return c(Se,xt),nn&&zi(Se,Jt),Ot;if(xt===null){for(;Jt<Te.length;Jt++)xt=We(Se,Te[Jt],Ve),xt!==null&&(ye=_(xt,ye,Jt),wn===null?Ot=xt:wn.sibling=xt,wn=xt);return nn&&zi(Se,Jt),Ot}for(xt=h(xt);Jt<Te.length;Jt++)ln=De(xt,Se,Jt,Te[Jt],Ve),ln!==null&&(i&&ln.alternate!==null&&xt.delete(ln.key===null?Jt:ln.key),ye=_(ln,ye,Jt),wn===null?Ot=ln:wn.sibling=ln,wn=ln);return i&&xt.forEach(function(Yl){return o(Se,Yl)}),nn&&zi(Se,Jt),Ot}function Bt(Se,ye,Te,Ve){if(Te==null)throw Error(r(151));for(var Ot=null,wn=null,xt=ye,Jt=ye=0,ln=null,xn=Te.next();xt!==null&&!xn.done;Jt++,xn=Te.next()){xt.index>Jt?(ln=xt,xt=null):ln=xt.sibling;var Yl=Le(Se,xt,xn.value,Ve);if(Yl===null){xt===null&&(xt=ln);break}i&&xt&&Yl.alternate===null&&o(Se,xt),ye=_(Yl,ye,Jt),wn===null?Ot=Yl:wn.sibling=Yl,wn=Yl,xt=ln}if(xn.done)return c(Se,xt),nn&&zi(Se,Jt),Ot;if(xt===null){for(;!xn.done;Jt++,xn=Te.next())xn=We(Se,xn.value,Ve),xn!==null&&(ye=_(xn,ye,Jt),wn===null?Ot=xn:wn.sibling=xn,wn=xn);return nn&&zi(Se,Jt),Ot}for(xt=h(xt);!xn.done;Jt++,xn=Te.next())xn=De(xt,Se,Jt,xn.value,Ve),xn!==null&&(i&&xn.alternate!==null&&xt.delete(xn.key===null?Jt:xn.key),ye=_(xn,ye,Jt),wn===null?Ot=xn:wn.sibling=xn,wn=xn);return i&&xt.forEach(function(SC){return o(Se,SC)}),nn&&zi(Se,Jt),Ot}function Bn(Se,ye,Te,Ve){if(typeof Te=="object"&&Te!==null&&Te.type===C&&Te.key===null&&(Te=Te.props.children),typeof Te=="object"&&Te!==null){switch(Te.$$typeof){case v:e:{for(var Ot=Te.key;ye!==null;){if(ye.key===Ot){if(Ot=Te.type,Ot===C){if(ye.tag===7){c(Se,ye.sibling),Ve=b(ye,Te.props.children),Ve.return=Se,Se=Ve;break e}}else if(ye.elementType===Ot||typeof Ot=="object"&&Ot!==null&&Ot.$$typeof===R&&Ee(Ot)===ye.type){c(Se,ye.sibling),Ve=b(ye,Te.props),qt(Ve,Te),Ve.return=Se,Se=Ve;break e}c(Se,ye);break}else o(Se,ye);ye=ye.sibling}Te.type===C?(Ve=io(Te.props.children,Se.mode,Ve,Te.key),Ve.return=Se,Se=Ve):(Ve=El(Te.type,Te.key,Te.props,null,Se.mode,Ve),qt(Ve,Te),Ve.return=Se,Se=Ve)}return O(Se);case N:e:{for(Ot=Te.key;ye!==null;){if(ye.key===Ot)if(ye.tag===4&&ye.stateNode.containerInfo===Te.containerInfo&&ye.stateNode.implementation===Te.implementation){c(Se,ye.sibling),Ve=b(ye,Te.children||[]),Ve.return=Se,Se=Ve;break e}else{c(Se,ye);break}else o(Se,ye);ye=ye.sibling}Ve=Cl(Te,Se.mode,Ve),Ve.return=Se,Se=Ve}return O(Se);case R:return Te=Ee(Te),Bn(Se,ye,Te,Ve)}if(we(Te))return vt(Se,ye,Te,Ve);if(I(Te)){if(Ot=I(Te),typeof Ot!="function")throw Error(r(150));return Te=Ot.call(Te),Bt(Se,ye,Te,Ve)}if(typeof Te.then=="function")return Bn(Se,ye,ut(Te),Ve);if(Te.$$typeof===M)return Bn(Se,ye,Fu(Se,Te),Ve);mt(Se,Te)}return typeof Te=="string"&&Te!==""||typeof Te=="number"||typeof Te=="bigint"?(Te=""+Te,ye!==null&&ye.tag===6?(c(Se,ye.sibling),Ve=b(ye,Te),Ve.return=Se,Se=Ve):(c(Se,ye),Ve=Mc(Te,Se.mode,Ve),Ve.return=Se,Se=Ve),O(Se)):c(Se,ye)}return function(Se,ye,Te,Ve){try{yt=0;var Ot=Bn(Se,ye,Te,Ve);return Ye=null,Ot}catch(xt){if(xt===ge||xt===ie)throw xt;var wn=ti(29,xt,null,Se.mode);return wn.lanes=Ve,wn.return=Se,wn}}}var Fn=tn(!0),Gt=tn(!1),dt=!1;function st(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Gn(i,o){i=i.updateQueue,o.updateQueue===i&&(o.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Mt(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Kt(i,o,c){var h=i.updateQueue;if(h===null)return null;if(h=h.shared,(An&2)!==0){var b=h.pending;return b===null?o.next=o:(o.next=b.next,b.next=o),h.pending=o,o=ei(i),Dc(i,null,c),o}return Oc(i,h,o,c),ei(i)}function _n(i,o,c){if(o=o.updateQueue,o!==null&&(o=o.shared,(c&4194048)!==0)){var h=o.lanes;h&=i.pendingLanes,c|=h,o.lanes=c,Li(i,c)}}function Cr(i,o){var c=i.updateQueue,h=i.alternate;if(h!==null&&(h=h.updateQueue,c===h)){var b=null,_=null;if(c=c.firstBaseUpdate,c!==null){do{var O={lane:c.lane,tag:c.tag,payload:c.payload,callback:null,next:null};_===null?b=_=O:_=_.next=O,c=c.next}while(c!==null);_===null?b=_=o:_=_.next=o}else b=_=o;c={baseState:h.baseState,firstBaseUpdate:b,lastBaseUpdate:_,shared:h.shared,callbacks:h.callbacks},i.updateQueue=c;return}i=c.lastBaseUpdate,i===null?c.firstBaseUpdate=o:i.next=o,c.lastBaseUpdate=o}var Yr=!1;function Dn(){if(Yr){var i=x;if(i!==null)throw i}}function mr(i,o,c,h){Yr=!1;var b=i.updateQueue;dt=!1;var _=b.firstBaseUpdate,O=b.lastBaseUpdate,K=b.shared.pending;if(K!==null){b.shared.pending=null;var fe=K,ke=fe.next;fe.next=null,O===null?_=ke:O.next=ke,O=fe;var Fe=i.alternate;Fe!==null&&(Fe=Fe.updateQueue,K=Fe.lastBaseUpdate,K!==O&&(K===null?Fe.firstBaseUpdate=ke:K.next=ke,Fe.lastBaseUpdate=fe))}if(_!==null){var We=b.baseState;O=0,Fe=ke=fe=null,K=_;do{var Le=K.lane&-536870913,De=Le!==K.lane;if(De?(on&Le)===Le:(h&Le)===Le){Le!==0&&Le===m&&(Yr=!0),Fe!==null&&(Fe=Fe.next={lane:0,tag:K.tag,payload:K.payload,callback:null,next:null});e:{var vt=i,Bt=K;Le=o;var Bn=c;switch(Bt.tag){case 1:if(vt=Bt.payload,typeof vt=="function"){We=vt.call(Bn,We,Le);break e}We=vt;break e;case 3:vt.flags=vt.flags&-65537|128;case 0:if(vt=Bt.payload,Le=typeof vt=="function"?vt.call(Bn,We,Le):vt,Le==null)break e;We=g({},We,Le);break e;case 2:dt=!0}}Le=K.callback,Le!==null&&(i.flags|=64,De&&(i.flags|=8192),De=b.callbacks,De===null?b.callbacks=[Le]:De.push(Le))}else De={lane:Le,tag:K.tag,payload:K.payload,callback:K.callback,next:null},Fe===null?(ke=Fe=De,fe=We):Fe=Fe.next=De,O|=Le;if(K=K.next,K===null){if(K=b.shared.pending,K===null)break;De=K,K=De.next,De.next=null,b.lastBaseUpdate=De,b.shared.pending=null}}while(!0);Fe===null&&(fe=We),b.baseState=fe,b.firstBaseUpdate=ke,b.lastBaseUpdate=Fe,_===null&&(b.shared.lanes=0),Il|=O,i.lanes=O,i.memoizedState=We}}function ni(i,o){if(typeof i!="function")throw Error(r(191,i));i.call(o)}function gr(i,o){var c=i.callbacks;if(c!==null)for(i.callbacks=null,i=0;i<c.length;i++)ni(c[i],o)}var en=Y(null),hn=Y(0);function Wn(i,o){i=Zo,z(hn,i),z(en,o),Zo=i|o.baseLanes}function bn(){z(hn,Zo),z(en,en.current)}function Tr(){Zo=hn.current,P(en),P(hn)}var Yn=Y(null),pn=null;function cr(i){var o=i.alternate;z(fn,fn.current&1),z(Yn,i),pn===null&&(o===null||en.current!==null||o.memoizedState!==null)&&(pn=i)}function Sn(i){z(fn,fn.current),z(Yn,i),pn===null&&(pn=i)}function vr(i){i.tag===22?(z(fn,fn.current),z(Yn,i),pn===null&&(pn=i)):yr()}function yr(){z(fn,fn.current),z(Yn,Yn.current)}function Cn(i){P(Yn),pn===i&&(pn=null),P(fn)}var fn=Y(0);function ri(i){for(var o=i;o!==null;){if(o.tag===13){var c=o.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||fg(c)||hg(c)))return o}else if(o.tag===19&&(o.memoizedProps.revealOrder==="forwards"||o.memoizedProps.revealOrder==="backwards"||o.memoizedProps.revealOrder==="unstable_legacy-backwards"||o.memoizedProps.revealOrder==="together")){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var Qn=0,jt=null,Rt=null,mn=null,Si=!1,ia=!1,pi=!1,br=0,fo=0,ho=null,zu=0;function Pn(){throw Error(r(321))}function of(i,o){if(o===null)return!1;for(var c=0;c<o.length&&c<i.length;c++)if(!Vr(i[c],o[c]))return!1;return!0}function lf(i,o,c,h,b,_){return Qn=_,jt=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,re.H=i===null||i.memoizedState===null?Qb:S0,pi=!1,_=c(h,b),pi=!1,ia&&(_=Ds(o,c,h,b)),qu(i),_}function qu(i){re.H=gf;var o=Rt!==null&&Rt.next!==null;if(Qn=0,mn=Rt=jt=null,Si=!1,fo=0,ho=null,o)throw Error(r(300));i===null||Br||(i=i.dependencies,i!==null&&Iu(i)&&(Br=!0))}function Ds(i,o,c,h){jt=i;var b=0;do{if(ia&&(ho=null),fo=0,ia=!1,25<=b)throw Error(r(301));if(b+=1,mn=Rt=null,i.updateQueue!=null){var _=i.updateQueue;_.lastEffect=null,_.events=null,_.stores=null,_.memoCache!=null&&(_.memoCache.index=0)}re.H=Zb,_=o(c,h)}while(ia);return _}function g0(){var i=re.H,o=i.useState()[0];return o=typeof o.then=="function"?po(o):o,i=i.useState()[0],(Rt!==null?Rt.memoizedState:null)!==i&&(jt.flags|=1024),o}function cf(){var i=br!==0;return br=0,i}function uf(i,o,c){o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~c}function Vu(i){if(Si){for(i=i.memoizedState;i!==null;){var o=i.queue;o!==null&&(o.pending=null),i=i.next}Si=!1}Qn=0,mn=Rt=jt=null,ia=!1,fo=br=0,ho=null}function Mr(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return mn===null?jt.memoizedState=mn=i:mn=mn.next=i,mn}function Zn(){if(Rt===null){var i=jt.alternate;i=i!==null?i.memoizedState:null}else i=Rt.next;var o=mn===null?jt.memoizedState:mn.next;if(o!==null)mn=o,Rt=i;else{if(i===null)throw jt.alternate===null?Error(r(467)):Error(r(310));Rt=i,i={memoizedState:Rt.memoizedState,baseState:Rt.baseState,baseQueue:Rt.baseQueue,queue:Rt.queue,next:null},mn===null?jt.memoizedState=mn=i:mn=mn.next=i}return mn}function Uc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function po(i){var o=fo;return fo+=1,ho===null&&(ho=[]),i=Be(ho,i,o),o=jt,(mn===null?o.memoizedState:mn.next)===null&&(o=o.alternate,re.H=o===null||o.memoizedState===null?Qb:S0),i}function Rl(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return po(i);if(i.$$typeof===M)return Wr(i)}throw Error(r(438,String(i)))}function Ho(i){var o=null,c=jt.updateQueue;if(c!==null&&(o=c.memoCache),o==null){var h=jt.alternate;h!==null&&(h=h.updateQueue,h!==null&&(h=h.memoCache,h!=null&&(o={data:h.data.map(function(b){return b.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),c===null&&(c=Uc(),jt.updateQueue=c),c.memoCache=o,c=o.data[o.index],c===void 0)for(c=o.data[o.index]=Array(i),h=0;h<i;h++)c[h]=$;return o.index++,c}function Za(i,o){return typeof o=="function"?o(i):o}function Hu(i){var o=Zn();return Ol(o,Rt,i)}function Ol(i,o,c){var h=i.queue;if(h===null)throw Error(r(311));h.lastRenderedReducer=c;var b=i.baseQueue,_=h.pending;if(_!==null){if(b!==null){var O=b.next;b.next=_.next,_.next=O}o.baseQueue=b=_,h.pending=null}if(_=i.baseState,b===null)i.memoizedState=_;else{o=b.next;var K=O=null,fe=null,ke=o,Fe=!1;do{var We=ke.lane&-536870913;if(We!==ke.lane?(on&We)===We:(Qn&We)===We){var Le=ke.revertLane;if(Le===0)fe!==null&&(fe=fe.next={lane:0,revertLane:0,gesture:null,action:ke.action,hasEagerState:ke.hasEagerState,eagerState:ke.eagerState,next:null}),We===m&&(Fe=!0);else if((Qn&Le)===Le){ke=ke.next,Le===m&&(Fe=!0);continue}else We={lane:0,revertLane:ke.revertLane,gesture:null,action:ke.action,hasEagerState:ke.hasEagerState,eagerState:ke.eagerState,next:null},fe===null?(K=fe=We,O=_):fe=fe.next=We,jt.lanes|=Le,Il|=Le;We=ke.action,pi&&c(_,We),_=ke.hasEagerState?ke.eagerState:c(_,We)}else Le={lane:We,revertLane:ke.revertLane,gesture:ke.gesture,action:ke.action,hasEagerState:ke.hasEagerState,eagerState:ke.eagerState,next:null},fe===null?(K=fe=Le,O=_):fe=fe.next=Le,jt.lanes|=We,Il|=We;ke=ke.next}while(ke!==null&&ke!==o);if(fe===null?O=_:fe.next=K,!Vr(_,i.memoizedState)&&(Br=!0,Fe&&(c=x,c!==null)))throw c;i.memoizedState=_,i.baseState=O,i.baseQueue=fe,h.lastRenderedState=_}return b===null&&(h.lanes=0),[i.memoizedState,h.dispatch]}function $u(i){var o=Zn(),c=o.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=i;var h=c.dispatch,b=c.pending,_=o.memoizedState;if(b!==null){c.pending=null;var O=b=b.next;do _=i(_,O.action),O=O.next;while(O!==b);Vr(_,o.memoizedState)||(Br=!0),o.memoizedState=_,o.baseQueue===null&&(o.baseState=_),c.lastRenderedState=_}return[_,h]}function Gu(i,o,c){var h=jt,b=Zn(),_=nn;if(_){if(c===void 0)throw Error(r(407));c=c()}else c=o();var O=!Vr((Rt||b).memoizedState,c);if(O&&(b.memoizedState=c,Br=!0),b=b.queue,v0(ff.bind(null,h,b,i),[i]),b.getSnapshot!==o||O||mn!==null&&mn.memoizedState.tag&1){if(h.flags|=2048,Go(9,{destroy:void 0},df.bind(null,h,b,c,o),null),Un===null)throw Error(r(349));_||(Qn&127)!==0||Ps(h,o,c)}return c}function Ps(i,o,c){i.flags|=16384,i={getSnapshot:o,value:c},o=jt.updateQueue,o===null?(o=Uc(),jt.updateQueue=o,o.stores=[i]):(c=o.stores,c===null?o.stores=[i]:c.push(i))}function df(i,o,c,h){o.value=c,o.getSnapshot=h,Gh(o)&&hf(i)}function ff(i,o,c){return c(function(){Gh(o)&&hf(i)})}function Gh(i){var o=i.getSnapshot;i=i.value;try{var c=o();return!Vr(i,c)}catch{return!0}}function hf(i){var o=Rs(i,2);o!==null&&ca(o,i,2)}function mo(i){var o=Mr();if(typeof i=="function"){var c=i;if(i=c(),pi){lt(!0);try{c()}finally{lt(!1)}}}return o.memoizedState=o.baseState=i,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Za,lastRenderedState:i},o}function Wh(i,o,c,h){return i.baseState=c,Ol(i,Rt,typeof h=="function"?h:Za)}function Yh(i,o,c,h,b){if(Qh(i))throw Error(r(485));if(i=o.action,i!==null){var _={payload:b,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(O){_.listeners.push(O)}};re.T!==null?c(!0):_.isTransition=!1,h(_),c=o.pending,c===null?(_.next=o.pending=_,Kh(o,_)):(_.next=c.next,o.pending=c.next=_)}}function Kh(i,o){var c=o.action,h=o.payload,b=i.state;if(o.isTransition){var _=re.T,O={};re.T=O;try{var K=c(b,h),fe=re.S;fe!==null&&fe(O,K),pf(i,o,K)}catch(ke){$o(i,o,ke)}finally{_!==null&&O.types!==null&&(_.types=O.types),re.T=_}}else try{_=c(b,h),pf(i,o,_)}catch(ke){$o(i,o,ke)}}function pf(i,o,c){c!==null&&typeof c=="object"&&typeof c.then=="function"?c.then(function(h){Xh(i,o,h)},function(h){return $o(i,o,h)}):Xh(i,o,c)}function Xh(i,o,c){o.status="fulfilled",o.value=c,Wu(o),i.state=c,o=i.pending,o!==null&&(c=o.next,c===o?i.pending=null:(c=c.next,o.next=c,Kh(i,c)))}function $o(i,o,c){var h=i.pending;if(i.pending=null,h!==null){h=h.next;do o.status="rejected",o.reason=c,Wu(o),o=o.next;while(o!==h)}i.action=null}function Wu(i){i=i.listeners;for(var o=0;o<i.length;o++)(0,i[o])()}function zc(i,o){return o}function es(i,o){if(nn){var c=Un.formState;if(c!==null){e:{var h=jt;if(nn){if(In){t:{for(var b=In,_=Jn;b.nodeType!==8;){if(!_){b=null;break t}if(b=ts(b.nextSibling),b===null){b=null;break t}}_=b.data,b=_==="F!"||_==="F"?b:null}if(b){In=ts(b.nextSibling),h=b.data==="F!";break e}}so(h)}h=!1}h&&(o=c[0])}}return c=Mr(),c.memoizedState=c.baseState=o,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:zc,lastRenderedState:o},c.queue=h,c=Kb.bind(null,jt,h),h.dispatch=c,h=mo(!1),_=_0.bind(null,jt,!1,h.queue),h=Mr(),b={state:o,dispatch:null,action:i,pending:null},h.queue=b,c=Yh.bind(null,jt,b,_,c),b.dispatch=c,h.memoizedState=i,[o,c,!1]}function Ms(i){var o=Zn();return Bs(o,Rt,i)}function Bs(i,o,c){if(o=Ol(i,o,zc)[0],i=Hu(Za)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var h=po(o)}catch(O){throw O===ge?ie:O}else h=o;o=Zn();var b=o.queue,_=b.dispatch;return c!==o.memoizedState&&(jt.flags|=2048,Go(9,{destroy:void 0},Yu.bind(null,b,c),null)),[h,_,i]}function Yu(i,o){i.action=o}function Ku(i){var o=Zn(),c=Rt;if(c!==null)return Bs(o,c,i);Zn(),o=o.memoizedState,c=Zn();var h=c.queue.dispatch;return c.memoizedState=i,[o,h,!1]}function Go(i,o,c,h){return i={tag:i,create:c,deps:h,inst:o,next:null},o=jt.updateQueue,o===null&&(o=Uc(),jt.updateQueue=o),c=o.lastEffect,c===null?o.lastEffect=i.next=i:(h=c.next,c.next=i,i.next=h,o.lastEffect=i),i}function Jh(){return Zn().memoizedState}function Dl(i,o,c,h){var b=Mr();jt.flags|=i,b.memoizedState=Go(1|o,{destroy:void 0},c,h===void 0?null:h)}function Pl(i,o,c,h){var b=Zn();h=h===void 0?null:h;var _=b.memoizedState.inst;Rt!==null&&h!==null&&of(h,Rt.memoizedState.deps)?b.memoizedState=Go(o,_,c,h):(jt.flags|=i,b.memoizedState=Go(1|o,_,c,h))}function Pb(i,o){Dl(8390656,8,i,o)}function v0(i,o){Pl(2048,8,i,o)}function v6(i){jt.flags|=4;var o=jt.updateQueue;if(o===null)o=Uc(),jt.updateQueue=o,o.events=[i];else{var c=o.events;c===null?o.events=[i]:c.push(i)}}function Mb(i){var o=Zn().memoizedState;return v6({ref:o,nextImpl:i}),function(){if((An&2)!==0)throw Error(r(440));return o.impl.apply(void 0,arguments)}}function Bb(i,o){return Pl(4,2,i,o)}function Ib(i,o){return Pl(4,4,i,o)}function Fb(i,o){if(typeof o=="function"){i=i();var c=o(i);return function(){typeof c=="function"?c():o(null)}}if(o!=null)return i=i(),o.current=i,function(){o.current=null}}function Ub(i,o,c){c=c!=null?c.concat([i]):null,Pl(4,4,Fb.bind(null,o,i),c)}function y0(){}function zb(i,o){var c=Zn();o=o===void 0?null:o;var h=c.memoizedState;return o!==null&&of(o,h[1])?h[0]:(c.memoizedState=[i,o],i)}function qb(i,o){var c=Zn();o=o===void 0?null:o;var h=c.memoizedState;if(o!==null&&of(o,h[1]))return h[0];if(h=i(),pi){lt(!0);try{i()}finally{lt(!1)}}return c.memoizedState=[h,o],h}function b0(i,o,c){return c===void 0||(Qn&1073741824)!==0&&(on&261930)===0?i.memoizedState=o:(i.memoizedState=c,i=V2(),jt.lanes|=i,Il|=i,c)}function Vb(i,o,c,h){return Vr(c,o)?c:en.current!==null?(i=b0(i,c,h),Vr(i,o)||(Br=!0),i):(Qn&42)===0||(Qn&1073741824)!==0&&(on&261930)===0?(Br=!0,i.memoizedState=c):(i=V2(),jt.lanes|=i,Il|=i,o)}function Hb(i,o,c,h,b){var _=le.p;le.p=_!==0&&8>_?_:8;var O=re.T,K={};re.T=K,_0(i,!1,o,c);try{var fe=b(),ke=re.S;if(ke!==null&&ke(K,fe),fe!==null&&typeof fe=="object"&&typeof fe.then=="function"){var Fe=U(fe,h);mf(i,o,Fe,Ta(i))}else mf(i,o,h,Ta(i))}catch(We){mf(i,o,{then:function(){},status:"rejected",reason:We},Ta())}finally{le.p=_,O!==null&&K.types!==null&&(O.types=K.types),re.T=O}}function y6(){}function w0(i,o,c,h){if(i.tag!==5)throw Error(r(476));var b=$b(i).queue;Hb(i,b,o,ce,c===null?y6:function(){return Gb(i),c(h)})}function $b(i){var o=i.memoizedState;if(o!==null)return o;o={memoizedState:ce,baseState:ce,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Za,lastRenderedState:ce},next:null};var c={};return o.next={memoizedState:c,baseState:c,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Za,lastRenderedState:c},next:null},i.memoizedState=o,i=i.alternate,i!==null&&(i.memoizedState=o),o}function Gb(i){var o=$b(i);o.next===null&&(o=i.alternate.memoizedState),mf(i,o.next.queue,{},Ta())}function x0(){return Wr(Rf)}function Wb(){return Zn().memoizedState}function Yb(){return Zn().memoizedState}function b6(i){for(var o=i.return;o!==null;){switch(o.tag){case 24:case 3:var c=Ta();i=Mt(c);var h=Kt(o,i,c);h!==null&&(ca(h,o,c),_n(h,o,c)),o={cache:Ll()},i.payload=o;return}o=o.return}}function w6(i,o,c){var h=Ta();c={lane:h,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},Qh(i)?Xb(o,c):(c=ku(i,o,c,h),c!==null&&(ca(c,i,h),Jb(c,o,h)))}function Kb(i,o,c){var h=Ta();mf(i,o,c,h)}function mf(i,o,c,h){var b={lane:h,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null};if(Qh(i))Xb(o,b);else{var _=i.alternate;if(i.lanes===0&&(_===null||_.lanes===0)&&(_=o.lastRenderedReducer,_!==null))try{var O=o.lastRenderedState,K=_(O,c);if(b.hasEagerState=!0,b.eagerState=K,Vr(K,O))return Oc(i,o,b,0),Un===null&&Rc(),!1}catch{}if(c=ku(i,o,b,h),c!==null)return ca(c,i,h),Jb(c,o,h),!0}return!1}function _0(i,o,c,h){if(h={lane:2,revertLane:eg(),gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null},Qh(i)){if(o)throw Error(r(479))}else o=ku(i,c,h,2),o!==null&&ca(o,i,2)}function Qh(i){var o=i.alternate;return i===jt||o!==null&&o===jt}function Xb(i,o){ia=Si=!0;var c=i.pending;c===null?o.next=o:(o.next=c.next,c.next=o),i.pending=o}function Jb(i,o,c){if((c&4194048)!==0){var h=o.lanes;h&=i.pendingLanes,c|=h,o.lanes=c,Li(i,c)}}var gf={readContext:Wr,use:Rl,useCallback:Pn,useContext:Pn,useEffect:Pn,useImperativeHandle:Pn,useLayoutEffect:Pn,useInsertionEffect:Pn,useMemo:Pn,useReducer:Pn,useRef:Pn,useState:Pn,useDebugValue:Pn,useDeferredValue:Pn,useTransition:Pn,useSyncExternalStore:Pn,useId:Pn,useHostTransitionStatus:Pn,useFormState:Pn,useActionState:Pn,useOptimistic:Pn,useMemoCache:Pn,useCacheRefresh:Pn};gf.useEffectEvent=Pn;var Qb={readContext:Wr,use:Rl,useCallback:function(i,o){return Mr().memoizedState=[i,o===void 0?null:o],i},useContext:Wr,useEffect:Pb,useImperativeHandle:function(i,o,c){c=c!=null?c.concat([i]):null,Dl(4194308,4,Fb.bind(null,o,i),c)},useLayoutEffect:function(i,o){return Dl(4194308,4,i,o)},useInsertionEffect:function(i,o){Dl(4,2,i,o)},useMemo:function(i,o){var c=Mr();o=o===void 0?null:o;var h=i();if(pi){lt(!0);try{i()}finally{lt(!1)}}return c.memoizedState=[h,o],h},useReducer:function(i,o,c){var h=Mr();if(c!==void 0){var b=c(o);if(pi){lt(!0);try{c(o)}finally{lt(!1)}}}else b=o;return h.memoizedState=h.baseState=b,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:b},h.queue=i,i=i.dispatch=w6.bind(null,jt,i),[h.memoizedState,i]},useRef:function(i){var o=Mr();return i={current:i},o.memoizedState=i},useState:function(i){i=mo(i);var o=i.queue,c=Kb.bind(null,jt,o);return o.dispatch=c,[i.memoizedState,c]},useDebugValue:y0,useDeferredValue:function(i,o){var c=Mr();return b0(c,i,o)},useTransition:function(){var i=mo(!1);return i=Hb.bind(null,jt,i.queue,!0,!1),Mr().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,o,c){var h=jt,b=Mr();if(nn){if(c===void 0)throw Error(r(407));c=c()}else{if(c=o(),Un===null)throw Error(r(349));(on&127)!==0||Ps(h,o,c)}b.memoizedState=c;var _={value:c,getSnapshot:o};return b.queue=_,Pb(ff.bind(null,h,_,i),[i]),h.flags|=2048,Go(9,{destroy:void 0},df.bind(null,h,_,c,o),null),c},useId:function(){var i=Mr(),o=Un.identifierPrefix;if(nn){var c=na,h=ta;c=(h&~(1<<32-Dt(h)-1)).toString(32)+c,o="_"+o+"R_"+c,c=br++,0<c&&(o+="H"+c.toString(32)),o+="_"}else c=zu++,o="_"+o+"r_"+c.toString(32)+"_";return i.memoizedState=o},useHostTransitionStatus:x0,useFormState:es,useActionState:es,useOptimistic:function(i){var o=Mr();o.memoizedState=o.baseState=i;var c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=c,o=_0.bind(null,jt,!0,c),c.dispatch=o,[i,o]},useMemoCache:Ho,useCacheRefresh:function(){return Mr().memoizedState=b6.bind(null,jt)},useEffectEvent:function(i){var o=Mr(),c={impl:i};return o.memoizedState=c,function(){if((An&2)!==0)throw Error(r(440));return c.impl.apply(void 0,arguments)}}},S0={readContext:Wr,use:Rl,useCallback:zb,useContext:Wr,useEffect:v0,useImperativeHandle:Ub,useInsertionEffect:Bb,useLayoutEffect:Ib,useMemo:qb,useReducer:Hu,useRef:Jh,useState:function(){return Hu(Za)},useDebugValue:y0,useDeferredValue:function(i,o){var c=Zn();return Vb(c,Rt.memoizedState,i,o)},useTransition:function(){var i=Hu(Za)[0],o=Zn().memoizedState;return[typeof i=="boolean"?i:po(i),o]},useSyncExternalStore:Gu,useId:Wb,useHostTransitionStatus:x0,useFormState:Ms,useActionState:Ms,useOptimistic:function(i,o){var c=Zn();return Wh(c,Rt,i,o)},useMemoCache:Ho,useCacheRefresh:Yb};S0.useEffectEvent=Mb;var Zb={readContext:Wr,use:Rl,useCallback:zb,useContext:Wr,useEffect:v0,useImperativeHandle:Ub,useInsertionEffect:Bb,useLayoutEffect:Ib,useMemo:qb,useReducer:$u,useRef:Jh,useState:function(){return $u(Za)},useDebugValue:y0,useDeferredValue:function(i,o){var c=Zn();return Rt===null?b0(c,i,o):Vb(c,Rt.memoizedState,i,o)},useTransition:function(){var i=$u(Za)[0],o=Zn().memoizedState;return[typeof i=="boolean"?i:po(i),o]},useSyncExternalStore:Gu,useId:Wb,useHostTransitionStatus:x0,useFormState:Ku,useActionState:Ku,useOptimistic:function(i,o){var c=Zn();return Rt!==null?Wh(c,Rt,i,o):(c.baseState=i,[i,c.queue.dispatch])},useMemoCache:Ho,useCacheRefresh:Yb};Zb.useEffectEvent=Mb;function A0(i,o,c,h){o=i.memoizedState,c=c(h,o),c=c==null?o:g({},o,c),i.memoizedState=c,i.lanes===0&&(i.updateQueue.baseState=c)}var N0={enqueueSetState:function(i,o,c){i=i._reactInternals;var h=Ta(),b=Mt(h);b.payload=o,c!=null&&(b.callback=c),o=Kt(i,b,h),o!==null&&(ca(o,i,h),_n(o,i,h))},enqueueReplaceState:function(i,o,c){i=i._reactInternals;var h=Ta(),b=Mt(h);b.tag=1,b.payload=o,c!=null&&(b.callback=c),o=Kt(i,b,h),o!==null&&(ca(o,i,h),_n(o,i,h))},enqueueForceUpdate:function(i,o){i=i._reactInternals;var c=Ta(),h=Mt(c);h.tag=2,o!=null&&(h.callback=o),o=Kt(i,h,c),o!==null&&(ca(o,i,c),_n(o,i,c))}};function e2(i,o,c,h,b,_,O){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(h,_,O):o.prototype&&o.prototype.isPureReactComponent?!Ts(c,h)||!Ts(b,_):!0}function t2(i,o,c,h){i=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(c,h),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(c,h),o.state!==i&&N0.enqueueReplaceState(o,o.state,null)}function qc(i,o){var c=o;if("ref"in o){c={};for(var h in o)h!=="ref"&&(c[h]=o[h])}if(i=i.defaultProps){c===o&&(c=g({},c));for(var b in i)c[b]===void 0&&(c[b]=i[b])}return c}function n2(i){Lc(i)}function r2(i){console.error(i)}function i2(i){Lc(i)}function Zh(i,o){try{var c=i.onUncaughtError;c(o.value,{componentStack:o.stack})}catch(h){setTimeout(function(){throw h})}}function a2(i,o,c){try{var h=i.onCaughtError;h(c.value,{componentStack:c.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(b){setTimeout(function(){throw b})}}function E0(i,o,c){return c=Mt(c),c.tag=3,c.payload={element:null},c.callback=function(){Zh(i,o)},c}function s2(i){return i=Mt(i),i.tag=3,i}function o2(i,o,c,h){var b=c.type.getDerivedStateFromError;if(typeof b=="function"){var _=h.value;i.payload=function(){return b(_)},i.callback=function(){a2(o,c,h)}}var O=c.stateNode;O!==null&&typeof O.componentDidCatch=="function"&&(i.callback=function(){a2(o,c,h),typeof b!="function"&&(Fl===null?Fl=new Set([this]):Fl.add(this));var K=h.stack;this.componentDidCatch(h.value,{componentStack:K!==null?K:""})})}function x6(i,o,c,h,b){if(c.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){if(o=c.alternate,o!==null&&co(o,c,b,!0),c=Yn.current,c!==null){switch(c.tag){case 31:case 13:return pn===null?dp():c.alternate===null&&wr===0&&(wr=3),c.flags&=-257,c.flags|=65536,c.lanes=b,h===xe?c.flags|=16384:(o=c.updateQueue,o===null?c.updateQueue=new Set([h]):o.add(h),J0(i,h,b)),!1;case 22:return c.flags|=65536,h===xe?c.flags|=16384:(o=c.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([h])},c.updateQueue=o):(c=o.retryQueue,c===null?o.retryQueue=new Set([h]):c.add(h)),J0(i,h,b)),!1}throw Error(r(435,c.tag))}return J0(i,h,b),dp(),!1}if(nn)return o=Yn.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=b,h!==Na&&(i=Error(r(422),{cause:h}),jl(Qi(i,c)))):(h!==Na&&(o=Error(r(423),{cause:h}),jl(Qi(o,c))),i=i.current.alternate,i.flags|=65536,b&=-b,i.lanes|=b,h=Qi(h,c),b=E0(i.stateNode,h,b),Cr(i,b),wr!==4&&(wr=2)),!1;var _=Error(r(520),{cause:h});if(_=Qi(_,c),Af===null?Af=[_]:Af.push(_),wr!==4&&(wr=2),o===null)return!0;h=Qi(h,c),c=o;do{switch(c.tag){case 3:return c.flags|=65536,i=b&-b,c.lanes|=i,i=E0(c.stateNode,h,i),Cr(c,i),!1;case 1:if(o=c.type,_=c.stateNode,(c.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Fl===null||!Fl.has(_))))return c.flags|=65536,b&=-b,c.lanes|=b,b=s2(b),o2(b,i,c,h),Cr(c,b),!1}c=c.return}while(c!==null);return!1}var C0=Error(r(461)),Br=!1;function mi(i,o,c,h){o.child=i===null?Gt(o,null,c,h):Fn(o,i.child,c,h)}function l2(i,o,c,h,b){c=c.render;var _=o.ref;if("ref"in h){var O={};for(var K in h)K!=="ref"&&(O[K]=h[K])}else O=h;return uo(o),h=lf(i,o,c,O,_,b),K=cf(),i!==null&&!Br?(uf(i,o,b),Wo(i,o,b)):(nn&&K&&rf(o),o.flags|=1,mi(i,o,h,b),o.child)}function c2(i,o,c,h,b){if(i===null){var _=c.type;return typeof _=="function"&&!Ru(_)&&_.defaultProps===void 0&&c.compare===null?(o.tag=15,o.type=_,u2(i,o,_,h,b)):(i=El(c.type,null,h,o,o.mode,b),i.ref=o.ref,i.return=o,o.child=i)}if(_=i.child,!P0(i,b)){var O=_.memoizedProps;if(c=c.compare,c=c!==null?c:Ts,c(O,h)&&i.ref===o.ref)return Wo(i,o,b)}return o.flags|=1,i=Ji(_,h),i.ref=o.ref,i.return=o,o.child=i}function u2(i,o,c,h,b){if(i!==null){var _=i.memoizedProps;if(Ts(_,h)&&i.ref===o.ref)if(Br=!1,o.pendingProps=h=_,P0(i,b))(i.flags&131072)!==0&&(Br=!0);else return o.lanes=i.lanes,Wo(i,o,b)}return T0(i,o,c,h,b)}function d2(i,o,c,h){var b=h.children,_=i!==null?i.memoizedState:null;if(i===null&&o.stateNode===null&&(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),h.mode==="hidden"){if((o.flags&128)!==0){if(_=_!==null?_.baseLanes|c:c,i!==null){for(h=o.child=i.child,b=0;h!==null;)b=b|h.lanes|h.childLanes,h=h.sibling;h=b&~_}else h=0,o.child=null;return f2(i,o,_,c,h)}if((c&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},i!==null&&te(o,_!==null?_.cachePool:null),_!==null?Wn(o,_):bn(),vr(o);else return h=o.lanes=536870912,f2(i,o,_!==null?_.baseLanes|c:c,c,h)}else _!==null?(te(o,_.cachePool),Wn(o,_),yr(),o.memoizedState=null):(i!==null&&te(o,null),bn(),yr());return mi(i,o,b,c),o.child}function vf(i,o){return i!==null&&i.tag===22||o.stateNode!==null||(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.sibling}function f2(i,o,c,h,b){var _=Q();return _=_===null?null:{parent:lr._currentValue,pool:_},o.memoizedState={baseLanes:c,cachePool:_},i!==null&&te(o,null),bn(),vr(o),i!==null&&co(i,o,h,!0),o.childLanes=b,null}function ep(i,o){return o=np({mode:o.mode,children:o.children},i.mode),o.ref=i.ref,i.child=o,o.return=i,o}function h2(i,o,c){return Fn(o,i.child,null,c),i=ep(o,o.pendingProps),i.flags|=2,Cn(o),o.memoizedState=null,i}function _6(i,o,c){var h=o.pendingProps,b=(o.flags&128)!==0;if(o.flags&=-129,i===null){if(nn){if(h.mode==="hidden")return i=ep(o,h),o.lanes=536870912,vf(null,i);if(Sn(o),(i=In)?(i=N5(i,Jn),i=i!==null&&i.data==="&"?i:null,i!==null&&(o.memoizedState={dehydrated:i,treeContext:ao!==null?{id:ta,overflow:na}:null,retryLane:536870912,hydrationErrors:null},c=Ou(i),c.return=o,o.child=c,$r=o,In=null)):i=null,i===null)throw so(o);return o.lanes=536870912,null}return ep(o,h)}var _=i.memoizedState;if(_!==null){var O=_.dehydrated;if(Sn(o),b)if(o.flags&256)o.flags&=-257,o=h2(i,o,c);else if(o.memoizedState!==null)o.child=i.child,o.flags|=128,o=null;else throw Error(r(558));else if(Br||co(i,o,c,!1),b=(c&i.childLanes)!==0,Br||b){if(h=Un,h!==null&&(O=Ri(h,c),O!==0&&O!==_.retryLane))throw _.retryLane=O,Rs(i,O),ca(h,i,O),C0;dp(),o=h2(i,o,c)}else i=_.treeContext,In=ts(O.nextSibling),$r=o,nn=!0,hi=null,Jn=!1,i!==null&&Hh(o,i),o=ep(o,h),o.flags|=4096;return o}return i=Ji(i.child,{mode:h.mode,children:h.children}),i.ref=o.ref,o.child=i,i.return=o,i}function tp(i,o){var c=o.ref;if(c===null)i!==null&&i.ref!==null&&(o.flags|=4194816);else{if(typeof c!="function"&&typeof c!="object")throw Error(r(284));(i===null||i.ref!==c)&&(o.flags|=4194816)}}function T0(i,o,c,h,b){return uo(o),c=lf(i,o,c,h,void 0,b),h=cf(),i!==null&&!Br?(uf(i,o,b),Wo(i,o,b)):(nn&&h&&rf(o),o.flags|=1,mi(i,o,c,b),o.child)}function p2(i,o,c,h,b,_){return uo(o),o.updateQueue=null,c=Ds(o,h,c,b),qu(i),h=cf(),i!==null&&!Br?(uf(i,o,_),Wo(i,o,_)):(nn&&h&&rf(o),o.flags|=1,mi(i,o,c,_),o.child)}function m2(i,o,c,h,b){if(uo(o),o.stateNode===null){var _=Hr,O=c.contextType;typeof O=="object"&&O!==null&&(_=Wr(O)),_=new c(h,_),o.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,_.updater=N0,o.stateNode=_,_._reactInternals=o,_=o.stateNode,_.props=h,_.state=o.memoizedState,_.refs={},st(o),O=c.contextType,_.context=typeof O=="object"&&O!==null?Wr(O):Hr,_.state=o.memoizedState,O=c.getDerivedStateFromProps,typeof O=="function"&&(A0(o,c,O,h),_.state=o.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(O=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),O!==_.state&&N0.enqueueReplaceState(_,_.state,null),mr(o,h,_,b),Dn(),_.state=o.memoizedState),typeof _.componentDidMount=="function"&&(o.flags|=4194308),h=!0}else if(i===null){_=o.stateNode;var K=o.memoizedProps,fe=qc(c,K);_.props=fe;var ke=_.context,Fe=c.contextType;O=Hr,typeof Fe=="object"&&Fe!==null&&(O=Wr(Fe));var We=c.getDerivedStateFromProps;Fe=typeof We=="function"||typeof _.getSnapshotBeforeUpdate=="function",K=o.pendingProps!==K,Fe||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(K||ke!==O)&&t2(o,_,h,O),dt=!1;var Le=o.memoizedState;_.state=Le,mr(o,h,_,b),Dn(),ke=o.memoizedState,K||Le!==ke||dt?(typeof We=="function"&&(A0(o,c,We,h),ke=o.memoizedState),(fe=dt||e2(o,c,fe,h,Le,ke,O))?(Fe||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(o.flags|=4194308)):(typeof _.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=h,o.memoizedState=ke),_.props=h,_.state=ke,_.context=O,h=fe):(typeof _.componentDidMount=="function"&&(o.flags|=4194308),h=!1)}else{_=o.stateNode,Gn(i,o),O=o.memoizedProps,Fe=qc(c,O),_.props=Fe,We=o.pendingProps,Le=_.context,ke=c.contextType,fe=Hr,typeof ke=="object"&&ke!==null&&(fe=Wr(ke)),K=c.getDerivedStateFromProps,(ke=typeof K=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(O!==We||Le!==fe)&&t2(o,_,h,fe),dt=!1,Le=o.memoizedState,_.state=Le,mr(o,h,_,b),Dn();var De=o.memoizedState;O!==We||Le!==De||dt||i!==null&&i.dependencies!==null&&Iu(i.dependencies)?(typeof K=="function"&&(A0(o,c,K,h),De=o.memoizedState),(Fe=dt||e2(o,c,Fe,h,Le,De,fe)||i!==null&&i.dependencies!==null&&Iu(i.dependencies))?(ke||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(h,De,fe),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(h,De,fe)),typeof _.componentDidUpdate=="function"&&(o.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof _.componentDidUpdate!="function"||O===i.memoizedProps&&Le===i.memoizedState||(o.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||O===i.memoizedProps&&Le===i.memoizedState||(o.flags|=1024),o.memoizedProps=h,o.memoizedState=De),_.props=h,_.state=De,_.context=fe,h=Fe):(typeof _.componentDidUpdate!="function"||O===i.memoizedProps&&Le===i.memoizedState||(o.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||O===i.memoizedProps&&Le===i.memoizedState||(o.flags|=1024),h=!1)}return _=h,tp(i,o),h=(o.flags&128)!==0,_||h?(_=o.stateNode,c=h&&typeof c.getDerivedStateFromError!="function"?null:_.render(),o.flags|=1,i!==null&&h?(o.child=Fn(o,i.child,null,b),o.child=Fn(o,null,c,b)):mi(i,o,c,b),o.memoizedState=_.state,i=o.child):i=Wo(i,o,b),i}function g2(i,o,c,h){return qo(),o.flags|=256,mi(i,o,c,h),o.child}var j0={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function k0(i){return{baseLanes:i,cachePool:ae()}}function L0(i,o,c){return i=i!==null?i.childLanes&~c:0,o&&(i|=Ca),i}function v2(i,o,c){var h=o.pendingProps,b=!1,_=(o.flags&128)!==0,O;if((O=_)||(O=i!==null&&i.memoizedState===null?!1:(fn.current&2)!==0),O&&(b=!0,o.flags&=-129),O=(o.flags&32)!==0,o.flags&=-33,i===null){if(nn){if(b?cr(o):yr(),(i=In)?(i=N5(i,Jn),i=i!==null&&i.data!=="&"?i:null,i!==null&&(o.memoizedState={dehydrated:i,treeContext:ao!==null?{id:ta,overflow:na}:null,retryLane:536870912,hydrationErrors:null},c=Ou(i),c.return=o,o.child=c,$r=o,In=null)):i=null,i===null)throw so(o);return hg(i)?o.lanes=32:o.lanes=536870912,null}var K=h.children;return h=h.fallback,b?(yr(),b=o.mode,K=np({mode:"hidden",children:K},b),h=io(h,b,c,null),K.return=o,h.return=o,K.sibling=h,o.child=K,h=o.child,h.memoizedState=k0(c),h.childLanes=L0(i,O,c),o.memoizedState=j0,vf(null,h)):(cr(o),R0(o,K))}var fe=i.memoizedState;if(fe!==null&&(K=fe.dehydrated,K!==null)){if(_)o.flags&256?(cr(o),o.flags&=-257,o=O0(i,o,c)):o.memoizedState!==null?(yr(),o.child=i.child,o.flags|=128,o=null):(yr(),K=h.fallback,b=o.mode,h=np({mode:"visible",children:h.children},b),K=io(K,b,c,null),K.flags|=2,h.return=o,K.return=o,h.sibling=K,o.child=h,Fn(o,i.child,null,c),h=o.child,h.memoizedState=k0(c),h.childLanes=L0(i,O,c),o.memoizedState=j0,o=vf(null,h));else if(cr(o),hg(K)){if(O=K.nextSibling&&K.nextSibling.dataset,O)var ke=O.dgst;O=ke,h=Error(r(419)),h.stack="",h.digest=O,jl({value:h,source:null,stack:null}),o=O0(i,o,c)}else if(Br||co(i,o,c,!1),O=(c&i.childLanes)!==0,Br||O){if(O=Un,O!==null&&(h=Ri(O,c),h!==0&&h!==fe.retryLane))throw fe.retryLane=h,Rs(i,h),ca(O,i,h),C0;fg(K)||dp(),o=O0(i,o,c)}else fg(K)?(o.flags|=192,o.child=i.child,o=null):(i=fe.treeContext,In=ts(K.nextSibling),$r=o,nn=!0,hi=null,Jn=!1,i!==null&&Hh(o,i),o=R0(o,h.children),o.flags|=4096);return o}return b?(yr(),K=h.fallback,b=o.mode,fe=i.child,ke=fe.sibling,h=Ji(fe,{mode:"hidden",children:h.children}),h.subtreeFlags=fe.subtreeFlags&65011712,ke!==null?K=Ji(ke,K):(K=io(K,b,c,null),K.flags|=2),K.return=o,h.return=o,h.sibling=K,o.child=h,vf(null,h),h=o.child,K=i.child.memoizedState,K===null?K=k0(c):(b=K.cachePool,b!==null?(fe=lr._currentValue,b=b.parent!==fe?{parent:fe,pool:fe}:b):b=ae(),K={baseLanes:K.baseLanes|c,cachePool:b}),h.memoizedState=K,h.childLanes=L0(i,O,c),o.memoizedState=j0,vf(i.child,h)):(cr(o),c=i.child,i=c.sibling,c=Ji(c,{mode:"visible",children:h.children}),c.return=o,c.sibling=null,i!==null&&(O=o.deletions,O===null?(o.deletions=[i],o.flags|=16):O.push(i)),o.child=c,o.memoizedState=null,c)}function R0(i,o){return o=np({mode:"visible",children:o},i.mode),o.return=i,i.child=o}function np(i,o){return i=ti(22,i,null,o),i.lanes=0,i}function O0(i,o,c){return Fn(o,i.child,null,c),i=R0(o,o.pendingProps.children),i.flags|=2,o.memoizedState=null,i}function y2(i,o,c){i.lanes|=o;var h=i.alternate;h!==null&&(h.lanes|=o),kl(i.return,o,c)}function D0(i,o,c,h,b,_){var O=i.memoizedState;O===null?i.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:h,tail:c,tailMode:b,treeForkCount:_}:(O.isBackwards=o,O.rendering=null,O.renderingStartTime=0,O.last=h,O.tail=c,O.tailMode=b,O.treeForkCount=_)}function b2(i,o,c){var h=o.pendingProps,b=h.revealOrder,_=h.tail;h=h.children;var O=fn.current,K=(O&2)!==0;if(K?(O=O&1|2,o.flags|=128):O&=1,z(fn,O),mi(i,o,h,c),h=nn?Bc:0,!K&&i!==null&&(i.flags&128)!==0)e:for(i=o.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&y2(i,c,o);else if(i.tag===19)y2(i,c,o);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===o)break e;for(;i.sibling===null;){if(i.return===null||i.return===o)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(b){case"forwards":for(c=o.child,b=null;c!==null;)i=c.alternate,i!==null&&ri(i)===null&&(b=c),c=c.sibling;c=b,c===null?(b=o.child,o.child=null):(b=c.sibling,c.sibling=null),D0(o,!1,b,c,_,h);break;case"backwards":case"unstable_legacy-backwards":for(c=null,b=o.child,o.child=null;b!==null;){if(i=b.alternate,i!==null&&ri(i)===null){o.child=b;break}i=b.sibling,b.sibling=c,c=b,b=i}D0(o,!0,c,null,_,h);break;case"together":D0(o,!1,null,null,void 0,h);break;default:o.memoizedState=null}return o.child}function Wo(i,o,c){if(i!==null&&(o.dependencies=i.dependencies),Il|=o.lanes,(c&o.childLanes)===0)if(i!==null){if(co(i,o,c,!1),(c&o.childLanes)===0)return null}else return null;if(i!==null&&o.child!==i.child)throw Error(r(153));if(o.child!==null){for(i=o.child,c=Ji(i,i.pendingProps),o.child=c,c.return=o;i.sibling!==null;)i=i.sibling,c=c.sibling=Ji(i,i.pendingProps),c.return=o;c.sibling=null}return o.child}function P0(i,o){return(i.lanes&o)!==0?!0:(i=i.dependencies,!!(i!==null&&Iu(i)))}function S6(i,o,c){switch(o.tag){case 3:ve(o,o.stateNode.containerInfo),lo(o,lr,i.memoizedState.cache),qo();break;case 27:case 5:je(o);break;case 4:ve(o,o.stateNode.containerInfo);break;case 10:lo(o,o.type,o.memoizedProps.value);break;case 31:if(o.memoizedState!==null)return o.flags|=128,Sn(o),null;break;case 13:var h=o.memoizedState;if(h!==null)return h.dehydrated!==null?(cr(o),o.flags|=128,null):(c&o.child.childLanes)!==0?v2(i,o,c):(cr(o),i=Wo(i,o,c),i!==null?i.sibling:null);cr(o);break;case 19:var b=(i.flags&128)!==0;if(h=(c&o.childLanes)!==0,h||(co(i,o,c,!1),h=(c&o.childLanes)!==0),b){if(h)return b2(i,o,c);o.flags|=128}if(b=o.memoizedState,b!==null&&(b.rendering=null,b.tail=null,b.lastEffect=null),z(fn,fn.current),h)break;return null;case 22:return o.lanes=0,d2(i,o,c,o.pendingProps);case 24:lo(o,lr,i.memoizedState.cache)}return Wo(i,o,c)}function w2(i,o,c){if(i!==null)if(i.memoizedProps!==o.pendingProps)Br=!0;else{if(!P0(i,c)&&(o.flags&128)===0)return Br=!1,S6(i,o,c);Br=(i.flags&131072)!==0}else Br=!1,nn&&(o.flags&1048576)!==0&&Vh(o,Bc,o.index);switch(o.lanes=0,o.tag){case 16:e:{var h=o.pendingProps;if(i=Ee(o.elementType),o.type=i,typeof i=="function")Ru(i)?(h=qc(i,h),o.tag=1,o=m2(null,o,i,h,c)):(o.tag=0,o=T0(null,o,i,h,c));else{if(i!=null){var b=i.$$typeof;if(b===B){o.tag=11,o=l2(null,o,i,h,c);break e}else if(b===W){o.tag=14,o=c2(null,o,i,h,c);break e}}throw o=ne(i)||i,Error(r(306,o,""))}}return o;case 0:return T0(i,o,o.type,o.pendingProps,c);case 1:return h=o.type,b=qc(h,o.pendingProps),m2(i,o,h,b,c);case 3:e:{if(ve(o,o.stateNode.containerInfo),i===null)throw Error(r(387));h=o.pendingProps;var _=o.memoizedState;b=_.element,Gn(i,o),mr(o,h,null,c);var O=o.memoizedState;if(h=O.cache,lo(o,lr,h),h!==_.cache&&Vo(o,[lr],c,!0),Dn(),h=O.element,_.isDehydrated)if(_={element:h,isDehydrated:!1,cache:O.cache},o.updateQueue.baseState=_,o.memoizedState=_,o.flags&256){o=g2(i,o,h,c);break e}else if(h!==b){b=Qi(Error(r(424)),o),jl(b),o=g2(i,o,h,c);break e}else for(i=o.stateNode.containerInfo,i.nodeType===9?i=i.body:i=i.nodeName==="HTML"?i.ownerDocument.body:i,In=ts(i.firstChild),$r=o,nn=!0,hi=null,Jn=!0,c=Gt(o,null,h,c),o.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(qo(),h===b){o=Wo(i,o,c);break e}mi(i,o,h,c)}o=o.child}return o;case 26:return tp(i,o),i===null?(c=L5(o.type,null,o.pendingProps,null))?o.memoizedState=c:nn||(c=o.type,i=o.pendingProps,h=yp(ue.current).createElement(c),h[En]=o,h[Hn]=i,gi(h,c,i),ir(h),o.stateNode=h):o.memoizedState=L5(o.type,i.memoizedProps,o.pendingProps,i.memoizedState),null;case 27:return je(o),i===null&&nn&&(h=o.stateNode=T5(o.type,o.pendingProps,ue.current),$r=o,Jn=!0,b=In,Vl(o.type)?(pg=b,In=ts(h.firstChild)):In=b),mi(i,o,o.pendingProps.children,c),tp(i,o),i===null&&(o.flags|=4194304),o.child;case 5:return i===null&&nn&&((b=h=In)&&(h=Z6(h,o.type,o.pendingProps,Jn),h!==null?(o.stateNode=h,$r=o,In=ts(h.firstChild),Jn=!1,b=!0):b=!1),b||so(o)),je(o),b=o.type,_=o.pendingProps,O=i!==null?i.memoizedProps:null,h=_.children,cg(b,_)?h=null:O!==null&&cg(b,O)&&(o.flags|=32),o.memoizedState!==null&&(b=lf(i,o,g0,null,null,c),Rf._currentValue=b),tp(i,o),mi(i,o,h,c),o.child;case 6:return i===null&&nn&&((i=c=In)&&(c=eC(c,o.pendingProps,Jn),c!==null?(o.stateNode=c,$r=o,In=null,i=!0):i=!1),i||so(o)),null;case 13:return v2(i,o,c);case 4:return ve(o,o.stateNode.containerInfo),h=o.pendingProps,i===null?o.child=Fn(o,null,h,c):mi(i,o,h,c),o.child;case 11:return l2(i,o,o.type,o.pendingProps,c);case 7:return mi(i,o,o.pendingProps,c),o.child;case 8:return mi(i,o,o.pendingProps.children,c),o.child;case 12:return mi(i,o,o.pendingProps.children,c),o.child;case 10:return h=o.pendingProps,lo(o,o.type,h.value),mi(i,o,h.children,c),o.child;case 9:return b=o.type._context,h=o.pendingProps.children,uo(o),b=Wr(b),h=h(b),o.flags|=1,mi(i,o,h,c),o.child;case 14:return c2(i,o,o.type,o.pendingProps,c);case 15:return u2(i,o,o.type,o.pendingProps,c);case 19:return b2(i,o,c);case 31:return _6(i,o,c);case 22:return d2(i,o,c,o.pendingProps);case 24:return uo(o),h=Wr(lr),i===null?(b=Q(),b===null&&(b=Un,_=Ll(),b.pooledCache=_,_.refCount++,_!==null&&(b.pooledCacheLanes|=c),b=_),o.memoizedState={parent:h,cache:b},st(o),lo(o,lr,b)):((i.lanes&c)!==0&&(Gn(i,o),mr(o,null,null,c),Dn()),b=i.memoizedState,_=o.memoizedState,b.parent!==h?(b={parent:h,cache:h},o.memoizedState=b,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=b),lo(o,lr,h)):(h=_.cache,lo(o,lr,h),h!==b.cache&&Vo(o,[lr],c,!0))),mi(i,o,o.pendingProps.children,c),o.child;case 29:throw o.pendingProps}throw Error(r(156,o.tag))}function Yo(i){i.flags|=4}function M0(i,o,c,h,b){if((o=(i.mode&32)!==0)&&(o=!1),o){if(i.flags|=16777216,(b&335544128)===b)if(i.stateNode.complete)i.flags|=8192;else if(W2())i.flags|=8192;else throw Pe=xe,Ce}else i.flags&=-16777217}function x2(i,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!M5(o))if(W2())i.flags|=8192;else throw Pe=xe,Ce}function rp(i,o){o!==null&&(i.flags|=4),i.flags&16384&&(o=i.tag!==22?Ia():536870912,i.lanes|=o,Zu|=o)}function yf(i,o){if(!nn)switch(i.tailMode){case"hidden":o=i.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?i.tail=null:c.sibling=null;break;case"collapsed":c=i.tail;for(var h=null;c!==null;)c.alternate!==null&&(h=c),c=c.sibling;h===null?o||i.tail===null?i.tail=null:i.tail.sibling=null:h.sibling=null}}function Kn(i){var o=i.alternate!==null&&i.alternate.child===i.child,c=0,h=0;if(o)for(var b=i.child;b!==null;)c|=b.lanes|b.childLanes,h|=b.subtreeFlags&65011712,h|=b.flags&65011712,b.return=i,b=b.sibling;else for(b=i.child;b!==null;)c|=b.lanes|b.childLanes,h|=b.subtreeFlags,h|=b.flags,b.return=i,b=b.sibling;return i.subtreeFlags|=h,i.childLanes=c,o}function A6(i,o,c){var h=o.pendingProps;switch(Mu(o),o.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Kn(o),null;case 1:return Kn(o),null;case 3:return c=o.stateNode,h=null,i!==null&&(h=i.memoizedState.cache),o.memoizedState.cache!==h&&(o.flags|=2048),ra(lr),be(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(i===null||i.child===null)&&(Gr(o)?Yo(o):i===null||i.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,sf())),Kn(o),null;case 26:var b=o.type,_=o.memoizedState;return i===null?(Yo(o),_!==null?(Kn(o),x2(o,_)):(Kn(o),M0(o,b,null,h,c))):_?_!==i.memoizedState?(Yo(o),Kn(o),x2(o,_)):(Kn(o),o.flags&=-16777217):(i=i.memoizedProps,i!==h&&Yo(o),Kn(o),M0(o,b,i,h,c)),null;case 27:if(Oe(o),c=ue.current,b=o.type,i!==null&&o.stateNode!=null)i.memoizedProps!==h&&Yo(o);else{if(!h){if(o.stateNode===null)throw Error(r(166));return Kn(o),null}i=Z.current,Gr(o)?af(o):(i=T5(b,h,c),o.stateNode=i,Yo(o))}return Kn(o),null;case 5:if(Oe(o),b=o.type,i!==null&&o.stateNode!=null)i.memoizedProps!==h&&Yo(o);else{if(!h){if(o.stateNode===null)throw Error(r(166));return Kn(o),null}if(_=Z.current,Gr(o))af(o);else{var O=yp(ue.current);switch(_){case 1:_=O.createElementNS("http://www.w3.org/2000/svg",b);break;case 2:_=O.createElementNS("http://www.w3.org/1998/Math/MathML",b);break;default:switch(b){case"svg":_=O.createElementNS("http://www.w3.org/2000/svg",b);break;case"math":_=O.createElementNS("http://www.w3.org/1998/Math/MathML",b);break;case"script":_=O.createElement("div"),_.innerHTML="<script><\/script>",_=_.removeChild(_.firstChild);break;case"select":_=typeof h.is=="string"?O.createElement("select",{is:h.is}):O.createElement("select"),h.multiple?_.multiple=!0:h.size&&(_.size=h.size);break;default:_=typeof h.is=="string"?O.createElement(b,{is:h.is}):O.createElement(b)}}_[En]=o,_[Hn]=h;e:for(O=o.child;O!==null;){if(O.tag===5||O.tag===6)_.appendChild(O.stateNode);else if(O.tag!==4&&O.tag!==27&&O.child!==null){O.child.return=O,O=O.child;continue}if(O===o)break e;for(;O.sibling===null;){if(O.return===null||O.return===o)break e;O=O.return}O.sibling.return=O.return,O=O.sibling}o.stateNode=_;e:switch(gi(_,b,h),b){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}h&&Yo(o)}}return Kn(o),M0(o,o.type,i===null?null:i.memoizedProps,o.pendingProps,c),null;case 6:if(i&&o.stateNode!=null)i.memoizedProps!==h&&Yo(o);else{if(typeof h!="string"&&o.stateNode===null)throw Error(r(166));if(i=ue.current,Gr(o)){if(i=o.stateNode,c=o.memoizedProps,h=null,b=$r,b!==null)switch(b.tag){case 27:case 5:h=b.memoizedProps}i[En]=o,i=!!(i.nodeValue===c||h!==null&&h.suppressHydrationWarning===!0||v5(i.nodeValue,c)),i||so(o,!0)}else i=yp(i).createTextNode(h),i[En]=o,o.stateNode=i}return Kn(o),null;case 31:if(c=o.memoizedState,i===null||i.memoizedState!==null){if(h=Gr(o),c!==null){if(i===null){if(!h)throw Error(r(318));if(i=o.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(557));i[En]=o}else qo(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Kn(o),i=!1}else c=sf(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=c),i=!0;if(!i)return o.flags&256?(Cn(o),o):(Cn(o),null);if((o.flags&128)!==0)throw Error(r(558))}return Kn(o),null;case 13:if(h=o.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(b=Gr(o),h!==null&&h.dehydrated!==null){if(i===null){if(!b)throw Error(r(318));if(b=o.memoizedState,b=b!==null?b.dehydrated:null,!b)throw Error(r(317));b[En]=o}else qo(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Kn(o),b=!1}else b=sf(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=b),b=!0;if(!b)return o.flags&256?(Cn(o),o):(Cn(o),null)}return Cn(o),(o.flags&128)!==0?(o.lanes=c,o):(c=h!==null,i=i!==null&&i.memoizedState!==null,c&&(h=o.child,b=null,h.alternate!==null&&h.alternate.memoizedState!==null&&h.alternate.memoizedState.cachePool!==null&&(b=h.alternate.memoizedState.cachePool.pool),_=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(_=h.memoizedState.cachePool.pool),_!==b&&(h.flags|=2048)),c!==i&&c&&(o.child.flags|=8192),rp(o,o.updateQueue),Kn(o),null);case 4:return be(),i===null&&ig(o.stateNode.containerInfo),Kn(o),null;case 10:return ra(o.type),Kn(o),null;case 19:if(P(fn),h=o.memoizedState,h===null)return Kn(o),null;if(b=(o.flags&128)!==0,_=h.rendering,_===null)if(b)yf(h,!1);else{if(wr!==0||i!==null&&(i.flags&128)!==0)for(i=o.child;i!==null;){if(_=ri(i),_!==null){for(o.flags|=128,yf(h,!1),i=_.updateQueue,o.updateQueue=i,rp(o,i),o.subtreeFlags=0,i=c,c=o.child;c!==null;)Pc(c,i),c=c.sibling;return z(fn,fn.current&1|2),nn&&zi(o,h.treeForkCount),o.child}i=i.sibling}h.tail!==null&&He()>lp&&(o.flags|=128,b=!0,yf(h,!1),o.lanes=4194304)}else{if(!b)if(i=ri(_),i!==null){if(o.flags|=128,b=!0,i=i.updateQueue,o.updateQueue=i,rp(o,i),yf(h,!0),h.tail===null&&h.tailMode==="hidden"&&!_.alternate&&!nn)return Kn(o),null}else 2*He()-h.renderingStartTime>lp&&c!==536870912&&(o.flags|=128,b=!0,yf(h,!1),o.lanes=4194304);h.isBackwards?(_.sibling=o.child,o.child=_):(i=h.last,i!==null?i.sibling=_:o.child=_,h.last=_)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=He(),i.sibling=null,c=fn.current,z(fn,b?c&1|2:c&1),nn&&zi(o,h.treeForkCount),i):(Kn(o),null);case 22:case 23:return Cn(o),Tr(),h=o.memoizedState!==null,i!==null?i.memoizedState!==null!==h&&(o.flags|=8192):h&&(o.flags|=8192),h?(c&536870912)!==0&&(o.flags&128)===0&&(Kn(o),o.subtreeFlags&6&&(o.flags|=8192)):Kn(o),c=o.updateQueue,c!==null&&rp(o,c.retryQueue),c=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(c=i.memoizedState.cachePool.pool),h=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(h=o.memoizedState.cachePool.pool),h!==c&&(o.flags|=2048),i!==null&&P(G),null;case 24:return c=null,i!==null&&(c=i.memoizedState.cache),o.memoizedState.cache!==c&&(o.flags|=2048),ra(lr),Kn(o),null;case 25:return null;case 30:return null}throw Error(r(156,o.tag))}function N6(i,o){switch(Mu(o),o.tag){case 1:return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 3:return ra(lr),be(),i=o.flags,(i&65536)!==0&&(i&128)===0?(o.flags=i&-65537|128,o):null;case 26:case 27:case 5:return Oe(o),null;case 31:if(o.memoizedState!==null){if(Cn(o),o.alternate===null)throw Error(r(340));qo()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 13:if(Cn(o),i=o.memoizedState,i!==null&&i.dehydrated!==null){if(o.alternate===null)throw Error(r(340));qo()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 19:return P(fn),null;case 4:return be(),null;case 10:return ra(o.type),null;case 22:case 23:return Cn(o),Tr(),i!==null&&P(G),i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 24:return ra(lr),null;case 25:return null;default:return null}}function _2(i,o){switch(Mu(o),o.tag){case 3:ra(lr),be();break;case 26:case 27:case 5:Oe(o);break;case 4:be();break;case 31:o.memoizedState!==null&&Cn(o);break;case 13:Cn(o);break;case 19:P(fn);break;case 10:ra(o.type);break;case 22:case 23:Cn(o),Tr(),i!==null&&P(G);break;case 24:ra(lr)}}function bf(i,o){try{var c=o.updateQueue,h=c!==null?c.lastEffect:null;if(h!==null){var b=h.next;c=b;do{if((c.tag&i)===i){h=void 0;var _=c.create,O=c.inst;h=_(),O.destroy=h}c=c.next}while(c!==b)}}catch(K){jn(o,o.return,K)}}function Ml(i,o,c){try{var h=o.updateQueue,b=h!==null?h.lastEffect:null;if(b!==null){var _=b.next;h=_;do{if((h.tag&i)===i){var O=h.inst,K=O.destroy;if(K!==void 0){O.destroy=void 0,b=o;var fe=c,ke=K;try{ke()}catch(Fe){jn(b,fe,Fe)}}}h=h.next}while(h!==_)}}catch(Fe){jn(o,o.return,Fe)}}function S2(i){var o=i.updateQueue;if(o!==null){var c=i.stateNode;try{gr(o,c)}catch(h){jn(i,i.return,h)}}}function A2(i,o,c){c.props=qc(i.type,i.memoizedProps),c.state=i.memoizedState;try{c.componentWillUnmount()}catch(h){jn(i,o,h)}}function wf(i,o){try{var c=i.ref;if(c!==null){switch(i.tag){case 26:case 27:case 5:var h=i.stateNode;break;case 30:h=i.stateNode;break;default:h=i.stateNode}typeof c=="function"?i.refCleanup=c(h):c.current=h}}catch(b){jn(i,o,b)}}function go(i,o){var c=i.ref,h=i.refCleanup;if(c!==null)if(typeof h=="function")try{h()}catch(b){jn(i,o,b)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof c=="function")try{c(null)}catch(b){jn(i,o,b)}else c.current=null}function N2(i){var o=i.type,c=i.memoizedProps,h=i.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":c.autoFocus&&h.focus();break e;case"img":c.src?h.src=c.src:c.srcSet&&(h.srcset=c.srcSet)}}catch(b){jn(i,i.return,b)}}function B0(i,o,c){try{var h=i.stateNode;W6(h,i.type,c,o),h[Hn]=o}catch(b){jn(i,i.return,b)}}function E2(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Vl(i.type)||i.tag===4}function I0(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||E2(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Vl(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function F0(i,o,c){var h=i.tag;if(h===5||h===6)i=i.stateNode,o?(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c).insertBefore(i,o):(o=c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,o.appendChild(i),c=c._reactRootContainer,c!=null||o.onclick!==null||(o.onclick=ba));else if(h!==4&&(h===27&&Vl(i.type)&&(c=i.stateNode,o=null),i=i.child,i!==null))for(F0(i,o,c),i=i.sibling;i!==null;)F0(i,o,c),i=i.sibling}function ip(i,o,c){var h=i.tag;if(h===5||h===6)i=i.stateNode,o?c.insertBefore(i,o):c.appendChild(i);else if(h!==4&&(h===27&&Vl(i.type)&&(c=i.stateNode),i=i.child,i!==null))for(ip(i,o,c),i=i.sibling;i!==null;)ip(i,o,c),i=i.sibling}function C2(i){var o=i.stateNode,c=i.memoizedProps;try{for(var h=i.type,b=o.attributes;b.length;)o.removeAttributeNode(b[0]);gi(o,h,c),o[En]=i,o[Hn]=c}catch(_){jn(i,i.return,_)}}var Ko=!1,Ir=!1,U0=!1,T2=typeof WeakSet=="function"?WeakSet:Set,ii=null;function E6(i,o){if(i=i.containerInfo,og=Np,i=ks(i),Xa(i)){if("selectionStart"in i)var c={start:i.selectionStart,end:i.selectionEnd};else e:{c=(c=i.ownerDocument)&&c.defaultView||window;var h=c.getSelection&&c.getSelection();if(h&&h.rangeCount!==0){c=h.anchorNode;var b=h.anchorOffset,_=h.focusNode;h=h.focusOffset;try{c.nodeType,_.nodeType}catch{c=null;break e}var O=0,K=-1,fe=-1,ke=0,Fe=0,We=i,Le=null;t:for(;;){for(var De;We!==c||b!==0&&We.nodeType!==3||(K=O+b),We!==_||h!==0&&We.nodeType!==3||(fe=O+h),We.nodeType===3&&(O+=We.nodeValue.length),(De=We.firstChild)!==null;)Le=We,We=De;for(;;){if(We===i)break t;if(Le===c&&++ke===b&&(K=O),Le===_&&++Fe===h&&(fe=O),(De=We.nextSibling)!==null)break;We=Le,Le=We.parentNode}We=De}c=K===-1||fe===-1?null:{start:K,end:fe}}else c=null}c=c||{start:0,end:0}}else c=null;for(lg={focusedElem:i,selectionRange:c},Np=!1,ii=o;ii!==null;)if(o=ii,i=o.child,(o.subtreeFlags&1028)!==0&&i!==null)i.return=o,ii=i;else for(;ii!==null;){switch(o=ii,_=o.alternate,i=o.flags,o.tag){case 0:if((i&4)!==0&&(i=o.updateQueue,i=i!==null?i.events:null,i!==null))for(c=0;c<i.length;c++)b=i[c],b.ref.impl=b.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&_!==null){i=void 0,c=o,b=_.memoizedProps,_=_.memoizedState,h=c.stateNode;try{var vt=qc(c.type,b);i=h.getSnapshotBeforeUpdate(vt,_),h.__reactInternalSnapshotBeforeUpdate=i}catch(Bt){jn(c,c.return,Bt)}}break;case 3:if((i&1024)!==0){if(i=o.stateNode.containerInfo,c=i.nodeType,c===9)dg(i);else if(c===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":dg(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=o.sibling,i!==null){i.return=o.return,ii=i;break}ii=o.return}}function j2(i,o,c){var h=c.flags;switch(c.tag){case 0:case 11:case 15:Jo(i,c),h&4&&bf(5,c);break;case 1:if(Jo(i,c),h&4)if(i=c.stateNode,o===null)try{i.componentDidMount()}catch(O){jn(c,c.return,O)}else{var b=qc(c.type,o.memoizedProps);o=o.memoizedState;try{i.componentDidUpdate(b,o,i.__reactInternalSnapshotBeforeUpdate)}catch(O){jn(c,c.return,O)}}h&64&&S2(c),h&512&&wf(c,c.return);break;case 3:if(Jo(i,c),h&64&&(i=c.updateQueue,i!==null)){if(o=null,c.child!==null)switch(c.child.tag){case 27:case 5:o=c.child.stateNode;break;case 1:o=c.child.stateNode}try{gr(i,o)}catch(O){jn(c,c.return,O)}}break;case 27:o===null&&h&4&&C2(c);case 26:case 5:Jo(i,c),o===null&&h&4&&N2(c),h&512&&wf(c,c.return);break;case 12:Jo(i,c);break;case 31:Jo(i,c),h&4&&R2(i,c);break;case 13:Jo(i,c),h&4&&O2(i,c),h&64&&(i=c.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(c=P6.bind(null,c),tC(i,c))));break;case 22:if(h=c.memoizedState!==null||Ko,!h){o=o!==null&&o.memoizedState!==null||Ir,b=Ko;var _=Ir;Ko=h,(Ir=o)&&!_?Qo(i,c,(c.subtreeFlags&8772)!==0):Jo(i,c),Ko=b,Ir=_}break;case 30:break;default:Jo(i,c)}}function k2(i){var o=i.alternate;o!==null&&(i.alternate=null,k2(o)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(o=i.stateNode,o!==null&&Qs(o)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var er=null,aa=!1;function Xo(i,o,c){for(c=c.child;c!==null;)L2(i,o,c),c=c.sibling}function L2(i,o,c){if(rt&&typeof rt.onCommitFiberUnmount=="function")try{rt.onCommitFiberUnmount(kt,c)}catch{}switch(c.tag){case 26:Ir||go(c,o),Xo(i,o,c),c.memoizedState?c.memoizedState.count--:c.stateNode&&(c=c.stateNode,c.parentNode.removeChild(c));break;case 27:Ir||go(c,o);var h=er,b=aa;Vl(c.type)&&(er=c.stateNode,aa=!1),Xo(i,o,c),jf(c.stateNode),er=h,aa=b;break;case 5:Ir||go(c,o);case 6:if(h=er,b=aa,er=null,Xo(i,o,c),er=h,aa=b,er!==null)if(aa)try{(er.nodeType===9?er.body:er.nodeName==="HTML"?er.ownerDocument.body:er).removeChild(c.stateNode)}catch(_){jn(c,o,_)}else try{er.removeChild(c.stateNode)}catch(_){jn(c,o,_)}break;case 18:er!==null&&(aa?(i=er,S5(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,c.stateNode),od(i)):S5(er,c.stateNode));break;case 4:h=er,b=aa,er=c.stateNode.containerInfo,aa=!0,Xo(i,o,c),er=h,aa=b;break;case 0:case 11:case 14:case 15:Ml(2,c,o),Ir||Ml(4,c,o),Xo(i,o,c);break;case 1:Ir||(go(c,o),h=c.stateNode,typeof h.componentWillUnmount=="function"&&A2(c,o,h)),Xo(i,o,c);break;case 21:Xo(i,o,c);break;case 22:Ir=(h=Ir)||c.memoizedState!==null,Xo(i,o,c),Ir=h;break;default:Xo(i,o,c)}}function R2(i,o){if(o.memoizedState===null&&(i=o.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{od(i)}catch(c){jn(o,o.return,c)}}}function O2(i,o){if(o.memoizedState===null&&(i=o.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{od(i)}catch(c){jn(o,o.return,c)}}function C6(i){switch(i.tag){case 31:case 13:case 19:var o=i.stateNode;return o===null&&(o=i.stateNode=new T2),o;case 22:return i=i.stateNode,o=i._retryCache,o===null&&(o=i._retryCache=new T2),o;default:throw Error(r(435,i.tag))}}function ap(i,o){var c=C6(i);o.forEach(function(h){if(!c.has(h)){c.add(h);var b=M6.bind(null,i,h);h.then(b,b)}})}function sa(i,o){var c=o.deletions;if(c!==null)for(var h=0;h<c.length;h++){var b=c[h],_=i,O=o,K=O;e:for(;K!==null;){switch(K.tag){case 27:if(Vl(K.type)){er=K.stateNode,aa=!1;break e}break;case 5:er=K.stateNode,aa=!1;break e;case 3:case 4:er=K.stateNode.containerInfo,aa=!0;break e}K=K.return}if(er===null)throw Error(r(160));L2(_,O,b),er=null,aa=!1,_=b.alternate,_!==null&&(_.return=null),b.return=null}if(o.subtreeFlags&13886)for(o=o.child;o!==null;)D2(o,i),o=o.sibling}var Is=null;function D2(i,o){var c=i.alternate,h=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:sa(o,i),oa(i),h&4&&(Ml(3,i,i.return),bf(3,i),Ml(5,i,i.return));break;case 1:sa(o,i),oa(i),h&512&&(Ir||c===null||go(c,c.return)),h&64&&Ko&&(i=i.updateQueue,i!==null&&(h=i.callbacks,h!==null&&(c=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=c===null?h:c.concat(h))));break;case 26:var b=Is;if(sa(o,i),oa(i),h&512&&(Ir||c===null||go(c,c.return)),h&4){var _=c!==null?c.memoizedState:null;if(h=i.memoizedState,c===null)if(h===null)if(i.stateNode===null){e:{h=i.type,c=i.memoizedProps,b=b.ownerDocument||b;t:switch(h){case"title":_=b.getElementsByTagName("title")[0],(!_||_[ha]||_[En]||_.namespaceURI==="http://www.w3.org/2000/svg"||_.hasAttribute("itemprop"))&&(_=b.createElement(h),b.head.insertBefore(_,b.querySelector("head > title"))),gi(_,h,c),_[En]=i,ir(_),h=_;break e;case"link":var O=D5("link","href",b).get(h+(c.href||""));if(O){for(var K=0;K<O.length;K++)if(_=O[K],_.getAttribute("href")===(c.href==null||c.href===""?null:c.href)&&_.getAttribute("rel")===(c.rel==null?null:c.rel)&&_.getAttribute("title")===(c.title==null?null:c.title)&&_.getAttribute("crossorigin")===(c.crossOrigin==null?null:c.crossOrigin)){O.splice(K,1);break t}}_=b.createElement(h),gi(_,h,c),b.head.appendChild(_);break;case"meta":if(O=D5("meta","content",b).get(h+(c.content||""))){for(K=0;K<O.length;K++)if(_=O[K],_.getAttribute("content")===(c.content==null?null:""+c.content)&&_.getAttribute("name")===(c.name==null?null:c.name)&&_.getAttribute("property")===(c.property==null?null:c.property)&&_.getAttribute("http-equiv")===(c.httpEquiv==null?null:c.httpEquiv)&&_.getAttribute("charset")===(c.charSet==null?null:c.charSet)){O.splice(K,1);break t}}_=b.createElement(h),gi(_,h,c),b.head.appendChild(_);break;default:throw Error(r(468,h))}_[En]=i,ir(_),h=_}i.stateNode=h}else P5(b,i.type,i.stateNode);else i.stateNode=O5(b,h,i.memoizedProps);else _!==h?(_===null?c.stateNode!==null&&(c=c.stateNode,c.parentNode.removeChild(c)):_.count--,h===null?P5(b,i.type,i.stateNode):O5(b,h,i.memoizedProps)):h===null&&i.stateNode!==null&&B0(i,i.memoizedProps,c.memoizedProps)}break;case 27:sa(o,i),oa(i),h&512&&(Ir||c===null||go(c,c.return)),c!==null&&h&4&&B0(i,i.memoizedProps,c.memoizedProps);break;case 5:if(sa(o,i),oa(i),h&512&&(Ir||c===null||go(c,c.return)),i.flags&32){b=i.stateNode;try{ya(b,"")}catch(vt){jn(i,i.return,vt)}}h&4&&i.stateNode!=null&&(b=i.memoizedProps,B0(i,b,c!==null?c.memoizedProps:b)),h&1024&&(U0=!0);break;case 6:if(sa(o,i),oa(i),h&4){if(i.stateNode===null)throw Error(r(162));h=i.memoizedProps,c=i.stateNode;try{c.nodeValue=h}catch(vt){jn(i,i.return,vt)}}break;case 3:if(xp=null,b=Is,Is=bp(o.containerInfo),sa(o,i),Is=b,oa(i),h&4&&c!==null&&c.memoizedState.isDehydrated)try{od(o.containerInfo)}catch(vt){jn(i,i.return,vt)}U0&&(U0=!1,P2(i));break;case 4:h=Is,Is=bp(i.stateNode.containerInfo),sa(o,i),oa(i),Is=h;break;case 12:sa(o,i),oa(i);break;case 31:sa(o,i),oa(i),h&4&&(h=i.updateQueue,h!==null&&(i.updateQueue=null,ap(i,h)));break;case 13:sa(o,i),oa(i),i.child.flags&8192&&i.memoizedState!==null!=(c!==null&&c.memoizedState!==null)&&(op=He()),h&4&&(h=i.updateQueue,h!==null&&(i.updateQueue=null,ap(i,h)));break;case 22:b=i.memoizedState!==null;var fe=c!==null&&c.memoizedState!==null,ke=Ko,Fe=Ir;if(Ko=ke||b,Ir=Fe||fe,sa(o,i),Ir=Fe,Ko=ke,oa(i),h&8192)e:for(o=i.stateNode,o._visibility=b?o._visibility&-2:o._visibility|1,b&&(c===null||fe||Ko||Ir||Vc(i)),c=null,o=i;;){if(o.tag===5||o.tag===26){if(c===null){fe=c=o;try{if(_=fe.stateNode,b)O=_.style,typeof O.setProperty=="function"?O.setProperty("display","none","important"):O.display="none";else{K=fe.stateNode;var We=fe.memoizedProps.style,Le=We!=null&&We.hasOwnProperty("display")?We.display:null;K.style.display=Le==null||typeof Le=="boolean"?"":(""+Le).trim()}}catch(vt){jn(fe,fe.return,vt)}}}else if(o.tag===6){if(c===null){fe=o;try{fe.stateNode.nodeValue=b?"":fe.memoizedProps}catch(vt){jn(fe,fe.return,vt)}}}else if(o.tag===18){if(c===null){fe=o;try{var De=fe.stateNode;b?A5(De,!0):A5(fe.stateNode,!1)}catch(vt){jn(fe,fe.return,vt)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===i)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break e;for(;o.sibling===null;){if(o.return===null||o.return===i)break e;c===o&&(c=null),o=o.return}c===o&&(c=null),o.sibling.return=o.return,o=o.sibling}h&4&&(h=i.updateQueue,h!==null&&(c=h.retryQueue,c!==null&&(h.retryQueue=null,ap(i,c))));break;case 19:sa(o,i),oa(i),h&4&&(h=i.updateQueue,h!==null&&(i.updateQueue=null,ap(i,h)));break;case 30:break;case 21:break;default:sa(o,i),oa(i)}}function oa(i){var o=i.flags;if(o&2){try{for(var c,h=i.return;h!==null;){if(E2(h)){c=h;break}h=h.return}if(c==null)throw Error(r(160));switch(c.tag){case 27:var b=c.stateNode,_=I0(i);ip(i,_,b);break;case 5:var O=c.stateNode;c.flags&32&&(ya(O,""),c.flags&=-33);var K=I0(i);ip(i,K,O);break;case 3:case 4:var fe=c.stateNode.containerInfo,ke=I0(i);F0(i,ke,fe);break;default:throw Error(r(161))}}catch(Fe){jn(i,i.return,Fe)}i.flags&=-3}o&4096&&(i.flags&=-4097)}function P2(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var o=i;P2(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),i=i.sibling}}function Jo(i,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)j2(i,o.alternate,o),o=o.sibling}function Vc(i){for(i=i.child;i!==null;){var o=i;switch(o.tag){case 0:case 11:case 14:case 15:Ml(4,o,o.return),Vc(o);break;case 1:go(o,o.return);var c=o.stateNode;typeof c.componentWillUnmount=="function"&&A2(o,o.return,c),Vc(o);break;case 27:jf(o.stateNode);case 26:case 5:go(o,o.return),Vc(o);break;case 22:o.memoizedState===null&&Vc(o);break;case 30:Vc(o);break;default:Vc(o)}i=i.sibling}}function Qo(i,o,c){for(c=c&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var h=o.alternate,b=i,_=o,O=_.flags;switch(_.tag){case 0:case 11:case 15:Qo(b,_,c),bf(4,_);break;case 1:if(Qo(b,_,c),h=_,b=h.stateNode,typeof b.componentDidMount=="function")try{b.componentDidMount()}catch(ke){jn(h,h.return,ke)}if(h=_,b=h.updateQueue,b!==null){var K=h.stateNode;try{var fe=b.shared.hiddenCallbacks;if(fe!==null)for(b.shared.hiddenCallbacks=null,b=0;b<fe.length;b++)ni(fe[b],K)}catch(ke){jn(h,h.return,ke)}}c&&O&64&&S2(_),wf(_,_.return);break;case 27:C2(_);case 26:case 5:Qo(b,_,c),c&&h===null&&O&4&&N2(_),wf(_,_.return);break;case 12:Qo(b,_,c);break;case 31:Qo(b,_,c),c&&O&4&&R2(b,_);break;case 13:Qo(b,_,c),c&&O&4&&O2(b,_);break;case 22:_.memoizedState===null&&Qo(b,_,c),wf(_,_.return);break;case 30:break;default:Qo(b,_,c)}o=o.sibling}}function z0(i,o){var c=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(c=i.memoizedState.cachePool.pool),i=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(i=o.memoizedState.cachePool.pool),i!==c&&(i!=null&&i.refCount++,c!=null&&Ic(c))}function q0(i,o){i=null,o.alternate!==null&&(i=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==i&&(o.refCount++,i!=null&&Ic(i))}function Fs(i,o,c,h){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)M2(i,o,c,h),o=o.sibling}function M2(i,o,c,h){var b=o.flags;switch(o.tag){case 0:case 11:case 15:Fs(i,o,c,h),b&2048&&bf(9,o);break;case 1:Fs(i,o,c,h);break;case 3:Fs(i,o,c,h),b&2048&&(i=null,o.alternate!==null&&(i=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==i&&(o.refCount++,i!=null&&Ic(i)));break;case 12:if(b&2048){Fs(i,o,c,h),i=o.stateNode;try{var _=o.memoizedProps,O=_.id,K=_.onPostCommit;typeof K=="function"&&K(O,o.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(fe){jn(o,o.return,fe)}}else Fs(i,o,c,h);break;case 31:Fs(i,o,c,h);break;case 13:Fs(i,o,c,h);break;case 23:break;case 22:_=o.stateNode,O=o.alternate,o.memoizedState!==null?_._visibility&2?Fs(i,o,c,h):xf(i,o):_._visibility&2?Fs(i,o,c,h):(_._visibility|=2,Xu(i,o,c,h,(o.subtreeFlags&10256)!==0||!1)),b&2048&&z0(O,o);break;case 24:Fs(i,o,c,h),b&2048&&q0(o.alternate,o);break;default:Fs(i,o,c,h)}}function Xu(i,o,c,h,b){for(b=b&&((o.subtreeFlags&10256)!==0||!1),o=o.child;o!==null;){var _=i,O=o,K=c,fe=h,ke=O.flags;switch(O.tag){case 0:case 11:case 15:Xu(_,O,K,fe,b),bf(8,O);break;case 23:break;case 22:var Fe=O.stateNode;O.memoizedState!==null?Fe._visibility&2?Xu(_,O,K,fe,b):xf(_,O):(Fe._visibility|=2,Xu(_,O,K,fe,b)),b&&ke&2048&&z0(O.alternate,O);break;case 24:Xu(_,O,K,fe,b),b&&ke&2048&&q0(O.alternate,O);break;default:Xu(_,O,K,fe,b)}o=o.sibling}}function xf(i,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var c=i,h=o,b=h.flags;switch(h.tag){case 22:xf(c,h),b&2048&&z0(h.alternate,h);break;case 24:xf(c,h),b&2048&&q0(h.alternate,h);break;default:xf(c,h)}o=o.sibling}}var _f=8192;function Ju(i,o,c){if(i.subtreeFlags&_f)for(i=i.child;i!==null;)B2(i,o,c),i=i.sibling}function B2(i,o,c){switch(i.tag){case 26:Ju(i,o,c),i.flags&_f&&i.memoizedState!==null&&hC(c,Is,i.memoizedState,i.memoizedProps);break;case 5:Ju(i,o,c);break;case 3:case 4:var h=Is;Is=bp(i.stateNode.containerInfo),Ju(i,o,c),Is=h;break;case 22:i.memoizedState===null&&(h=i.alternate,h!==null&&h.memoizedState!==null?(h=_f,_f=16777216,Ju(i,o,c),_f=h):Ju(i,o,c));break;default:Ju(i,o,c)}}function I2(i){var o=i.alternate;if(o!==null&&(i=o.child,i!==null)){o.child=null;do o=i.sibling,i.sibling=null,i=o;while(i!==null)}}function Sf(i){var o=i.deletions;if((i.flags&16)!==0){if(o!==null)for(var c=0;c<o.length;c++){var h=o[c];ii=h,U2(h,i)}I2(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)F2(i),i=i.sibling}function F2(i){switch(i.tag){case 0:case 11:case 15:Sf(i),i.flags&2048&&Ml(9,i,i.return);break;case 3:Sf(i);break;case 12:Sf(i);break;case 22:var o=i.stateNode;i.memoizedState!==null&&o._visibility&2&&(i.return===null||i.return.tag!==13)?(o._visibility&=-3,sp(i)):Sf(i);break;default:Sf(i)}}function sp(i){var o=i.deletions;if((i.flags&16)!==0){if(o!==null)for(var c=0;c<o.length;c++){var h=o[c];ii=h,U2(h,i)}I2(i)}for(i=i.child;i!==null;){switch(o=i,o.tag){case 0:case 11:case 15:Ml(8,o,o.return),sp(o);break;case 22:c=o.stateNode,c._visibility&2&&(c._visibility&=-3,sp(o));break;default:sp(o)}i=i.sibling}}function U2(i,o){for(;ii!==null;){var c=ii;switch(c.tag){case 0:case 11:case 15:Ml(8,c,o);break;case 23:case 22:if(c.memoizedState!==null&&c.memoizedState.cachePool!==null){var h=c.memoizedState.cachePool.pool;h!=null&&h.refCount++}break;case 24:Ic(c.memoizedState.cache)}if(h=c.child,h!==null)h.return=c,ii=h;else e:for(c=i;ii!==null;){h=ii;var b=h.sibling,_=h.return;if(k2(h),h===c){ii=null;break e}if(b!==null){b.return=_,ii=b;break e}ii=_}}}var T6={getCacheForType:function(i){var o=Wr(lr),c=o.data.get(i);return c===void 0&&(c=i(),o.data.set(i,c)),c},cacheSignal:function(){return Wr(lr).controller.signal}},j6=typeof WeakMap=="function"?WeakMap:Map,An=0,Un=null,rn=null,on=0,Tn=0,Ea=null,Bl=!1,Qu=!1,V0=!1,Zo=0,wr=0,Il=0,Hc=0,H0=0,Ca=0,Zu=0,Af=null,la=null,$0=!1,op=0,z2=0,lp=1/0,cp=null,Fl=null,Kr=0,Ul=null,ed=null,el=0,G0=0,W0=null,q2=null,Nf=0,Y0=null;function Ta(){return(An&2)!==0&&on!==0?on&-on:re.T!==null?eg():Or()}function V2(){if(Ca===0)if((on&536870912)===0||nn){var i=Xt;Xt<<=1,(Xt&3932160)===0&&(Xt=262144),Ca=i}else Ca=536870912;return i=Yn.current,i!==null&&(i.flags|=32),Ca}function ca(i,o,c){(i===Un&&(Tn===2||Tn===9)||i.cancelPendingCommit!==null)&&(td(i,0),zl(i,on,Ca,!1)),Tt(i,c),((An&2)===0||i!==Un)&&(i===Un&&((An&2)===0&&(Hc|=c),wr===4&&zl(i,on,Ca,!1)),vo(i))}function H2(i,o,c){if((An&6)!==0)throw Error(r(327));var h=!c&&(o&127)===0&&(o&i.expiredLanes)===0||ki(i,o),b=h?R6(i,o):X0(i,o,!0),_=h;do{if(b===0){Qu&&!h&&zl(i,o,0,!1);break}else{if(c=i.current.alternate,_&&!k6(c)){b=X0(i,o,!1),_=!1;continue}if(b===2){if(_=o,i.errorRecoveryDisabledLanes&_)var O=0;else O=i.pendingLanes&-536870913,O=O!==0?O:O&536870912?536870912:0;if(O!==0){o=O;e:{var K=i;b=Af;var fe=K.current.memoizedState.isDehydrated;if(fe&&(td(K,O).flags|=256),O=X0(K,O,!1),O!==2){if(V0&&!fe){K.errorRecoveryDisabledLanes|=_,Hc|=_,b=4;break e}_=la,la=b,_!==null&&(la===null?la=_:la.push.apply(la,_))}b=O}if(_=!1,b!==2)continue}}if(b===1){td(i,0),zl(i,o,0,!0);break}e:{switch(h=i,_=b,_){case 0:case 1:throw Error(r(345));case 4:if((o&4194048)!==o)break;case 6:zl(h,o,Ca,!Bl);break e;case 2:la=null;break;case 3:case 5:break;default:throw Error(r(329))}if((o&62914560)===o&&(b=op+300-He(),10<b)){if(zl(h,o,Ca,!Bl),Ht(h,0,!0)!==0)break e;el=o,h.timeoutHandle=x5($2.bind(null,h,c,la,cp,$0,o,Ca,Hc,Zu,Bl,_,"Throttled",-0,0),b);break e}$2(h,c,la,cp,$0,o,Ca,Hc,Zu,Bl,_,null,-0,0)}}break}while(!0);vo(i)}function $2(i,o,c,h,b,_,O,K,fe,ke,Fe,We,Le,De){if(i.timeoutHandle=-1,We=o.subtreeFlags,We&8192||(We&16785408)===16785408){We={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ba},B2(o,_,We);var vt=(_&62914560)===_?op-He():(_&4194048)===_?z2-He():0;if(vt=pC(We,vt),vt!==null){el=_,i.cancelPendingCommit=vt(Z2.bind(null,i,o,_,c,h,b,O,K,fe,Fe,We,null,Le,De)),zl(i,_,O,!ke);return}}Z2(i,o,_,c,h,b,O,K,fe)}function k6(i){for(var o=i;;){var c=o.tag;if((c===0||c===11||c===15)&&o.flags&16384&&(c=o.updateQueue,c!==null&&(c=c.stores,c!==null)))for(var h=0;h<c.length;h++){var b=c[h],_=b.getSnapshot;b=b.value;try{if(!Vr(_(),b))return!1}catch{return!1}}if(c=o.child,o.subtreeFlags&16384&&c!==null)c.return=o,o=c;else{if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function zl(i,o,c,h){o&=~H0,o&=~Hc,i.suspendedLanes|=o,i.pingedLanes&=~o,h&&(i.warmLanes|=o),h=i.expirationTimes;for(var b=o;0<b;){var _=31-Dt(b),O=1<<_;h[_]=-1,b&=~O}c!==0&&Fa(i,c,o)}function up(){return(An&6)===0?(Ef(0),!1):!0}function K0(){if(rn!==null){if(Tn===0)var i=rn.return;else i=rn,Qa=oo=null,Vu(i),Ye=null,yt=0,i=rn;for(;i!==null;)_2(i.alternate,i),i=i.return;rn=null}}function td(i,o){var c=i.timeoutHandle;c!==-1&&(i.timeoutHandle=-1,X6(c)),c=i.cancelPendingCommit,c!==null&&(i.cancelPendingCommit=null,c()),el=0,K0(),Un=i,rn=c=Ji(i.current,null),on=o,Tn=0,Ea=null,Bl=!1,Qu=ki(i,o),V0=!1,Zu=Ca=H0=Hc=Il=wr=0,la=Af=null,$0=!1,(o&8)!==0&&(o|=o&32);var h=i.entangledLanes;if(h!==0)for(i=i.entanglements,h&=o;0<h;){var b=31-Dt(h),_=1<<b;o|=i[b],h&=~_}return Zo=o,Rc(),c}function G2(i,o){jt=null,re.H=gf,o===ge||o===ie?(o=ze(),Tn=3):o===Ce?(o=ze(),Tn=4):Tn=o===C0?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,Ea=o,rn===null&&(wr=1,Zh(i,Qi(o,i.current)))}function W2(){var i=Yn.current;return i===null?!0:(on&4194048)===on?pn===null:(on&62914560)===on||(on&536870912)!==0?i===pn:!1}function Y2(){var i=re.H;return re.H=gf,i===null?gf:i}function K2(){var i=re.A;return re.A=T6,i}function dp(){wr=4,Bl||(on&4194048)!==on&&Yn.current!==null||(Qu=!0),(Il&134217727)===0&&(Hc&134217727)===0||Un===null||zl(Un,on,Ca,!1)}function X0(i,o,c){var h=An;An|=2;var b=Y2(),_=K2();(Un!==i||on!==o)&&(cp=null,td(i,o)),o=!1;var O=wr;e:do try{if(Tn!==0&&rn!==null){var K=rn,fe=Ea;switch(Tn){case 8:K0(),O=6;break e;case 3:case 2:case 9:case 6:Yn.current===null&&(o=!0);var ke=Tn;if(Tn=0,Ea=null,nd(i,K,fe,ke),c&&Qu){O=0;break e}break;default:ke=Tn,Tn=0,Ea=null,nd(i,K,fe,ke)}}L6(),O=wr;break}catch(Fe){G2(i,Fe)}while(!0);return o&&i.shellSuspendCounter++,Qa=oo=null,An=h,re.H=b,re.A=_,rn===null&&(Un=null,on=0,Rc()),O}function L6(){for(;rn!==null;)X2(rn)}function R6(i,o){var c=An;An|=2;var h=Y2(),b=K2();Un!==i||on!==o?(cp=null,lp=He()+500,td(i,o)):Qu=ki(i,o);e:do try{if(Tn!==0&&rn!==null){o=rn;var _=Ea;t:switch(Tn){case 1:Tn=0,Ea=null,nd(i,o,_,1);break;case 2:case 9:if(Ae(_)){Tn=0,Ea=null,J2(o);break}o=function(){Tn!==2&&Tn!==9||Un!==i||(Tn=7),vo(i)},_.then(o,o);break e;case 3:Tn=7;break e;case 4:Tn=5;break e;case 7:Ae(_)?(Tn=0,Ea=null,J2(o)):(Tn=0,Ea=null,nd(i,o,_,7));break;case 5:var O=null;switch(rn.tag){case 26:O=rn.memoizedState;case 5:case 27:var K=rn;if(O?M5(O):K.stateNode.complete){Tn=0,Ea=null;var fe=K.sibling;if(fe!==null)rn=fe;else{var ke=K.return;ke!==null?(rn=ke,fp(ke)):rn=null}break t}}Tn=0,Ea=null,nd(i,o,_,5);break;case 6:Tn=0,Ea=null,nd(i,o,_,6);break;case 8:K0(),wr=6;break e;default:throw Error(r(462))}}O6();break}catch(Fe){G2(i,Fe)}while(!0);return Qa=oo=null,re.H=h,re.A=b,An=c,rn!==null?0:(Un=null,on=0,Rc(),wr)}function O6(){for(;rn!==null&&!Ke();)X2(rn)}function X2(i){var o=w2(i.alternate,i,Zo);i.memoizedProps=i.pendingProps,o===null?fp(i):rn=o}function J2(i){var o=i,c=o.alternate;switch(o.tag){case 15:case 0:o=p2(c,o,o.pendingProps,o.type,void 0,on);break;case 11:o=p2(c,o,o.pendingProps,o.type.render,o.ref,on);break;case 5:Vu(o);default:_2(c,o),o=rn=Pc(o,Zo),o=w2(c,o,Zo)}i.memoizedProps=i.pendingProps,o===null?fp(i):rn=o}function nd(i,o,c,h){Qa=oo=null,Vu(o),Ye=null,yt=0;var b=o.return;try{if(x6(i,b,o,c,on)){wr=1,Zh(i,Qi(c,i.current)),rn=null;return}}catch(_){if(b!==null)throw rn=b,_;wr=1,Zh(i,Qi(c,i.current)),rn=null;return}o.flags&32768?(nn||h===1?i=!0:Qu||(on&536870912)!==0?i=!1:(Bl=i=!0,(h===2||h===9||h===3||h===6)&&(h=Yn.current,h!==null&&h.tag===13&&(h.flags|=16384))),Q2(o,i)):fp(o)}function fp(i){var o=i;do{if((o.flags&32768)!==0){Q2(o,Bl);return}i=o.return;var c=A6(o.alternate,o,Zo);if(c!==null){rn=c;return}if(o=o.sibling,o!==null){rn=o;return}rn=o=i}while(o!==null);wr===0&&(wr=5)}function Q2(i,o){do{var c=N6(i.alternate,i);if(c!==null){c.flags&=32767,rn=c;return}if(c=i.return,c!==null&&(c.flags|=32768,c.subtreeFlags=0,c.deletions=null),!o&&(i=i.sibling,i!==null)){rn=i;return}rn=i=c}while(i!==null);wr=6,rn=null}function Z2(i,o,c,h,b,_,O,K,fe){i.cancelPendingCommit=null;do hp();while(Kr!==0);if((An&6)!==0)throw Error(r(327));if(o!==null){if(o===i.current)throw Error(r(177));if(_=o.lanes|o.childLanes,_|=ju,fs(i,c,_,O,K,fe),i===Un&&(rn=Un=null,on=0),ed=o,Ul=i,el=c,G0=_,W0=b,q2=h,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,B6(ct,function(){return i5(),null})):(i.callbackNode=null,i.callbackPriority=0),h=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||h){h=re.T,re.T=null,b=le.p,le.p=2,O=An,An|=4;try{E6(i,o,c)}finally{An=O,le.p=b,re.T=h}}Kr=1,e5(),t5(),n5()}}function e5(){if(Kr===1){Kr=0;var i=Ul,o=ed,c=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||c){c=re.T,re.T=null;var h=le.p;le.p=2;var b=An;An|=4;try{D2(o,i);var _=lg,O=ks(i.containerInfo),K=_.focusedElem,fe=_.selectionRange;if(O!==K&&K&&K.ownerDocument&&js(K.ownerDocument.documentElement,K)){if(fe!==null&&Xa(K)){var ke=fe.start,Fe=fe.end;if(Fe===void 0&&(Fe=ke),"selectionStart"in K)K.selectionStart=ke,K.selectionEnd=Math.min(Fe,K.value.length);else{var We=K.ownerDocument||document,Le=We&&We.defaultView||window;if(Le.getSelection){var De=Le.getSelection(),vt=K.textContent.length,Bt=Math.min(fe.start,vt),Bn=fe.end===void 0?Bt:Math.min(fe.end,vt);!De.extend&&Bt>Bn&&(O=Bn,Bn=Bt,Bt=O);var Se=Nl(K,Bt),ye=Nl(K,Bn);if(Se&&ye&&(De.rangeCount!==1||De.anchorNode!==Se.node||De.anchorOffset!==Se.offset||De.focusNode!==ye.node||De.focusOffset!==ye.offset)){var Te=We.createRange();Te.setStart(Se.node,Se.offset),De.removeAllRanges(),Bt>Bn?(De.addRange(Te),De.extend(ye.node,ye.offset)):(Te.setEnd(ye.node,ye.offset),De.addRange(Te))}}}}for(We=[],De=K;De=De.parentNode;)De.nodeType===1&&We.push({element:De,left:De.scrollLeft,top:De.scrollTop});for(typeof K.focus=="function"&&K.focus(),K=0;K<We.length;K++){var Ve=We[K];Ve.element.scrollLeft=Ve.left,Ve.element.scrollTop=Ve.top}}Np=!!og,lg=og=null}finally{An=b,le.p=h,re.T=c}}i.current=o,Kr=2}}function t5(){if(Kr===2){Kr=0;var i=Ul,o=ed,c=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||c){c=re.T,re.T=null;var h=le.p;le.p=2;var b=An;An|=4;try{j2(i,o.alternate,o)}finally{An=b,le.p=h,re.T=c}}Kr=3}}function n5(){if(Kr===4||Kr===3){Kr=0,Ge();var i=Ul,o=ed,c=el,h=q2;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?Kr=5:(Kr=0,ed=Ul=null,r5(i,i.pendingLanes));var b=i.pendingLanes;if(b===0&&(Fl=null),fr(c),o=o.stateNode,rt&&typeof rt.onCommitFiberRoot=="function")try{rt.onCommitFiberRoot(kt,o,void 0,(o.current.flags&128)===128)}catch{}if(h!==null){o=re.T,b=le.p,le.p=2,re.T=null;try{for(var _=i.onRecoverableError,O=0;O<h.length;O++){var K=h[O];_(K.value,{componentStack:K.stack})}}finally{re.T=o,le.p=b}}(el&3)!==0&&hp(),vo(i),b=i.pendingLanes,(c&261930)!==0&&(b&42)!==0?i===Y0?Nf++:(Nf=0,Y0=i):Nf=0,Ef(0)}}function r5(i,o){(i.pooledCacheLanes&=o)===0&&(o=i.pooledCache,o!=null&&(i.pooledCache=null,Ic(o)))}function hp(){return e5(),t5(),n5(),i5()}function i5(){if(Kr!==5)return!1;var i=Ul,o=G0;G0=0;var c=fr(el),h=re.T,b=le.p;try{le.p=32>c?32:c,re.T=null,c=W0,W0=null;var _=Ul,O=el;if(Kr=0,ed=Ul=null,el=0,(An&6)!==0)throw Error(r(331));var K=An;if(An|=4,F2(_.current),M2(_,_.current,O,c),An=K,Ef(0,!1),rt&&typeof rt.onPostCommitFiberRoot=="function")try{rt.onPostCommitFiberRoot(kt,_)}catch{}return!0}finally{le.p=b,re.T=h,r5(i,o)}}function a5(i,o,c){o=Qi(c,o),o=E0(i.stateNode,o,2),i=Kt(i,o,2),i!==null&&(Tt(i,2),vo(i))}function jn(i,o,c){if(i.tag===3)a5(i,i,c);else for(;o!==null;){if(o.tag===3){a5(o,i,c);break}else if(o.tag===1){var h=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(Fl===null||!Fl.has(h))){i=Qi(c,i),c=s2(2),h=Kt(o,c,2),h!==null&&(o2(c,h,o,i),Tt(h,2),vo(h));break}}o=o.return}}function J0(i,o,c){var h=i.pingCache;if(h===null){h=i.pingCache=new j6;var b=new Set;h.set(o,b)}else b=h.get(o),b===void 0&&(b=new Set,h.set(o,b));b.has(c)||(V0=!0,b.add(c),i=D6.bind(null,i,o,c),o.then(i,i))}function D6(i,o,c){var h=i.pingCache;h!==null&&h.delete(o),i.pingedLanes|=i.suspendedLanes&c,i.warmLanes&=~c,Un===i&&(on&c)===c&&(wr===4||wr===3&&(on&62914560)===on&&300>He()-op?(An&2)===0&&td(i,0):H0|=c,Zu===on&&(Zu=0)),vo(i)}function s5(i,o){o===0&&(o=Ia()),i=Rs(i,o),i!==null&&(Tt(i,o),vo(i))}function P6(i){var o=i.memoizedState,c=0;o!==null&&(c=o.retryLane),s5(i,c)}function M6(i,o){var c=0;switch(i.tag){case 31:case 13:var h=i.stateNode,b=i.memoizedState;b!==null&&(c=b.retryLane);break;case 19:h=i.stateNode;break;case 22:h=i.stateNode._retryCache;break;default:throw Error(r(314))}h!==null&&h.delete(o),s5(i,c)}function B6(i,o){return de(i,o)}var pp=null,rd=null,Q0=!1,mp=!1,Z0=!1,ql=0;function vo(i){i!==rd&&i.next===null&&(rd===null?pp=rd=i:rd=rd.next=i),mp=!0,Q0||(Q0=!0,F6())}function Ef(i,o){if(!Z0&&mp){Z0=!0;do for(var c=!1,h=pp;h!==null;){if(i!==0){var b=h.pendingLanes;if(b===0)var _=0;else{var O=h.suspendedLanes,K=h.pingedLanes;_=(1<<31-Dt(42|i)+1)-1,_&=b&~(O&~K),_=_&201326741?_&201326741|1:_?_|2:0}_!==0&&(c=!0,u5(h,_))}else _=on,_=Ht(h,h===Un?_:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),(_&3)===0||ki(h,_)||(c=!0,u5(h,_));h=h.next}while(c);Z0=!1}}function I6(){o5()}function o5(){mp=Q0=!1;var i=0;ql!==0&&K6()&&(i=ql);for(var o=He(),c=null,h=pp;h!==null;){var b=h.next,_=l5(h,o);_===0?(h.next=null,c===null?pp=b:c.next=b,b===null&&(rd=c)):(c=h,(i!==0||(_&3)!==0)&&(mp=!0)),h=b}Kr!==0&&Kr!==5||Ef(i),ql!==0&&(ql=0)}function l5(i,o){for(var c=i.suspendedLanes,h=i.pingedLanes,b=i.expirationTimes,_=i.pendingLanes&-62914561;0<_;){var O=31-Dt(_),K=1<<O,fe=b[O];fe===-1?((K&c)===0||(K&h)!==0)&&(b[O]=Rr(K,o)):fe<=o&&(i.expiredLanes|=K),_&=~K}if(o=Un,c=on,c=Ht(i,i===o?c:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),h=i.callbackNode,c===0||i===o&&(Tn===2||Tn===9)||i.cancelPendingCommit!==null)return h!==null&&h!==null&&Ne(h),i.callbackNode=null,i.callbackPriority=0;if((c&3)===0||ki(i,c)){if(o=c&-c,o===i.callbackPriority)return o;switch(h!==null&&Ne(h),fr(c)){case 2:case 8:c=ot;break;case 32:c=ct;break;case 268435456:c=ht;break;default:c=ct}return h=c5.bind(null,i),c=de(c,h),i.callbackPriority=o,i.callbackNode=c,o}return h!==null&&h!==null&&Ne(h),i.callbackPriority=2,i.callbackNode=null,2}function c5(i,o){if(Kr!==0&&Kr!==5)return i.callbackNode=null,i.callbackPriority=0,null;var c=i.callbackNode;if(hp()&&i.callbackNode!==c)return null;var h=on;return h=Ht(i,i===Un?h:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),h===0?null:(H2(i,h,o),l5(i,He()),i.callbackNode!=null&&i.callbackNode===c?c5.bind(null,i):null)}function u5(i,o){if(hp())return null;H2(i,o,!0)}function F6(){J6(function(){(An&6)!==0?de(Je,I6):o5()})}function eg(){if(ql===0){var i=m;i===0&&(i=Et,Et<<=1,(Et&261888)===0&&(Et=256)),ql=i}return ql}function d5(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:xi(""+i)}function f5(i,o){var c=o.ownerDocument.createElement("input");return c.name=o.name,c.value=o.value,i.id&&c.setAttribute("form",i.id),o.parentNode.insertBefore(c,o),i=new FormData(i),c.parentNode.removeChild(c),i}function U6(i,o,c,h,b){if(o==="submit"&&c&&c.stateNode===b){var _=d5((b[Hn]||null).action),O=h.submitter;O&&(o=(o=O[Hn]||null)?d5(o.formAction):O.getAttribute("formAction"),o!==null&&(_=o,O=null));var K=new Yi("action","action",null,h,b);i.push({event:K,listeners:[{instance:null,listener:function(){if(h.defaultPrevented){if(ql!==0){var fe=O?f5(b,O):new FormData(b);w0(c,{pending:!0,data:fe,method:b.method,action:_},null,fe)}}else typeof _=="function"&&(K.preventDefault(),fe=O?f5(b,O):new FormData(b),w0(c,{pending:!0,data:fe,method:b.method,action:_},_,fe))},currentTarget:b}]})}}for(var tg=0;tg<Fo.length;tg++){var ng=Fo[tg],z6=ng.toLowerCase(),q6=ng[0].toUpperCase()+ng.slice(1);Xi(z6,"on"+q6)}Xi(Io,"onAnimationEnd"),Xi(kc,"onAnimationIteration"),Xi(ef,"onAnimationStart"),Xi("dblclick","onDoubleClick"),Xi("focusin","onFocus"),Xi("focusout","onBlur"),Xi(Uh,"onTransitionRun"),Xi(zh,"onTransitionStart"),Xi(qh,"onTransitionCancel"),Xi(tf,"onTransitionEnd"),hs("onMouseEnter",["mouseout","mouseover"]),hs("onMouseLeave",["mouseout","mouseover"]),hs("onPointerEnter",["pointerout","pointerover"]),hs("onPointerLeave",["pointerout","pointerover"]),ga("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ga("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ga("onBeforeInput",["compositionend","keypress","textInput","paste"]),ga("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ga("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ga("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Cf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),V6=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Cf));function h5(i,o){o=(o&4)!==0;for(var c=0;c<i.length;c++){var h=i[c],b=h.event;h=h.listeners;e:{var _=void 0;if(o)for(var O=h.length-1;0<=O;O--){var K=h[O],fe=K.instance,ke=K.currentTarget;if(K=K.listener,fe!==_&&b.isPropagationStopped())break e;_=K,b.currentTarget=ke;try{_(b)}catch(Fe){Lc(Fe)}b.currentTarget=null,_=fe}else for(O=0;O<h.length;O++){if(K=h[O],fe=K.instance,ke=K.currentTarget,K=K.listener,fe!==_&&b.isPropagationStopped())break e;_=K,b.currentTarget=ke;try{_(b)}catch(Fe){Lc(Fe)}b.currentTarget=null,_=fe}}}}function an(i,o){var c=o[Oi];c===void 0&&(c=o[Oi]=new Set);var h=i+"__bubble";c.has(h)||(p5(o,i,2,!1),c.add(h))}function rg(i,o,c){var h=0;o&&(h|=4),p5(c,i,h,o)}var gp="_reactListening"+Math.random().toString(36).slice(2);function ig(i){if(!i[gp]){i[gp]=!0,hc.forEach(function(c){c!=="selectionchange"&&(V6.has(c)||rg(c,!1,i),rg(c,!0,i))});var o=i.nodeType===9?i:i.ownerDocument;o===null||o[gp]||(o[gp]=!0,rg("selectionchange",!1,o))}}function p5(i,o,c,h){switch(V5(o)){case 2:var b=vC;break;case 8:b=yC;break;default:b=bg}c=b.bind(null,o,c,i),b=void 0,!Nc||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(b=!0),h?b!==void 0?i.addEventListener(o,c,{capture:!0,passive:b}):i.addEventListener(o,c,!0):b!==void 0?i.addEventListener(o,c,{passive:b}):i.addEventListener(o,c,!1)}function ag(i,o,c,h,b){var _=h;if((o&1)===0&&(o&2)===0&&h!==null)e:for(;;){if(h===null)return;var O=h.tag;if(O===3||O===4){var K=h.stateNode.containerInfo;if(K===b)break;if(O===4)for(O=h.return;O!==null;){var fe=O.tag;if((fe===3||fe===4)&&O.stateNode.containerInfo===b)return;O=O.return}for(;K!==null;){if(O=pa(K),O===null)return;if(fe=O.tag,fe===5||fe===6||fe===26||fe===27){h=_=O;continue e}K=K.parentNode}}h=h.return}Au(function(){var ke=_,Fe=Lo(c),We=[];e:{var Le=nf.get(i);if(Le!==void 0){var De=Yi,vt=i;switch(i){case"keypress":if(Wi(c)===0)break e;case"keydown":case"keyup":De=un;break;case"focusin":vt="focus",De=xs;break;case"focusout":vt="blur",De=xs;break;case"beforeblur":case"afterblur":De=xs;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":De=Ec;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":De=ws;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":De=Er;break;case Io:case kc:case ef:De=S;break;case tf:De=qr;break;case"scroll":case"scrollend":De=yl;break;case"wheel":De=wa;break;case"copy":case"cut":case"paste":De=oe;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":De=ar;break;case"toggle":case"beforetoggle":De=Cc}var Bt=(o&4)!==0,Bn=!Bt&&(i==="scroll"||i==="scrollend"),Se=Bt?Le!==null?Le+"Capture":null:Le;Bt=[];for(var ye=ke,Te;ye!==null;){var Ve=ye;if(Te=Ve.stateNode,Ve=Ve.tag,Ve!==5&&Ve!==26&&Ve!==27||Te===null||Se===null||(Ve=Mi(ye,Se),Ve!=null&&Bt.push(Tf(ye,Ve,Te))),Bn)break;ye=ye.return}0<Bt.length&&(Le=new De(Le,vt,null,c,Fe),We.push({event:Le,listeners:Bt}))}}if((o&7)===0){e:{if(Le=i==="mouseover"||i==="pointerover",De=i==="mouseout"||i==="pointerout",Le&&c!==ms&&(vt=c.relatedTarget||c.fromElement)&&(pa(vt)||vt[Qr]))break e;if((De||Le)&&(Le=Fe.window===Fe?Fe:(Le=Fe.ownerDocument)?Le.defaultView||Le.parentWindow:window,De?(vt=c.relatedTarget||c.toElement,De=ke,vt=vt?pa(vt):null,vt!==null&&(Bn=s(vt),Bt=vt.tag,vt!==Bn||Bt!==5&&Bt!==27&&Bt!==6)&&(vt=null)):(De=null,vt=ke),De!==vt)){if(Bt=Ec,Ve="onMouseLeave",Se="onMouseEnter",ye="mouse",(i==="pointerout"||i==="pointerover")&&(Bt=ar,Ve="onPointerLeave",Se="onPointerEnter",ye="pointer"),Bn=De==null?Le:jo(De),Te=vt==null?Le:jo(vt),Le=new Bt(Ve,ye+"leave",De,c,Fe),Le.target=Bn,Le.relatedTarget=Te,Ve=null,pa(Fe)===ke&&(Bt=new Bt(Se,ye+"enter",vt,c,Fe),Bt.target=Te,Bt.relatedTarget=Bn,Ve=Bt),Bn=Ve,De&&vt)t:{for(Bt=H6,Se=De,ye=vt,Te=0,Ve=Se;Ve;Ve=Bt(Ve))Te++;Ve=0;for(var Ot=ye;Ot;Ot=Bt(Ot))Ve++;for(;0<Te-Ve;)Se=Bt(Se),Te--;for(;0<Ve-Te;)ye=Bt(ye),Ve--;for(;Te--;){if(Se===ye||ye!==null&&Se===ye.alternate){Bt=Se;break t}Se=Bt(Se),ye=Bt(ye)}Bt=null}else Bt=null;De!==null&&m5(We,Le,De,Bt,!1),vt!==null&&Bn!==null&&m5(We,Bn,vt,Bt,!0)}}e:{if(Le=ke?jo(ke):window,De=Le.nodeName&&Le.nodeName.toLowerCase(),De==="select"||De==="input"&&Le.type==="file")var wn=ro;else if(Tc(Le))if(_i)wn=Ya;else{wn=sr;var xt=Sl}else De=Le.nodeName,!De||De.toLowerCase()!=="input"||Le.type!=="checkbox"&&Le.type!=="radio"?ke&&_c(ke.elementType)&&(wn=ro):wn=Tu;if(wn&&(wn=wn(i,ke))){Ii(We,wn,c,Fe);break e}xt&&xt(i,Le,ke),i==="focusout"&&ke&&Le.type==="number"&&ke.memoizedProps.value!=null&&bc(Le,"number",Le.value)}switch(xt=ke?jo(ke):window,i){case"focusin":(Tc(xt)||xt.contentEditable==="true")&&(Fi=xt,Ls=ke,Zr=null);break;case"focusout":Zr=Ls=Fi=null;break;case"mousedown":Ki=!0;break;case"contextmenu":case"mouseup":case"dragend":Ki=!1,yn(We,c,Fe);break;case"selectionchange":if(Bo)break;case"keydown":case"keyup":yn(We,c,Fe)}var Jt;if(Ha)e:{switch(i){case"compositionstart":var ln="onCompositionStart";break e;case"compositionend":ln="onCompositionEnd";break e;case"compositionupdate":ln="onCompositionUpdate";break e}ln=void 0}else $a?no(i,c)&&(ln="onCompositionEnd"):i==="keydown"&&c.keyCode===229&&(ln="onCompositionStart");ln&&(As&&c.locale!=="ko"&&($a||ln!=="onCompositionStart"?ln==="onCompositionEnd"&&$a&&(Jt=Nu()):(Bi=Fe,Oo="value"in Bi?Bi.value:Bi.textContent,$a=!0)),xt=vp(ke,ln),0<xt.length&&(ln=new _e(ln,i,null,c,Fe),We.push({event:ln,listeners:xt}),Jt?ln.data=Jt:(Jt=wl(c),Jt!==null&&(ln.data=Jt)))),(Jt=Mo?di(i,c):Ns(i,c))&&(ln=vp(ke,"onBeforeInput"),0<ln.length&&(xt=new _e("onBeforeInput","beforeinput",null,c,Fe),We.push({event:xt,listeners:ln}),xt.data=Jt)),U6(We,i,ke,c,Fe)}h5(We,o)})}function Tf(i,o,c){return{instance:i,listener:o,currentTarget:c}}function vp(i,o){for(var c=o+"Capture",h=[];i!==null;){var b=i,_=b.stateNode;if(b=b.tag,b!==5&&b!==26&&b!==27||_===null||(b=Mi(i,c),b!=null&&h.unshift(Tf(i,b,_)),b=Mi(i,o),b!=null&&h.push(Tf(i,b,_))),i.tag===3)return h;i=i.return}return[]}function H6(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function m5(i,o,c,h,b){for(var _=o._reactName,O=[];c!==null&&c!==h;){var K=c,fe=K.alternate,ke=K.stateNode;if(K=K.tag,fe!==null&&fe===h)break;K!==5&&K!==26&&K!==27||ke===null||(fe=ke,b?(ke=Mi(c,_),ke!=null&&O.unshift(Tf(c,ke,fe))):b||(ke=Mi(c,_),ke!=null&&O.push(Tf(c,ke,fe)))),c=c.return}O.length!==0&&i.push({event:o,listeners:O})}var $6=/\r\n?/g,G6=/\u0000|\uFFFD/g;function g5(i){return(typeof i=="string"?i:""+i).replace($6,`
`).replace(G6,"")}function v5(i,o){return o=g5(o),g5(i)===o}function Mn(i,o,c,h,b,_){switch(c){case"children":typeof h=="string"?o==="body"||o==="textarea"&&h===""||ya(i,h):(typeof h=="number"||typeof h=="bigint")&&o!=="body"&&ya(i,""+h);break;case"className":ps(i,"class",h);break;case"tabIndex":ps(i,"tabindex",h);break;case"dir":case"role":case"viewBox":case"width":case"height":ps(i,c,h);break;case"style":xu(i,h,_);break;case"data":if(o!=="object"){ps(i,"data",h);break}case"src":case"href":if(h===""&&(o!=="a"||c!=="href")){i.removeAttribute(c);break}if(h==null||typeof h=="function"||typeof h=="symbol"||typeof h=="boolean"){i.removeAttribute(c);break}h=xi(""+h),i.setAttribute(c,h);break;case"action":case"formAction":if(typeof h=="function"){i.setAttribute(c,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof _=="function"&&(c==="formAction"?(o!=="input"&&Mn(i,o,"name",b.name,b,null),Mn(i,o,"formEncType",b.formEncType,b,null),Mn(i,o,"formMethod",b.formMethod,b,null),Mn(i,o,"formTarget",b.formTarget,b,null)):(Mn(i,o,"encType",b.encType,b,null),Mn(i,o,"method",b.method,b,null),Mn(i,o,"target",b.target,b,null)));if(h==null||typeof h=="symbol"||typeof h=="boolean"){i.removeAttribute(c);break}h=xi(""+h),i.setAttribute(c,h);break;case"onClick":h!=null&&(i.onclick=ba);break;case"onScroll":h!=null&&an("scroll",i);break;case"onScrollEnd":h!=null&&an("scrollend",i);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(r(61));if(c=h.__html,c!=null){if(b.children!=null)throw Error(r(60));i.innerHTML=c}}break;case"multiple":i.multiple=h&&typeof h!="function"&&typeof h!="symbol";break;case"muted":i.muted=h&&typeof h!="function"&&typeof h!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(h==null||typeof h=="function"||typeof h=="boolean"||typeof h=="symbol"){i.removeAttribute("xlink:href");break}c=xi(""+h),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":h!=null&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(c,""+h):i.removeAttribute(c);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":h&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(c,""):i.removeAttribute(c);break;case"capture":case"download":h===!0?i.setAttribute(c,""):h!==!1&&h!=null&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(c,h):i.removeAttribute(c);break;case"cols":case"rows":case"size":case"span":h!=null&&typeof h!="function"&&typeof h!="symbol"&&!isNaN(h)&&1<=h?i.setAttribute(c,h):i.removeAttribute(c);break;case"rowSpan":case"start":h==null||typeof h=="function"||typeof h=="symbol"||isNaN(h)?i.removeAttribute(c):i.setAttribute(c,h);break;case"popover":an("beforetoggle",i),an("toggle",i),Pi(i,"popover",h);break;case"xlinkActuate":va(i,"http://www.w3.org/1999/xlink","xlink:actuate",h);break;case"xlinkArcrole":va(i,"http://www.w3.org/1999/xlink","xlink:arcrole",h);break;case"xlinkRole":va(i,"http://www.w3.org/1999/xlink","xlink:role",h);break;case"xlinkShow":va(i,"http://www.w3.org/1999/xlink","xlink:show",h);break;case"xlinkTitle":va(i,"http://www.w3.org/1999/xlink","xlink:title",h);break;case"xlinkType":va(i,"http://www.w3.org/1999/xlink","xlink:type",h);break;case"xmlBase":va(i,"http://www.w3.org/XML/1998/namespace","xml:base",h);break;case"xmlLang":va(i,"http://www.w3.org/XML/1998/namespace","xml:lang",h);break;case"xmlSpace":va(i,"http://www.w3.org/XML/1998/namespace","xml:space",h);break;case"is":Pi(i,"is",h);break;case"innerText":case"textContent":break;default:(!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(c=Sc.get(c)||c,Pi(i,c,h))}}function sg(i,o,c,h,b,_){switch(c){case"style":xu(i,h,_);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(r(61));if(c=h.__html,c!=null){if(b.children!=null)throw Error(r(60));i.innerHTML=c}}break;case"children":typeof h=="string"?ya(i,h):(typeof h=="number"||typeof h=="bigint")&&ya(i,""+h);break;case"onScroll":h!=null&&an("scroll",i);break;case"onScrollEnd":h!=null&&an("scrollend",i);break;case"onClick":h!=null&&(i.onclick=ba);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Di.hasOwnProperty(c))e:{if(c[0]==="o"&&c[1]==="n"&&(b=c.endsWith("Capture"),o=c.slice(2,b?c.length-7:void 0),_=i[Hn]||null,_=_!=null?_[c]:null,typeof _=="function"&&i.removeEventListener(o,_,b),typeof h=="function")){typeof _!="function"&&_!==null&&(c in i?i[c]=null:i.hasAttribute(c)&&i.removeAttribute(c)),i.addEventListener(o,h,b);break e}c in i?i[c]=h:h===!0?i.setAttribute(c,""):Pi(i,c,h)}}}function gi(i,o,c){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":an("error",i),an("load",i);var h=!1,b=!1,_;for(_ in c)if(c.hasOwnProperty(_)){var O=c[_];if(O!=null)switch(_){case"src":h=!0;break;case"srcSet":b=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:Mn(i,o,_,O,c,null)}}b&&Mn(i,o,"srcSet",c.srcSet,c,null),h&&Mn(i,o,"src",c.src,c,null);return;case"input":an("invalid",i);var K=_=O=b=null,fe=null,ke=null;for(h in c)if(c.hasOwnProperty(h)){var Fe=c[h];if(Fe!=null)switch(h){case"name":b=Fe;break;case"type":O=Fe;break;case"checked":fe=Fe;break;case"defaultChecked":ke=Fe;break;case"value":_=Fe;break;case"defaultValue":K=Fe;break;case"children":case"dangerouslySetInnerHTML":if(Fe!=null)throw Error(r(137,o));break;default:Mn(i,o,h,Fe,c,null)}}bu(i,_,K,fe,ke,O,b,!1);return;case"select":an("invalid",i),h=O=_=null;for(b in c)if(c.hasOwnProperty(b)&&(K=c[b],K!=null))switch(b){case"value":_=K;break;case"defaultValue":O=K;break;case"multiple":h=K;default:Mn(i,o,b,K,c,null)}o=_,c=O,i.multiple=!!h,o!=null?ui(i,!!h,o,!1):c!=null&&ui(i,!!h,c,!0);return;case"textarea":an("invalid",i),_=b=h=null;for(O in c)if(c.hasOwnProperty(O)&&(K=c[O],K!=null))switch(O){case"value":h=K;break;case"defaultValue":b=K;break;case"children":_=K;break;case"dangerouslySetInnerHTML":if(K!=null)throw Error(r(91));break;default:Mn(i,o,O,K,c,null)}xc(i,h,b,_);return;case"option":for(fe in c)c.hasOwnProperty(fe)&&(h=c[fe],h!=null)&&(fe==="selected"?i.selected=h&&typeof h!="function"&&typeof h!="symbol":Mn(i,o,fe,h,c,null));return;case"dialog":an("beforetoggle",i),an("toggle",i),an("cancel",i),an("close",i);break;case"iframe":case"object":an("load",i);break;case"video":case"audio":for(h=0;h<Cf.length;h++)an(Cf[h],i);break;case"image":an("error",i),an("load",i);break;case"details":an("toggle",i);break;case"embed":case"source":case"link":an("error",i),an("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ke in c)if(c.hasOwnProperty(ke)&&(h=c[ke],h!=null))switch(ke){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:Mn(i,o,ke,h,c,null)}return;default:if(_c(o)){for(Fe in c)c.hasOwnProperty(Fe)&&(h=c[Fe],h!==void 0&&sg(i,o,Fe,h,c,void 0));return}}for(K in c)c.hasOwnProperty(K)&&(h=c[K],h!=null&&Mn(i,o,K,h,c,null))}function W6(i,o,c,h){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var b=null,_=null,O=null,K=null,fe=null,ke=null,Fe=null;for(De in c){var We=c[De];if(c.hasOwnProperty(De)&&We!=null)switch(De){case"checked":break;case"value":break;case"defaultValue":fe=We;default:h.hasOwnProperty(De)||Mn(i,o,De,null,h,We)}}for(var Le in h){var De=h[Le];if(We=c[Le],h.hasOwnProperty(Le)&&(De!=null||We!=null))switch(Le){case"type":_=De;break;case"name":b=De;break;case"checked":ke=De;break;case"defaultChecked":Fe=De;break;case"value":O=De;break;case"defaultValue":K=De;break;case"children":case"dangerouslySetInnerHTML":if(De!=null)throw Error(r(137,o));break;default:De!==We&&Mn(i,o,Le,De,h,We)}}ml(i,O,K,fe,ke,Fe,_,b);return;case"select":De=O=K=Le=null;for(_ in c)if(fe=c[_],c.hasOwnProperty(_)&&fe!=null)switch(_){case"value":break;case"multiple":De=fe;default:h.hasOwnProperty(_)||Mn(i,o,_,null,h,fe)}for(b in h)if(_=h[b],fe=c[b],h.hasOwnProperty(b)&&(_!=null||fe!=null))switch(b){case"value":Le=_;break;case"defaultValue":K=_;break;case"multiple":O=_;default:_!==fe&&Mn(i,o,b,_,h,fe)}o=K,c=O,h=De,Le!=null?ui(i,!!c,Le,!1):!!h!=!!c&&(o!=null?ui(i,!!c,o,!0):ui(i,!!c,c?[]:"",!1));return;case"textarea":De=Le=null;for(K in c)if(b=c[K],c.hasOwnProperty(K)&&b!=null&&!h.hasOwnProperty(K))switch(K){case"value":break;case"children":break;default:Mn(i,o,K,null,h,b)}for(O in h)if(b=h[O],_=c[O],h.hasOwnProperty(O)&&(b!=null||_!=null))switch(O){case"value":Le=b;break;case"defaultValue":De=b;break;case"children":break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(r(91));break;default:b!==_&&Mn(i,o,O,b,h,_)}wc(i,Le,De);return;case"option":for(var vt in c)Le=c[vt],c.hasOwnProperty(vt)&&Le!=null&&!h.hasOwnProperty(vt)&&(vt==="selected"?i.selected=!1:Mn(i,o,vt,null,h,Le));for(fe in h)Le=h[fe],De=c[fe],h.hasOwnProperty(fe)&&Le!==De&&(Le!=null||De!=null)&&(fe==="selected"?i.selected=Le&&typeof Le!="function"&&typeof Le!="symbol":Mn(i,o,fe,Le,h,De));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Bt in c)Le=c[Bt],c.hasOwnProperty(Bt)&&Le!=null&&!h.hasOwnProperty(Bt)&&Mn(i,o,Bt,null,h,Le);for(ke in h)if(Le=h[ke],De=c[ke],h.hasOwnProperty(ke)&&Le!==De&&(Le!=null||De!=null))switch(ke){case"children":case"dangerouslySetInnerHTML":if(Le!=null)throw Error(r(137,o));break;default:Mn(i,o,ke,Le,h,De)}return;default:if(_c(o)){for(var Bn in c)Le=c[Bn],c.hasOwnProperty(Bn)&&Le!==void 0&&!h.hasOwnProperty(Bn)&&sg(i,o,Bn,void 0,h,Le);for(Fe in h)Le=h[Fe],De=c[Fe],!h.hasOwnProperty(Fe)||Le===De||Le===void 0&&De===void 0||sg(i,o,Fe,Le,h,De);return}}for(var Se in c)Le=c[Se],c.hasOwnProperty(Se)&&Le!=null&&!h.hasOwnProperty(Se)&&Mn(i,o,Se,null,h,Le);for(We in h)Le=h[We],De=c[We],!h.hasOwnProperty(We)||Le===De||Le==null&&De==null||Mn(i,o,We,Le,h,De)}function y5(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Y6(){if(typeof performance.getEntriesByType=="function"){for(var i=0,o=0,c=performance.getEntriesByType("resource"),h=0;h<c.length;h++){var b=c[h],_=b.transferSize,O=b.initiatorType,K=b.duration;if(_&&K&&y5(O)){for(O=0,K=b.responseEnd,h+=1;h<c.length;h++){var fe=c[h],ke=fe.startTime;if(ke>K)break;var Fe=fe.transferSize,We=fe.initiatorType;Fe&&y5(We)&&(fe=fe.responseEnd,O+=Fe*(fe<K?1:(K-ke)/(fe-ke)))}if(--h,o+=8*(_+O)/(b.duration/1e3),i++,10<i)break}}if(0<i)return o/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var og=null,lg=null;function yp(i){return i.nodeType===9?i:i.ownerDocument}function b5(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function w5(i,o){if(i===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&o==="foreignObject"?0:i}function cg(i,o){return i==="textarea"||i==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var ug=null;function K6(){var i=window.event;return i&&i.type==="popstate"?i===ug?!1:(ug=i,!0):(ug=null,!1)}var x5=typeof setTimeout=="function"?setTimeout:void 0,X6=typeof clearTimeout=="function"?clearTimeout:void 0,_5=typeof Promise=="function"?Promise:void 0,J6=typeof queueMicrotask=="function"?queueMicrotask:typeof _5<"u"?function(i){return _5.resolve(null).then(i).catch(Q6)}:x5;function Q6(i){setTimeout(function(){throw i})}function Vl(i){return i==="head"}function S5(i,o){var c=o,h=0;do{var b=c.nextSibling;if(i.removeChild(c),b&&b.nodeType===8)if(c=b.data,c==="/$"||c==="/&"){if(h===0){i.removeChild(b),od(o);return}h--}else if(c==="$"||c==="$?"||c==="$~"||c==="$!"||c==="&")h++;else if(c==="html")jf(i.ownerDocument.documentElement);else if(c==="head"){c=i.ownerDocument.head,jf(c);for(var _=c.firstChild;_;){var O=_.nextSibling,K=_.nodeName;_[ha]||K==="SCRIPT"||K==="STYLE"||K==="LINK"&&_.rel.toLowerCase()==="stylesheet"||c.removeChild(_),_=O}}else c==="body"&&jf(i.ownerDocument.body);c=b}while(c);od(o)}function A5(i,o){var c=i;i=0;do{var h=c.nextSibling;if(c.nodeType===1?o?(c._stashedDisplay=c.style.display,c.style.display="none"):(c.style.display=c._stashedDisplay||"",c.getAttribute("style")===""&&c.removeAttribute("style")):c.nodeType===3&&(o?(c._stashedText=c.nodeValue,c.nodeValue=""):c.nodeValue=c._stashedText||""),h&&h.nodeType===8)if(c=h.data,c==="/$"){if(i===0)break;i--}else c!=="$"&&c!=="$?"&&c!=="$~"&&c!=="$!"||i++;c=h}while(c)}function dg(i){var o=i.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var c=o;switch(o=o.nextSibling,c.nodeName){case"HTML":case"HEAD":case"BODY":dg(c),Qs(c);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(c.rel.toLowerCase()==="stylesheet")continue}i.removeChild(c)}}function Z6(i,o,c,h){for(;i.nodeType===1;){var b=c;if(i.nodeName.toLowerCase()!==o.toLowerCase()){if(!h&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(h){if(!i[ha])switch(o){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(_=i.getAttribute("rel"),_==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(_!==b.rel||i.getAttribute("href")!==(b.href==null||b.href===""?null:b.href)||i.getAttribute("crossorigin")!==(b.crossOrigin==null?null:b.crossOrigin)||i.getAttribute("title")!==(b.title==null?null:b.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(_=i.getAttribute("src"),(_!==(b.src==null?null:b.src)||i.getAttribute("type")!==(b.type==null?null:b.type)||i.getAttribute("crossorigin")!==(b.crossOrigin==null?null:b.crossOrigin))&&_&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(o==="input"&&i.type==="hidden"){var _=b.name==null?null:""+b.name;if(b.type==="hidden"&&i.getAttribute("name")===_)return i}else return i;if(i=ts(i.nextSibling),i===null)break}return null}function eC(i,o,c){if(o==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!c||(i=ts(i.nextSibling),i===null))return null;return i}function N5(i,o){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=ts(i.nextSibling),i===null))return null;return i}function fg(i){return i.data==="$?"||i.data==="$~"}function hg(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function tC(i,o){var c=i.ownerDocument;if(i.data==="$~")i._reactRetry=o;else if(i.data!=="$?"||c.readyState!=="loading")o();else{var h=function(){o(),c.removeEventListener("DOMContentLoaded",h)};c.addEventListener("DOMContentLoaded",h),i._reactRetry=h}}function ts(i){for(;i!=null;i=i.nextSibling){var o=i.nodeType;if(o===1||o===3)break;if(o===8){if(o=i.data,o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"||o==="F!"||o==="F")break;if(o==="/$"||o==="/&")return null}}return i}var pg=null;function E5(i){i=i.nextSibling;for(var o=0;i;){if(i.nodeType===8){var c=i.data;if(c==="/$"||c==="/&"){if(o===0)return ts(i.nextSibling);o--}else c!=="$"&&c!=="$!"&&c!=="$?"&&c!=="$~"&&c!=="&"||o++}i=i.nextSibling}return null}function C5(i){i=i.previousSibling;for(var o=0;i;){if(i.nodeType===8){var c=i.data;if(c==="$"||c==="$!"||c==="$?"||c==="$~"||c==="&"){if(o===0)return i;o--}else c!=="/$"&&c!=="/&"||o++}i=i.previousSibling}return null}function T5(i,o,c){switch(o=yp(c),i){case"html":if(i=o.documentElement,!i)throw Error(r(452));return i;case"head":if(i=o.head,!i)throw Error(r(453));return i;case"body":if(i=o.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function jf(i){for(var o=i.attributes;o.length;)i.removeAttributeNode(o[0]);Qs(i)}var ns=new Map,j5=new Set;function bp(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var tl=le.d;le.d={f:nC,r:rC,D:iC,C:aC,L:sC,m:oC,X:cC,S:lC,M:uC};function nC(){var i=tl.f(),o=up();return i||o}function rC(i){var o=ma(i);o!==null&&o.tag===5&&o.type==="form"?Gb(o):tl.r(i)}var id=typeof document>"u"?null:document;function k5(i,o,c){var h=id;if(h&&typeof o=="string"&&o){var b=hr(o);b='link[rel="'+i+'"][href="'+b+'"]',typeof c=="string"&&(b+='[crossorigin="'+c+'"]'),j5.has(b)||(j5.add(b),i={rel:i,crossOrigin:c,href:o},h.querySelector(b)===null&&(o=h.createElement("link"),gi(o,"link",i),ir(o),h.head.appendChild(o)))}}function iC(i){tl.D(i),k5("dns-prefetch",i,null)}function aC(i,o){tl.C(i,o),k5("preconnect",i,o)}function sC(i,o,c){tl.L(i,o,c);var h=id;if(h&&i&&o){var b='link[rel="preload"][as="'+hr(o)+'"]';o==="image"&&c&&c.imageSrcSet?(b+='[imagesrcset="'+hr(c.imageSrcSet)+'"]',typeof c.imageSizes=="string"&&(b+='[imagesizes="'+hr(c.imageSizes)+'"]')):b+='[href="'+hr(i)+'"]';var _=b;switch(o){case"style":_=ad(i);break;case"script":_=sd(i)}ns.has(_)||(i=g({rel:"preload",href:o==="image"&&c&&c.imageSrcSet?void 0:i,as:o},c),ns.set(_,i),h.querySelector(b)!==null||o==="style"&&h.querySelector(kf(_))||o==="script"&&h.querySelector(Lf(_))||(o=h.createElement("link"),gi(o,"link",i),ir(o),h.head.appendChild(o)))}}function oC(i,o){tl.m(i,o);var c=id;if(c&&i){var h=o&&typeof o.as=="string"?o.as:"script",b='link[rel="modulepreload"][as="'+hr(h)+'"][href="'+hr(i)+'"]',_=b;switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":_=sd(i)}if(!ns.has(_)&&(i=g({rel:"modulepreload",href:i},o),ns.set(_,i),c.querySelector(b)===null)){switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(c.querySelector(Lf(_)))return}h=c.createElement("link"),gi(h,"link",i),ir(h),c.head.appendChild(h)}}}function lC(i,o,c){tl.S(i,o,c);var h=id;if(h&&i){var b=Ua(h).hoistableStyles,_=ad(i);o=o||"default";var O=b.get(_);if(!O){var K={loading:0,preload:null};if(O=h.querySelector(kf(_)))K.loading=5;else{i=g({rel:"stylesheet",href:i,"data-precedence":o},c),(c=ns.get(_))&&mg(i,c);var fe=O=h.createElement("link");ir(fe),gi(fe,"link",i),fe._p=new Promise(function(ke,Fe){fe.onload=ke,fe.onerror=Fe}),fe.addEventListener("load",function(){K.loading|=1}),fe.addEventListener("error",function(){K.loading|=2}),K.loading|=4,wp(O,o,h)}O={type:"stylesheet",instance:O,count:1,state:K},b.set(_,O)}}}function cC(i,o){tl.X(i,o);var c=id;if(c&&i){var h=Ua(c).hoistableScripts,b=sd(i),_=h.get(b);_||(_=c.querySelector(Lf(b)),_||(i=g({src:i,async:!0},o),(o=ns.get(b))&&gg(i,o),_=c.createElement("script"),ir(_),gi(_,"link",i),c.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},h.set(b,_))}}function uC(i,o){tl.M(i,o);var c=id;if(c&&i){var h=Ua(c).hoistableScripts,b=sd(i),_=h.get(b);_||(_=c.querySelector(Lf(b)),_||(i=g({src:i,async:!0,type:"module"},o),(o=ns.get(b))&&gg(i,o),_=c.createElement("script"),ir(_),gi(_,"link",i),c.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},h.set(b,_))}}function L5(i,o,c,h){var b=(b=ue.current)?bp(b):null;if(!b)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof c.precedence=="string"&&typeof c.href=="string"?(o=ad(c.href),c=Ua(b).hoistableStyles,h=c.get(o),h||(h={type:"style",instance:null,count:0,state:null},c.set(o,h)),h):{type:"void",instance:null,count:0,state:null};case"link":if(c.rel==="stylesheet"&&typeof c.href=="string"&&typeof c.precedence=="string"){i=ad(c.href);var _=Ua(b).hoistableStyles,O=_.get(i);if(O||(b=b.ownerDocument||b,O={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},_.set(i,O),(_=b.querySelector(kf(i)))&&!_._p&&(O.instance=_,O.state.loading=5),ns.has(i)||(c={rel:"preload",as:"style",href:c.href,crossOrigin:c.crossOrigin,integrity:c.integrity,media:c.media,hrefLang:c.hrefLang,referrerPolicy:c.referrerPolicy},ns.set(i,c),_||dC(b,i,c,O.state))),o&&h===null)throw Error(r(528,""));return O}if(o&&h!==null)throw Error(r(529,""));return null;case"script":return o=c.async,c=c.src,typeof c=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=sd(c),c=Ua(b).hoistableScripts,h=c.get(o),h||(h={type:"script",instance:null,count:0,state:null},c.set(o,h)),h):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function ad(i){return'href="'+hr(i)+'"'}function kf(i){return'link[rel="stylesheet"]['+i+"]"}function R5(i){return g({},i,{"data-precedence":i.precedence,precedence:null})}function dC(i,o,c,h){i.querySelector('link[rel="preload"][as="style"]['+o+"]")?h.loading=1:(o=i.createElement("link"),h.preload=o,o.addEventListener("load",function(){return h.loading|=1}),o.addEventListener("error",function(){return h.loading|=2}),gi(o,"link",c),ir(o),i.head.appendChild(o))}function sd(i){return'[src="'+hr(i)+'"]'}function Lf(i){return"script[async]"+i}function O5(i,o,c){if(o.count++,o.instance===null)switch(o.type){case"style":var h=i.querySelector('style[data-href~="'+hr(c.href)+'"]');if(h)return o.instance=h,ir(h),h;var b=g({},c,{"data-href":c.href,"data-precedence":c.precedence,href:null,precedence:null});return h=(i.ownerDocument||i).createElement("style"),ir(h),gi(h,"style",b),wp(h,c.precedence,i),o.instance=h;case"stylesheet":b=ad(c.href);var _=i.querySelector(kf(b));if(_)return o.state.loading|=4,o.instance=_,ir(_),_;h=R5(c),(b=ns.get(b))&&mg(h,b),_=(i.ownerDocument||i).createElement("link"),ir(_);var O=_;return O._p=new Promise(function(K,fe){O.onload=K,O.onerror=fe}),gi(_,"link",h),o.state.loading|=4,wp(_,c.precedence,i),o.instance=_;case"script":return _=sd(c.src),(b=i.querySelector(Lf(_)))?(o.instance=b,ir(b),b):(h=c,(b=ns.get(_))&&(h=g({},c),gg(h,b)),i=i.ownerDocument||i,b=i.createElement("script"),ir(b),gi(b,"link",h),i.head.appendChild(b),o.instance=b);case"void":return null;default:throw Error(r(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(h=o.instance,o.state.loading|=4,wp(h,c.precedence,i));return o.instance}function wp(i,o,c){for(var h=c.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),b=h.length?h[h.length-1]:null,_=b,O=0;O<h.length;O++){var K=h[O];if(K.dataset.precedence===o)_=K;else if(_!==b)break}_?_.parentNode.insertBefore(i,_.nextSibling):(o=c.nodeType===9?c.head:c,o.insertBefore(i,o.firstChild))}function mg(i,o){i.crossOrigin==null&&(i.crossOrigin=o.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=o.referrerPolicy),i.title==null&&(i.title=o.title)}function gg(i,o){i.crossOrigin==null&&(i.crossOrigin=o.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=o.referrerPolicy),i.integrity==null&&(i.integrity=o.integrity)}var xp=null;function D5(i,o,c){if(xp===null){var h=new Map,b=xp=new Map;b.set(c,h)}else b=xp,h=b.get(c),h||(h=new Map,b.set(c,h));if(h.has(i))return h;for(h.set(i,null),c=c.getElementsByTagName(i),b=0;b<c.length;b++){var _=c[b];if(!(_[ha]||_[En]||i==="link"&&_.getAttribute("rel")==="stylesheet")&&_.namespaceURI!=="http://www.w3.org/2000/svg"){var O=_.getAttribute(o)||"";O=i+O;var K=h.get(O);K?K.push(_):h.set(O,[_])}}return h}function P5(i,o,c){i=i.ownerDocument||i,i.head.insertBefore(c,o==="title"?i.querySelector("head > title"):null)}function fC(i,o,c){if(c===1||o.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;return o.rel==="stylesheet"?(i=o.disabled,typeof o.precedence=="string"&&i==null):!0;case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function M5(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function hC(i,o,c,h){if(c.type==="stylesheet"&&(typeof h.media!="string"||matchMedia(h.media).matches!==!1)&&(c.state.loading&4)===0){if(c.instance===null){var b=ad(h.href),_=o.querySelector(kf(b));if(_){o=_._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(i.count++,i=_p.bind(i),o.then(i,i)),c.state.loading|=4,c.instance=_,ir(_);return}_=o.ownerDocument||o,h=R5(h),(b=ns.get(b))&&mg(h,b),_=_.createElement("link"),ir(_);var O=_;O._p=new Promise(function(K,fe){O.onload=K,O.onerror=fe}),gi(_,"link",h),c.instance=_}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(c,o),(o=c.state.preload)&&(c.state.loading&3)===0&&(i.count++,c=_p.bind(i),o.addEventListener("load",c),o.addEventListener("error",c))}}var vg=0;function pC(i,o){return i.stylesheets&&i.count===0&&Ap(i,i.stylesheets),0<i.count||0<i.imgCount?function(c){var h=setTimeout(function(){if(i.stylesheets&&Ap(i,i.stylesheets),i.unsuspend){var _=i.unsuspend;i.unsuspend=null,_()}},6e4+o);0<i.imgBytes&&vg===0&&(vg=62500*Y6());var b=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&Ap(i,i.stylesheets),i.unsuspend)){var _=i.unsuspend;i.unsuspend=null,_()}},(i.imgBytes>vg?50:800)+o);return i.unsuspend=c,function(){i.unsuspend=null,clearTimeout(h),clearTimeout(b)}}:null}function _p(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Ap(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Sp=null;function Ap(i,o){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Sp=new Map,o.forEach(mC,i),Sp=null,_p.call(i))}function mC(i,o){if(!(o.state.loading&4)){var c=Sp.get(i);if(c)var h=c.get(null);else{c=new Map,Sp.set(i,c);for(var b=i.querySelectorAll("link[data-precedence],style[data-precedence]"),_=0;_<b.length;_++){var O=b[_];(O.nodeName==="LINK"||O.getAttribute("media")!=="not all")&&(c.set(O.dataset.precedence,O),h=O)}h&&c.set(null,h)}b=o.instance,O=b.getAttribute("data-precedence"),_=c.get(O)||h,_===h&&c.set(null,b),c.set(O,b),this.count++,h=_p.bind(this),b.addEventListener("load",h),b.addEventListener("error",h),_?_.parentNode.insertBefore(b,_.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(b,i.firstChild)),o.state.loading|=4}}var Rf={$$typeof:M,Provider:null,Consumer:null,_currentValue:ce,_currentValue2:ce,_threadCount:0};function gC(i,o,c,h,b,_,O,K,fe){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=$i(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$i(0),this.hiddenUpdates=$i(null),this.identifierPrefix=h,this.onUncaughtError=b,this.onCaughtError=_,this.onRecoverableError=O,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=fe,this.incompleteTransitions=new Map}function B5(i,o,c,h,b,_,O,K,fe,ke,Fe,We){return i=new gC(i,o,c,O,fe,ke,Fe,We,K),o=1,_===!0&&(o|=24),_=ti(3,null,null,o),i.current=_,_.stateNode=i,o=Ll(),o.refCount++,i.pooledCache=o,o.refCount++,_.memoizedState={element:h,isDehydrated:c,cache:o},st(_),i}function I5(i){return i?(i=Hr,i):Hr}function F5(i,o,c,h,b,_){b=I5(b),h.context===null?h.context=b:h.pendingContext=b,h=Mt(o),h.payload={element:c},_=_===void 0?null:_,_!==null&&(h.callback=_),c=Kt(i,h,o),c!==null&&(ca(c,i,o),_n(c,i,o))}function U5(i,o){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var c=i.retryLane;i.retryLane=c!==0&&c<o?c:o}}function yg(i,o){U5(i,o),(i=i.alternate)&&U5(i,o)}function z5(i){if(i.tag===13||i.tag===31){var o=Rs(i,67108864);o!==null&&ca(o,i,67108864),yg(i,67108864)}}function q5(i){if(i.tag===13||i.tag===31){var o=Ta();o=qn(o);var c=Rs(i,o);c!==null&&ca(c,i,o),yg(i,o)}}var Np=!0;function vC(i,o,c,h){var b=re.T;re.T=null;var _=le.p;try{le.p=2,bg(i,o,c,h)}finally{le.p=_,re.T=b}}function yC(i,o,c,h){var b=re.T;re.T=null;var _=le.p;try{le.p=8,bg(i,o,c,h)}finally{le.p=_,re.T=b}}function bg(i,o,c,h){if(Np){var b=wg(h);if(b===null)ag(i,o,h,Ep,c),H5(i,h);else if(wC(b,i,o,c,h))h.stopPropagation();else if(H5(i,h),o&4&&-1<bC.indexOf(i)){for(;b!==null;){var _=ma(b);if(_!==null)switch(_.tag){case 3:if(_=_.stateNode,_.current.memoizedState.isDehydrated){var O=pt(_.pendingLanes);if(O!==0){var K=_;for(K.pendingLanes|=2,K.entangledLanes|=2;O;){var fe=1<<31-Dt(O);K.entanglements[1]|=fe,O&=~fe}vo(_),(An&6)===0&&(lp=He()+500,Ef(0))}}break;case 31:case 13:K=Rs(_,2),K!==null&&ca(K,_,2),up(),yg(_,2)}if(_=wg(h),_===null&&ag(i,o,h,Ep,c),_===b)break;b=_}b!==null&&h.stopPropagation()}else ag(i,o,h,null,c)}}function wg(i){return i=Lo(i),xg(i)}var Ep=null;function xg(i){if(Ep=null,i=pa(i),i!==null){var o=s(i);if(o===null)i=null;else{var c=o.tag;if(c===13){if(i=l(o),i!==null)return i;i=null}else if(c===31){if(i=u(o),i!==null)return i;i=null}else if(c===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null)}}return Ep=i,null}function V5(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ie()){case Je:return 2;case ot:return 8;case ct:case Ze:return 32;case ht:return 268435456;default:return 32}default:return 32}}var _g=!1,Hl=null,$l=null,Gl=null,Of=new Map,Df=new Map,Wl=[],bC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function H5(i,o){switch(i){case"focusin":case"focusout":Hl=null;break;case"dragenter":case"dragleave":$l=null;break;case"mouseover":case"mouseout":Gl=null;break;case"pointerover":case"pointerout":Of.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Df.delete(o.pointerId)}}function Pf(i,o,c,h,b,_){return i===null||i.nativeEvent!==_?(i={blockedOn:o,domEventName:c,eventSystemFlags:h,nativeEvent:_,targetContainers:[b]},o!==null&&(o=ma(o),o!==null&&z5(o)),i):(i.eventSystemFlags|=h,o=i.targetContainers,b!==null&&o.indexOf(b)===-1&&o.push(b),i)}function wC(i,o,c,h,b){switch(o){case"focusin":return Hl=Pf(Hl,i,o,c,h,b),!0;case"dragenter":return $l=Pf($l,i,o,c,h,b),!0;case"mouseover":return Gl=Pf(Gl,i,o,c,h,b),!0;case"pointerover":var _=b.pointerId;return Of.set(_,Pf(Of.get(_)||null,i,o,c,h,b)),!0;case"gotpointercapture":return _=b.pointerId,Df.set(_,Pf(Df.get(_)||null,i,o,c,h,b)),!0}return!1}function $5(i){var o=pa(i.target);if(o!==null){var c=s(o);if(c!==null){if(o=c.tag,o===13){if(o=l(c),o!==null){i.blockedOn=o,Js(i.priority,function(){q5(c)});return}}else if(o===31){if(o=u(c),o!==null){i.blockedOn=o,Js(i.priority,function(){q5(c)});return}}else if(o===3&&c.stateNode.current.memoizedState.isDehydrated){i.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Cp(i){if(i.blockedOn!==null)return!1;for(var o=i.targetContainers;0<o.length;){var c=wg(i.nativeEvent);if(c===null){c=i.nativeEvent;var h=new c.constructor(c.type,c);ms=h,c.target.dispatchEvent(h),ms=null}else return o=ma(c),o!==null&&z5(o),i.blockedOn=c,!1;o.shift()}return!0}function G5(i,o,c){Cp(i)&&c.delete(o)}function xC(){_g=!1,Hl!==null&&Cp(Hl)&&(Hl=null),$l!==null&&Cp($l)&&($l=null),Gl!==null&&Cp(Gl)&&(Gl=null),Of.forEach(G5),Df.forEach(G5)}function Tp(i,o){i.blockedOn===o&&(i.blockedOn=null,_g||(_g=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,xC)))}var jp=null;function W5(i){jp!==i&&(jp=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){jp===i&&(jp=null);for(var o=0;o<i.length;o+=3){var c=i[o],h=i[o+1],b=i[o+2];if(typeof h!="function"){if(xg(h||c)===null)continue;break}var _=ma(c);_!==null&&(i.splice(o,3),o-=3,w0(_,{pending:!0,data:b,method:c.method,action:h},h,b))}}))}function od(i){function o(fe){return Tp(fe,i)}Hl!==null&&Tp(Hl,i),$l!==null&&Tp($l,i),Gl!==null&&Tp(Gl,i),Of.forEach(o),Df.forEach(o);for(var c=0;c<Wl.length;c++){var h=Wl[c];h.blockedOn===i&&(h.blockedOn=null)}for(;0<Wl.length&&(c=Wl[0],c.blockedOn===null);)$5(c),c.blockedOn===null&&Wl.shift();if(c=(i.ownerDocument||i).$$reactFormReplay,c!=null)for(h=0;h<c.length;h+=3){var b=c[h],_=c[h+1],O=b[Hn]||null;if(typeof _=="function")O||W5(c);else if(O){var K=null;if(_&&_.hasAttribute("formAction")){if(b=_,O=_[Hn]||null)K=O.formAction;else if(xg(b)!==null)continue}else K=O.action;typeof K=="function"?c[h+1]=K:(c.splice(h,3),h-=3),W5(c)}}}function Y5(){function i(_){_.canIntercept&&_.info==="react-transition"&&_.intercept({handler:function(){return new Promise(function(O){return b=O})},focusReset:"manual",scroll:"manual"})}function o(){b!==null&&(b(),b=null),h||setTimeout(c,20)}function c(){if(!h&&!navigation.transition){var _=navigation.currentEntry;_&&_.url!=null&&navigation.navigate(_.url,{state:_.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var h=!1,b=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",o),navigation.addEventListener("navigateerror",o),setTimeout(c,100),function(){h=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",o),navigation.removeEventListener("navigateerror",o),b!==null&&(b(),b=null)}}}function Sg(i){this._internalRoot=i}kp.prototype.render=Sg.prototype.render=function(i){var o=this._internalRoot;if(o===null)throw Error(r(409));var c=o.current,h=Ta();F5(c,h,i,o,null,null)},kp.prototype.unmount=Sg.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var o=i.containerInfo;F5(i.current,2,null,i,null,null),up(),o[Qr]=null}};function kp(i){this._internalRoot=i}kp.prototype.unstable_scheduleHydration=function(i){if(i){var o=Or();i={blockedOn:null,target:i,priority:o};for(var c=0;c<Wl.length&&o!==0&&o<Wl[c].priority;c++);Wl.splice(c,0,i),c===0&&$5(i)}};var K5=e.version;if(K5!=="19.2.3")throw Error(r(527,K5,"19.2.3"));le.findDOMNode=function(i){var o=i._reactInternals;if(o===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=f(o),i=i!==null?p(i):null,i=i===null?null:i.stateNode,i};var _C={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:re,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Lp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Lp.isDisabled&&Lp.supportsFiber)try{kt=Lp.inject(_C),rt=Lp}catch{}}return Bf.createRoot=function(i,o){if(!a(i))throw Error(r(299));var c=!1,h="",b=n2,_=r2,O=i2;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(h=o.identifierPrefix),o.onUncaughtError!==void 0&&(b=o.onUncaughtError),o.onCaughtError!==void 0&&(_=o.onCaughtError),o.onRecoverableError!==void 0&&(O=o.onRecoverableError)),o=B5(i,1,!1,null,null,c,h,null,b,_,O,Y5),i[Qr]=o.current,ig(i),new Sg(o)},Bf.hydrateRoot=function(i,o,c){if(!a(i))throw Error(r(299));var h=!1,b="",_=n2,O=r2,K=i2,fe=null;return c!=null&&(c.unstable_strictMode===!0&&(h=!0),c.identifierPrefix!==void 0&&(b=c.identifierPrefix),c.onUncaughtError!==void 0&&(_=c.onUncaughtError),c.onCaughtError!==void 0&&(O=c.onCaughtError),c.onRecoverableError!==void 0&&(K=c.onRecoverableError),c.formState!==void 0&&(fe=c.formState)),o=B5(i,1,!0,o,c??null,h,b,fe,_,O,K,Y5),o.context=I5(null),c=o.current,h=Ta(),h=qn(h),b=Mt(h),b.callback=null,Kt(c,b,h),c=h,o.current.lanes=c,Tt(o,c),vo(o),i[Qr]=o.current,ig(i),new kp(o)},Bf.version="19.2.3",Bf}var aw;function LC(){if(aw)return Eg.exports;aw=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Eg.exports=kC(),Eg.exports}var RC=LC();const OC=Th(RC);var sw="popstate";function DC(t={}){function e(r,a){let{pathname:s,search:l,hash:u}=r.location;return lv("",{pathname:s,search:l,hash:u},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(r,a){return typeof a=="string"?a:ah(a)}return MC(e,n,null,t)}function rr(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function cs(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function PC(){return Math.random().toString(36).substring(2,10)}function ow(t,e){return{usr:t.state,key:t.key,idx:e}}function lv(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Hd(e):e,state:n,key:e&&e.key||r||PC()}}function ah({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Hd(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function MC(t,e,n,r={}){let{window:a=document.defaultView,v5Compat:s=!1}=r,l=a.history,u="POP",d=null,f=p();f==null&&(f=0,l.replaceState({...l.state,idx:f},""));function p(){return(l.state||{idx:null}).idx}function g(){u="POP";let T=p(),A=T==null?null:T-f;f=T,d&&d({action:u,location:C.location,delta:A})}function y(T,A){u="PUSH";let D=lv(C.location,T,A);f=p()+1;let M=ow(D,f),B=C.createHref(D);try{l.pushState(M,"",B)}catch(q){if(q instanceof DOMException&&q.name==="DataCloneError")throw q;a.location.assign(B)}s&&d&&d({action:u,location:C.location,delta:1})}function v(T,A){u="REPLACE";let D=lv(C.location,T,A);f=p();let M=ow(D,f),B=C.createHref(D);l.replaceState(M,"",B),s&&d&&d({action:u,location:C.location,delta:0})}function N(T){return BC(T)}let C={get action(){return u},get location(){return t(a,l)},listen(T){if(d)throw new Error("A history only accepts one active listener");return a.addEventListener(sw,g),d=T,()=>{a.removeEventListener(sw,g),d=null}},createHref(T){return e(a,T)},createURL:N,encodeLocation(T){let A=N(T);return{pathname:A.pathname,search:A.search,hash:A.hash}},push:y,replace:v,go(T){return l.go(T)}};return C}function BC(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),rr(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:ah(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function IS(t,e,n="/"){return IC(t,e,n,!1)}function IC(t,e,n,r){let a=typeof e=="string"?Hd(e):e,s=ul(a.pathname||"/",n);if(s==null)return null;let l=FS(t);FC(l);let u=null;for(let d=0;u==null&&d<l.length;++d){let f=XC(s);u=YC(l[d],f,r)}return u}function FS(t,e=[],n=[],r="",a=!1){let s=(l,u,d=a,f)=>{let p={relativePath:f===void 0?l.path||"":f,caseSensitive:l.caseSensitive===!0,childrenIndex:u,route:l};if(p.relativePath.startsWith("/")){if(!p.relativePath.startsWith(r)&&d)return;rr(p.relativePath.startsWith(r),`Absolute route path "${p.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(r.length)}let g=cl([r,p.relativePath]),y=n.concat(p);l.children&&l.children.length>0&&(rr(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),FS(l.children,e,y,g,d)),!(l.path==null&&!l.index)&&e.push({path:g,score:GC(g,l.index),routesMeta:y})};return t.forEach((l,u)=>{if(l.path===""||!l.path?.includes("?"))s(l,u);else for(let d of US(l.path))s(l,u,!0,d)}),e}function US(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,a=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return a?[s,""]:[s];let l=US(r.join("/")),u=[];return u.push(...l.map(d=>d===""?s:[s,d].join("/"))),a&&u.push(...l),u.map(d=>t.startsWith("/")&&d===""?"/":d)}function FC(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:WC(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var UC=/^:[\w-]+$/,zC=3,qC=2,VC=1,HC=10,$C=-2,lw=t=>t==="*";function GC(t,e){let n=t.split("/"),r=n.length;return n.some(lw)&&(r+=$C),e&&(r+=qC),n.filter(a=>!lw(a)).reduce((a,s)=>a+(UC.test(s)?zC:s===""?VC:HC),r)}function WC(t,e){return t.length===e.length&&t.slice(0,-1).every((r,a)=>r===e[a])?t[t.length-1]-e[e.length-1]:0}function YC(t,e,n=!1){let{routesMeta:r}=t,a={},s="/",l=[];for(let u=0;u<r.length;++u){let d=r[u],f=u===r.length-1,p=s==="/"?e:e.slice(s.length)||"/",g=bm({path:d.relativePath,caseSensitive:d.caseSensitive,end:f},p),y=d.route;if(!g&&f&&n&&!r[r.length-1].route.index&&(g=bm({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},p)),!g)return null;Object.assign(a,g.params),l.push({params:a,pathname:cl([s,g.pathname]),pathnameBase:e8(cl([s,g.pathnameBase])),route:y}),g.pathnameBase!=="/"&&(s=cl([s,g.pathnameBase]))}return l}function bm(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=KC(t.path,t.caseSensitive,t.end),a=e.match(n);if(!a)return null;let s=a[0],l=s.replace(/(.)\/+$/,"$1"),u=a.slice(1);return{params:r.reduce((f,{paramName:p,isOptional:g},y)=>{if(p==="*"){let N=u[y]||"";l=s.slice(0,s.length-N.length).replace(/(.)\/+$/,"$1")}const v=u[y];return g&&!v?f[p]=void 0:f[p]=(v||"").replace(/%2F/g,"/"),f},{}),pathname:s,pathnameBase:l,pattern:t}}function KC(t,e=!1,n=!0){cs(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,u,d)=>(r.push({paramName:u,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),r]}function XC(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return cs(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function ul(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}var zS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,JC=t=>zS.test(t);function QC(t,e="/"){let{pathname:n,search:r="",hash:a=""}=typeof t=="string"?Hd(t):t,s;if(n)if(JC(n))s=n;else{if(n.includes("//")){let l=n;n=n.replace(/\/\/+/g,"/"),cs(!1,`Pathnames cannot have embedded double slashes - normalizing ${l} -> ${n}`)}n.startsWith("/")?s=cw(n.substring(1),"/"):s=cw(n,e)}else s=e;return{pathname:s,search:t8(r),hash:n8(a)}}function cw(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function kg(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function ZC(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function hy(t){let e=ZC(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function py(t,e,n,r=!1){let a;typeof t=="string"?a=Hd(t):(a={...t},rr(!a.pathname||!a.pathname.includes("?"),kg("?","pathname","search",a)),rr(!a.pathname||!a.pathname.includes("#"),kg("#","pathname","hash",a)),rr(!a.search||!a.search.includes("#"),kg("#","search","hash",a)));let s=t===""||a.pathname==="",l=s?"/":a.pathname,u;if(l==null)u=n;else{let g=e.length-1;if(!r&&l.startsWith("..")){let y=l.split("/");for(;y[0]==="..";)y.shift(),g-=1;a.pathname=y.join("/")}u=g>=0?e[g]:"/"}let d=QC(a,u),f=l&&l!=="/"&&l.endsWith("/"),p=(s||l===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(f||p)&&(d.pathname+="/"),d}var cl=t=>t.join("/").replace(/\/\/+/g,"/"),e8=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),t8=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,n8=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,r8=class{constructor(t,e,n,r=!1){this.status=t,this.statusText=e||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function i8(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function a8(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var qS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function VS(t,e){let n=t;if(typeof n!="string"||!zS.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let r=n,a=!1;if(qS)try{let s=new URL(window.location.href),l=n.startsWith("//")?new URL(s.protocol+n):new URL(n),u=ul(l.pathname,e);l.origin===s.origin&&u!=null?n=u+l.search+l.hash:a=!0}catch{cs(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:r,isExternal:a,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var HS=["POST","PUT","PATCH","DELETE"];new Set(HS);var s8=["GET",...HS];new Set(s8);var $d=X.createContext(null);$d.displayName="DataRouter";var Gm=X.createContext(null);Gm.displayName="DataRouterState";var o8=X.createContext(!1),$S=X.createContext({isTransitioning:!1});$S.displayName="ViewTransition";var l8=X.createContext(new Map);l8.displayName="Fetchers";var c8=X.createContext(null);c8.displayName="Await";var Ba=X.createContext(null);Ba.displayName="Navigation";var jh=X.createContext(null);jh.displayName="Location";var ds=X.createContext({outlet:null,matches:[],isDataRoute:!1});ds.displayName="Route";var my=X.createContext(null);my.displayName="RouteError";var GS="REACT_ROUTER_ERROR",u8="REDIRECT",d8="ROUTE_ERROR_RESPONSE";function f8(t){if(t.startsWith(`${GS}:${u8}:{`))try{let e=JSON.parse(t.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function h8(t){if(t.startsWith(`${GS}:${d8}:{`))try{let e=JSON.parse(t.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new r8(e.status,e.statusText,e.data)}catch{}}function p8(t,{relative:e}={}){rr(Gd(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=X.useContext(Ba),{hash:a,pathname:s,search:l}=kh(t,{relative:e}),u=s;return n!=="/"&&(u=s==="/"?n:cl([n,s])),r.createHref({pathname:u,search:l,hash:a})}function Gd(){return X.useContext(jh)!=null}function hl(){return rr(Gd(),"useLocation() may be used only in the context of a <Router> component."),X.useContext(jh).location}var WS="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function YS(t){X.useContext(Ba).static||X.useLayoutEffect(t)}function dc(){let{isDataRoute:t}=X.useContext(ds);return t?j8():m8()}function m8(){rr(Gd(),"useNavigate() may be used only in the context of a <Router> component.");let t=X.useContext($d),{basename:e,navigator:n}=X.useContext(Ba),{matches:r}=X.useContext(ds),{pathname:a}=hl(),s=JSON.stringify(hy(r)),l=X.useRef(!1);return YS(()=>{l.current=!0}),X.useCallback((d,f={})=>{if(cs(l.current,WS),!l.current)return;if(typeof d=="number"){n.go(d);return}let p=py(d,JSON.parse(s),a,f.relative==="path");t==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:cl([e,p.pathname])),(f.replace?n.replace:n.push)(p,f.state,f)},[e,n,s,a,t])}var g8=X.createContext(null);function v8(t){let e=X.useContext(ds).outlet;return X.useMemo(()=>e&&X.createElement(g8.Provider,{value:t},e),[e,t])}function KS(){let{matches:t}=X.useContext(ds),e=t[t.length-1];return e?e.params:{}}function kh(t,{relative:e}={}){let{matches:n}=X.useContext(ds),{pathname:r}=hl(),a=JSON.stringify(hy(n));return X.useMemo(()=>py(t,JSON.parse(a),r,e==="path"),[t,a,r,e])}function y8(t,e){return XS(t,e)}function XS(t,e,n,r,a){rr(Gd(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=X.useContext(Ba),{matches:l}=X.useContext(ds),u=l[l.length-1],d=u?u.params:{},f=u?u.pathname:"/",p=u?u.pathnameBase:"/",g=u&&u.route;{let D=g&&g.path||"";QS(f,!g||D.endsWith("*")||D.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${D}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${D}"> to <Route path="${D==="/"?"*":`${D}/*`}">.`)}let y=hl(),v;if(e){let D=typeof e=="string"?Hd(e):e;rr(p==="/"||D.pathname?.startsWith(p),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${D.pathname}" was given in the \`location\` prop.`),v=D}else v=y;let N=v.pathname||"/",C=N;if(p!=="/"){let D=p.replace(/^\//,"").split("/");C="/"+N.replace(/^\//,"").split("/").slice(D.length).join("/")}let T=IS(t,{pathname:C});cs(g||T!=null,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),cs(T==null||T[T.length-1].route.element!==void 0||T[T.length-1].route.Component!==void 0||T[T.length-1].route.lazy!==void 0,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let A=S8(T&&T.map(D=>Object.assign({},D,{params:Object.assign({},d,D.params),pathname:cl([p,s.encodeLocation?s.encodeLocation(D.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:D.pathname]),pathnameBase:D.pathnameBase==="/"?p:cl([p,s.encodeLocation?s.encodeLocation(D.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:D.pathnameBase])})),l,n,r,a);return e&&A?X.createElement(jh.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...v},navigationType:"POP"}},A):A}function b8(){let t=T8(),e=i8(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r},l=null;return console.error("Error handled by React Router default ErrorBoundary:",t),l=X.createElement(X.Fragment,null,X.createElement("p",null," Hey developer "),X.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",X.createElement("code",{style:s},"ErrorBoundary")," or"," ",X.createElement("code",{style:s},"errorElement")," prop on your route.")),X.createElement(X.Fragment,null,X.createElement("h2",null,"Unexpected Application Error!"),X.createElement("h3",{style:{fontStyle:"italic"}},e),n?X.createElement("pre",{style:a},n):null,l)}var w8=X.createElement(b8,null),JS=class extends X.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const n=h8(t.digest);n&&(t=n)}let e=t!==void 0?X.createElement(ds.Provider,{value:this.props.routeContext},X.createElement(my.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?X.createElement(x8,{error:t},e):e}};JS.contextType=o8;var Lg=new WeakMap;function x8({children:t,error:e}){let{basename:n}=X.useContext(Ba);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let r=f8(e.digest);if(r){let a=Lg.get(e);if(a)throw a;let s=VS(r.location,n);if(qS&&!Lg.get(e))if(s.isExternal||r.reloadDocument)window.location.href=s.absoluteURL||s.to;else{const l=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(s.to,{replace:r.replace}));throw Lg.set(e,l),l}return X.createElement("meta",{httpEquiv:"refresh",content:`0;url=${s.absoluteURL||s.to}`})}}return t}function _8({routeContext:t,match:e,children:n}){let r=X.useContext($d);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),X.createElement(ds.Provider,{value:t},n)}function S8(t,e=[],n=null,r=null,a=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,l=n?.errors;if(l!=null){let p=s.findIndex(g=>g.route.id&&l?.[g.route.id]!==void 0);rr(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),s=s.slice(0,Math.min(s.length,p+1))}let u=!1,d=-1;if(n)for(let p=0;p<s.length;p++){let g=s[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(d=p),g.route.id){let{loaderData:y,errors:v}=n,N=g.route.loader&&!y.hasOwnProperty(g.route.id)&&(!v||v[g.route.id]===void 0);if(g.route.lazy||N){u=!0,d>=0?s=s.slice(0,d+1):s=[s[0]];break}}}let f=n&&r?(p,g)=>{r(p,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:a8(n.matches),errorInfo:g})}:void 0;return s.reduceRight((p,g,y)=>{let v,N=!1,C=null,T=null;n&&(v=l&&g.route.id?l[g.route.id]:void 0,C=g.route.errorElement||w8,u&&(d<0&&y===0?(QS("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),N=!0,T=null):d===y&&(N=!0,T=g.route.hydrateFallbackElement||null)));let A=e.concat(s.slice(0,y+1)),D=()=>{let M;return v?M=C:N?M=T:g.route.Component?M=X.createElement(g.route.Component,null):g.route.element?M=g.route.element:M=p,X.createElement(_8,{match:g,routeContext:{outlet:p,matches:A,isDataRoute:n!=null},children:M})};return n&&(g.route.ErrorBoundary||g.route.errorElement||y===0)?X.createElement(JS,{location:n.location,revalidation:n.revalidation,component:C,error:v,children:D(),routeContext:{outlet:null,matches:A,isDataRoute:!0},onError:f}):D()},null)}function gy(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function A8(t){let e=X.useContext($d);return rr(e,gy(t)),e}function N8(t){let e=X.useContext(Gm);return rr(e,gy(t)),e}function E8(t){let e=X.useContext(ds);return rr(e,gy(t)),e}function vy(t){let e=E8(t),n=e.matches[e.matches.length-1];return rr(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function C8(){return vy("useRouteId")}function T8(){let t=X.useContext(my),e=N8("useRouteError"),n=vy("useRouteError");return t!==void 0?t:e.errors?.[n]}function j8(){let{router:t}=A8("useNavigate"),e=vy("useNavigate"),n=X.useRef(!1);return YS(()=>{n.current=!0}),X.useCallback(async(a,s={})=>{cs(n.current,WS),n.current&&(typeof a=="number"?await t.navigate(a):await t.navigate(a,{fromRouteId:e,...s}))},[t,e])}var uw={};function QS(t,e,n){!e&&!uw[t]&&(uw[t]=!0,cs(!1,n))}X.memo(k8);function k8({routes:t,future:e,state:n,onError:r}){return XS(t,void 0,n,r,e)}function ZS({to:t,replace:e,state:n,relative:r}){rr(Gd(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=X.useContext(Ba);cs(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=X.useContext(ds),{pathname:l}=hl(),u=dc(),d=py(t,hy(s),l,r==="path"),f=JSON.stringify(d);return X.useEffect(()=>{u(JSON.parse(f),{replace:e,state:n,relative:r})},[u,f,r,e,n]),null}function L8(t){return v8(t.context)}function wo(t){rr(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function R8({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:a,static:s=!1,unstable_useTransitions:l}){rr(!Gd(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=t.replace(/^\/*/,"/"),d=X.useMemo(()=>({basename:u,navigator:a,static:s,unstable_useTransitions:l,future:{}}),[u,a,s,l]);typeof n=="string"&&(n=Hd(n));let{pathname:f="/",search:p="",hash:g="",state:y=null,key:v="default"}=n,N=X.useMemo(()=>{let C=ul(f,u);return C==null?null:{location:{pathname:C,search:p,hash:g,state:y,key:v},navigationType:r}},[u,f,p,g,y,v,r]);return cs(N!=null,`<Router basename="${u}"> is not able to match the URL "${f}${p}${g}" because it does not start with the basename, so the <Router> won't render anything.`),N==null?null:X.createElement(Ba.Provider,{value:d},X.createElement(jh.Provider,{children:e,value:N}))}function O8({children:t,location:e}){return y8(cv(t),e)}function cv(t,e=[]){let n=[];return X.Children.forEach(t,(r,a)=>{if(!X.isValidElement(r))return;let s=[...e,a];if(r.type===X.Fragment){n.push.apply(n,cv(r.props.children,s));return}rr(r.type===wo,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),rr(!r.props.index||!r.props.children,"An index route cannot have child routes.");let l={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=cv(r.props.children,s)),n.push(l)}),n}var im="get",am="application/x-www-form-urlencoded";function Wm(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function D8(t){return Wm(t)&&t.tagName.toLowerCase()==="button"}function P8(t){return Wm(t)&&t.tagName.toLowerCase()==="form"}function M8(t){return Wm(t)&&t.tagName.toLowerCase()==="input"}function B8(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function I8(t,e){return t.button===0&&(!e||e==="_self")&&!B8(t)}var Rp=null;function F8(){if(Rp===null)try{new FormData(document.createElement("form"),0),Rp=!1}catch{Rp=!0}return Rp}var U8=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Rg(t){return t!=null&&!U8.has(t)?(cs(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${am}"`),null):t}function z8(t,e){let n,r,a,s,l;if(P8(t)){let u=t.getAttribute("action");r=u?ul(u,e):null,n=t.getAttribute("method")||im,a=Rg(t.getAttribute("enctype"))||am,s=new FormData(t)}else if(D8(t)||M8(t)&&(t.type==="submit"||t.type==="image")){let u=t.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=t.getAttribute("formaction")||u.getAttribute("action");if(r=d?ul(d,e):null,n=t.getAttribute("formmethod")||u.getAttribute("method")||im,a=Rg(t.getAttribute("formenctype"))||Rg(u.getAttribute("enctype"))||am,s=new FormData(u,t),!F8()){let{name:f,type:p,value:g}=t;if(p==="image"){let y=f?`${f}.`:"";s.append(`${y}x`,"0"),s.append(`${y}y`,"0")}else f&&s.append(f,g)}}else{if(Wm(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=im,r=null,a=am,l=t}return s&&a==="text/plain"&&(l=s,s=void 0),{action:r,method:n.toLowerCase(),encType:a,formData:s,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function yy(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function q8(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&ul(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function V8(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function H8(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function $8(t,e,n){let r=await Promise.all(t.map(async a=>{let s=e.routes[a.route.id];if(s){let l=await V8(s,n);return l.links?l.links():[]}return[]}));return K8(r.flat(1).filter(H8).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function dw(t,e,n,r,a,s){let l=(d,f)=>n[f]?d.route.id!==n[f].route.id:!0,u=(d,f)=>n[f].pathname!==d.pathname||n[f].route.path?.endsWith("*")&&n[f].params["*"]!==d.params["*"];return s==="assets"?e.filter((d,f)=>l(d,f)||u(d,f)):s==="data"?e.filter((d,f)=>{let p=r.routes[d.route.id];if(!p||!p.hasLoader)return!1;if(l(d,f)||u(d,f))return!0;if(d.route.shouldRevalidate){let g=d.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof g=="boolean")return g}return!0}):[]}function G8(t,e,{includeHydrateFallback:n}={}){return W8(t.map(r=>{let a=e.routes[r.route.id];if(!a)return[];let s=[a.module];return a.clientActionModule&&(s=s.concat(a.clientActionModule)),a.clientLoaderModule&&(s=s.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(s=s.concat(a.hydrateFallbackModule)),a.imports&&(s=s.concat(a.imports)),s}).flat(1))}function W8(t){return[...new Set(t)]}function Y8(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function K8(t,e){let n=new Set;return new Set(e),t.reduce((r,a)=>{let s=JSON.stringify(Y8(a));return n.has(s)||(n.add(s),r.push({key:s,link:a})),r},[])}function e3(){let t=X.useContext($d);return yy(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function X8(){let t=X.useContext(Gm);return yy(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var by=X.createContext(void 0);by.displayName="FrameworkContext";function t3(){let t=X.useContext(by);return yy(t,"You must render this element inside a <HydratedRouter> element"),t}function J8(t,e){let n=X.useContext(by),[r,a]=X.useState(!1),[s,l]=X.useState(!1),{onFocus:u,onBlur:d,onMouseEnter:f,onMouseLeave:p,onTouchStart:g}=e,y=X.useRef(null);X.useEffect(()=>{if(t==="render"&&l(!0),t==="viewport"){let C=A=>{A.forEach(D=>{l(D.isIntersecting)})},T=new IntersectionObserver(C,{threshold:.5});return y.current&&T.observe(y.current),()=>{T.disconnect()}}},[t]),X.useEffect(()=>{if(r){let C=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(C)}}},[r]);let v=()=>{a(!0)},N=()=>{a(!1),l(!1)};return n?t!=="intent"?[s,y,{}]:[s,y,{onFocus:If(u,v),onBlur:If(d,N),onMouseEnter:If(f,v),onMouseLeave:If(p,N),onTouchStart:If(g,v)}]:[!1,y,{}]}function If(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function Q8({page:t,...e}){let{router:n}=e3(),r=X.useMemo(()=>IS(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?X.createElement(eT,{page:t,matches:r,...e}):null}function Z8(t){let{manifest:e,routeModules:n}=t3(),[r,a]=X.useState([]);return X.useEffect(()=>{let s=!1;return $8(t,e,n).then(l=>{s||a(l)}),()=>{s=!0}},[t,e,n]),r}function eT({page:t,matches:e,...n}){let r=hl(),{manifest:a,routeModules:s}=t3(),{basename:l}=e3(),{loaderData:u,matches:d}=X8(),f=X.useMemo(()=>dw(t,e,d,a,r,"data"),[t,e,d,a,r]),p=X.useMemo(()=>dw(t,e,d,a,r,"assets"),[t,e,d,a,r]),g=X.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let N=new Set,C=!1;if(e.forEach(A=>{let D=a.routes[A.route.id];!D||!D.hasLoader||(!f.some(M=>M.route.id===A.route.id)&&A.route.id in u&&s[A.route.id]?.shouldRevalidate||D.hasClientLoader?C=!0:N.add(A.route.id))}),N.size===0)return[];let T=q8(t,l,"data");return C&&N.size>0&&T.searchParams.set("_routes",e.filter(A=>N.has(A.route.id)).map(A=>A.route.id).join(",")),[T.pathname+T.search]},[l,u,r,a,f,e,t,s]),y=X.useMemo(()=>G8(p,a),[p,a]),v=Z8(p);return X.createElement(X.Fragment,null,g.map(N=>X.createElement("link",{key:N,rel:"prefetch",as:"fetch",href:N,...n})),y.map(N=>X.createElement("link",{key:N,rel:"modulepreload",href:N,...n})),v.map(({key:N,link:C})=>X.createElement("link",{key:N,nonce:n.nonce,...C})))}function tT(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var nT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{nT&&(window.__reactRouterVersion="7.11.0")}catch{}function rT({basename:t,children:e,unstable_useTransitions:n,window:r}){let a=X.useRef();a.current==null&&(a.current=DC({window:r,v5Compat:!0}));let s=a.current,[l,u]=X.useState({action:s.action,location:s.location}),d=X.useCallback(f=>{n===!1?u(f):X.startTransition(()=>u(f))},[n]);return X.useLayoutEffect(()=>s.listen(d),[s,d]),X.createElement(R8,{basename:t,children:e,location:l.location,navigationType:l.action,navigator:s,unstable_useTransitions:n})}var n3=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,r3=X.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:a,reloadDocument:s,replace:l,state:u,target:d,to:f,preventScrollReset:p,viewTransition:g,unstable_defaultShouldRevalidate:y,...v},N){let{basename:C,unstable_useTransitions:T}=X.useContext(Ba),A=typeof f=="string"&&n3.test(f),D=VS(f,C);f=D.to;let M=p8(f,{relative:a}),[B,q,V]=J8(r,v),W=oT(f,{replace:l,state:u,target:d,preventScrollReset:p,relative:a,viewTransition:g,unstable_defaultShouldRevalidate:y,unstable_useTransitions:T});function R($){e&&e($),$.defaultPrevented||W($)}let L=X.createElement("a",{...v,...V,href:D.absoluteURL||M,onClick:D.isExternal||s?e:R,ref:tT(N,q),target:d,"data-discover":!A&&n==="render"?"true":void 0});return B&&!A?X.createElement(X.Fragment,null,L,X.createElement(Q8,{page:M})):L});r3.displayName="Link";var iT=X.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:a=!1,style:s,to:l,viewTransition:u,children:d,...f},p){let g=kh(l,{relative:f.relative}),y=hl(),v=X.useContext(Gm),{navigator:N,basename:C}=X.useContext(Ba),T=v!=null&&fT(g)&&u===!0,A=N.encodeLocation?N.encodeLocation(g).pathname:g.pathname,D=y.pathname,M=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;n||(D=D.toLowerCase(),M=M?M.toLowerCase():null,A=A.toLowerCase()),M&&C&&(M=ul(M,C)||M);const B=A!=="/"&&A.endsWith("/")?A.length-1:A.length;let q=D===A||!a&&D.startsWith(A)&&D.charAt(B)==="/",V=M!=null&&(M===A||!a&&M.startsWith(A)&&M.charAt(A.length)==="/"),W={isActive:q,isPending:V,isTransitioning:T},R=q?e:void 0,L;typeof r=="function"?L=r(W):L=[r,q?"active":null,V?"pending":null,T?"transitioning":null].filter(Boolean).join(" ");let $=typeof s=="function"?s(W):s;return X.createElement(r3,{...f,"aria-current":R,className:L,ref:p,style:$,to:l,viewTransition:u},typeof d=="function"?d(W):d)});iT.displayName="NavLink";var aT=X.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:a,state:s,method:l=im,action:u,onSubmit:d,relative:f,preventScrollReset:p,viewTransition:g,unstable_defaultShouldRevalidate:y,...v},N)=>{let{unstable_useTransitions:C}=X.useContext(Ba),T=uT(),A=dT(u,{relative:f}),D=l.toLowerCase()==="get"?"get":"post",M=typeof u=="string"&&n3.test(u),B=q=>{if(d&&d(q),q.defaultPrevented)return;q.preventDefault();let V=q.nativeEvent.submitter,W=V?.getAttribute("formmethod")||l,R=()=>T(V||q.currentTarget,{fetcherKey:e,method:W,navigate:n,replace:a,state:s,relative:f,preventScrollReset:p,viewTransition:g,unstable_defaultShouldRevalidate:y});C&&n!==!1?X.startTransition(()=>R()):R()};return X.createElement("form",{ref:N,method:D,action:A,onSubmit:r?d:B,...v,"data-discover":!M&&t==="render"?"true":void 0})});aT.displayName="Form";function sT(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function i3(t){let e=X.useContext($d);return rr(e,sT(t)),e}function oT(t,{target:e,replace:n,state:r,preventScrollReset:a,relative:s,viewTransition:l,unstable_defaultShouldRevalidate:u,unstable_useTransitions:d}={}){let f=dc(),p=hl(),g=kh(t,{relative:s});return X.useCallback(y=>{if(I8(y,e)){y.preventDefault();let v=n!==void 0?n:ah(p)===ah(g),N=()=>f(t,{replace:v,state:r,preventScrollReset:a,relative:s,viewTransition:l,unstable_defaultShouldRevalidate:u});d?X.startTransition(()=>N()):N()}},[p,f,g,n,r,e,t,a,s,l,u,d])}var lT=0,cT=()=>`__${String(++lT)}__`;function uT(){let{router:t}=i3("useSubmit"),{basename:e}=X.useContext(Ba),n=C8(),r=t.fetch,a=t.navigate;return X.useCallback(async(s,l={})=>{let{action:u,method:d,encType:f,formData:p,body:g}=z8(s,e);if(l.navigate===!1){let y=l.fetcherKey||cT();await r(y,n,l.action||u,{unstable_defaultShouldRevalidate:l.unstable_defaultShouldRevalidate,preventScrollReset:l.preventScrollReset,formData:p,body:g,formMethod:l.method||d,formEncType:l.encType||f,flushSync:l.flushSync})}else await a(l.action||u,{unstable_defaultShouldRevalidate:l.unstable_defaultShouldRevalidate,preventScrollReset:l.preventScrollReset,formData:p,body:g,formMethod:l.method||d,formEncType:l.encType||f,replace:l.replace,state:l.state,fromRouteId:n,flushSync:l.flushSync,viewTransition:l.viewTransition})},[r,a,e,n])}function dT(t,{relative:e}={}){let{basename:n}=X.useContext(Ba),r=X.useContext(ds);rr(r,"useFormAction must be used inside a RouteContext");let[a]=r.matches.slice(-1),s={...kh(t||".",{relative:e})},l=hl();if(t==null){s.search=l.search;let u=new URLSearchParams(s.search),d=u.getAll("index");if(d.some(p=>p==="")){u.delete("index"),d.filter(g=>g).forEach(g=>u.append("index",g));let p=u.toString();s.search=p?`?${p}`:""}}return(!t||t===".")&&a.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(s.pathname=s.pathname==="/"?n:cl([n,s.pathname])),ah(s)}function fT(t,{relative:e}={}){let n=X.useContext($S);rr(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=i3("useViewTransitionState"),a=kh(t,{relative:e});if(!n.isTransitioning)return!1;let s=ul(n.currentLocation.pathname,r)||n.currentLocation.pathname,l=ul(n.nextLocation.pathname,r)||n.nextLocation.pathname;return bm(a.pathname,l)!=null||bm(a.pathname,s)!=null}var wy=BS();const hT=Th(wy);function Ym(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(t);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(t,r[a])&&(n[r[a]]=t[r[a]]);return n}function pT(t,e,n,r){function a(s){return s instanceof n?s:new n(function(l){l(s)})}return new(n||(n=Promise))(function(s,l){function u(p){try{f(r.next(p))}catch(g){l(g)}}function d(p){try{f(r.throw(p))}catch(g){l(g)}}function f(p){p.done?s(p.value):a(p.value).then(u,d)}f((r=r.apply(t,e||[])).next())})}const mT=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class xy extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class gT extends xy{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class fw extends xy{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class hw extends xy{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var uv;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(uv||(uv={}));class vT{constructor(e,{headers:n={},customFetch:r,region:a=uv.Any}={}){this.url=e,this.headers=n,this.region=a,this.fetch=mT(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return pT(this,arguments,void 0,function*(n,r={}){var a;let s,l;try{const{headers:u,method:d,body:f,signal:p,timeout:g}=r;let y={},{region:v}=r;v||(v=this.region);const N=new URL(`${this.url}/${n}`);v&&v!=="any"&&(y["x-region"]=v,N.searchParams.set("forceFunctionRegion",v));let C;f&&(u&&!Object.prototype.hasOwnProperty.call(u,"Content-Type")||!u)?typeof Blob<"u"&&f instanceof Blob||f instanceof ArrayBuffer?(y["Content-Type"]="application/octet-stream",C=f):typeof f=="string"?(y["Content-Type"]="text/plain",C=f):typeof FormData<"u"&&f instanceof FormData?C=f:(y["Content-Type"]="application/json",C=JSON.stringify(f)):C=f;let T=p;g&&(l=new AbortController,s=setTimeout(()=>l.abort(),g),p?(T=l.signal,p.addEventListener("abort",()=>l.abort())):T=l.signal);const A=yield this.fetch(N.toString(),{method:d||"POST",headers:Object.assign(Object.assign(Object.assign({},y),this.headers),u),body:C,signal:T}).catch(q=>{throw new gT(q)}),D=A.headers.get("x-relay-error");if(D&&D==="true")throw new fw(A);if(!A.ok)throw new hw(A);let M=((a=A.headers.get("Content-Type"))!==null&&a!==void 0?a:"text/plain").split(";")[0].trim(),B;return M==="application/json"?B=yield A.json():M==="application/octet-stream"||M==="application/pdf"?B=yield A.blob():M==="text/event-stream"?B=A:M==="multipart/form-data"?B=yield A.formData():B=yield A.text(),{data:B,error:null,response:A}}catch(u){return{data:null,error:u,response:u instanceof hw||u instanceof fw?u.context:void 0}}finally{s&&clearTimeout(s)}})}}var yT=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}},bT=class{constructor(t){var e,n;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(e=t.shouldThrowOnError)!==null&&e!==void 0?e:!1,this.signal=t.signal,this.isMaybeSingle=(n=t.isMaybeSingle)!==null&&n!==void 0?n:!1,t.fetch?this.fetch=t.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,e){return this.headers=new Headers(this.headers),this.headers.set(t,e),this}then(t,e){var n=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let a=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async s=>{let l=null,u=null,d=null,f=s.status,p=s.statusText;if(s.ok){var g,y;if(n.method!=="HEAD"){var v;const A=await s.text();A===""||(n.headers.get("Accept")==="text/csv"||n.headers.get("Accept")&&(!((v=n.headers.get("Accept"))===null||v===void 0)&&v.includes("application/vnd.pgrst.plan+text"))?u=A:u=JSON.parse(A))}const C=(g=n.headers.get("Prefer"))===null||g===void 0?void 0:g.match(/count=(exact|planned|estimated)/),T=(y=s.headers.get("content-range"))===null||y===void 0?void 0:y.split("/");C&&T&&T.length>1&&(d=parseInt(T[1])),n.isMaybeSingle&&n.method==="GET"&&Array.isArray(u)&&(u.length>1?(l={code:"PGRST116",details:`Results contain ${u.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},u=null,d=null,f=406,p="Not Acceptable"):u.length===1?u=u[0]:u=null)}else{var N;const C=await s.text();try{l=JSON.parse(C),Array.isArray(l)&&s.status===404&&(u=[],l=null,f=200,p="OK")}catch{s.status===404&&C===""?(f=204,p="No Content"):l={message:C}}if(l&&n.isMaybeSingle&&(!(l==null||(N=l.details)===null||N===void 0)&&N.includes("0 rows"))&&(l=null,f=200,p="OK"),l&&n.shouldThrowOnError)throw new yT(l)}return{error:l,data:u,count:d,status:f,statusText:p}});return this.shouldThrowOnError||(a=a.catch(s=>{var l;let u="";const d=s?.cause;if(d){var f,p,g,y;const N=(f=d?.message)!==null&&f!==void 0?f:"",C=(p=d?.code)!==null&&p!==void 0?p:"";u=`${(g=s?.name)!==null&&g!==void 0?g:"FetchError"}: ${s?.message}`,u+=`

Caused by: ${(y=d?.name)!==null&&y!==void 0?y:"Error"}: ${N}`,C&&(u+=` (${C})`),d?.stack&&(u+=`
${d.stack}`)}else{var v;u=(v=s?.stack)!==null&&v!==void 0?v:""}return{error:{message:`${(l=s?.name)!==null&&l!==void 0?l:"FetchError"}: ${s?.message}`,details:u,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),a.then(t,e)}returns(){return this}overrideTypes(){return this}},wT=class extends bT{select(t){let e=!1;const n=(t??"*").split("").map(r=>/\s/.test(r)&&!e?"":(r==='"'&&(e=!e),r)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:e=!0,nullsFirst:n,foreignTable:r,referencedTable:a=r}={}){const s=a?`${a}.order`:"order",l=this.url.searchParams.get(s);return this.url.searchParams.set(s,`${l?`${l},`:""}${t}.${e?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:e,referencedTable:n=e}={}){const r=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(r,`${t}`),this}range(t,e,{foreignTable:n,referencedTable:r=n}={}){const a=typeof r>"u"?"offset":`${r}.offset`,s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(a,`${t}`),this.url.searchParams.set(s,`${e-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:e=!1,settings:n=!1,buffers:r=!1,wal:a=!1,format:s="text"}={}){var l;const u=[t?"analyze":null,e?"verbose":null,n?"settings":null,r?"buffers":null,a?"wal":null].filter(Boolean).join("|"),d=(l=this.headers.get("Accept"))!==null&&l!==void 0?l:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${s}; for="${d}"; options=${u};`),s==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};const pw=new RegExp("[,()]");var bd=class extends wT{eq(t,e){return this.url.searchParams.append(t,`eq.${e}`),this}neq(t,e){return this.url.searchParams.append(t,`neq.${e}`),this}gt(t,e){return this.url.searchParams.append(t,`gt.${e}`),this}gte(t,e){return this.url.searchParams.append(t,`gte.${e}`),this}lt(t,e){return this.url.searchParams.append(t,`lt.${e}`),this}lte(t,e){return this.url.searchParams.append(t,`lte.${e}`),this}like(t,e){return this.url.searchParams.append(t,`like.${e}`),this}likeAllOf(t,e){return this.url.searchParams.append(t,`like(all).{${e.join(",")}}`),this}likeAnyOf(t,e){return this.url.searchParams.append(t,`like(any).{${e.join(",")}}`),this}ilike(t,e){return this.url.searchParams.append(t,`ilike.${e}`),this}ilikeAllOf(t,e){return this.url.searchParams.append(t,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(t,e){return this.url.searchParams.append(t,`ilike(any).{${e.join(",")}}`),this}regexMatch(t,e){return this.url.searchParams.append(t,`match.${e}`),this}regexIMatch(t,e){return this.url.searchParams.append(t,`imatch.${e}`),this}is(t,e){return this.url.searchParams.append(t,`is.${e}`),this}isDistinct(t,e){return this.url.searchParams.append(t,`isdistinct.${e}`),this}in(t,e){const n=Array.from(new Set(e)).map(r=>typeof r=="string"&&pw.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}notIn(t,e){const n=Array.from(new Set(e)).map(r=>typeof r=="string"&&pw.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(t,`not.in.(${n})`),this}contains(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cs.{${e.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(e)}`),this}containedBy(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cd.{${e.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(e)}`),this}rangeGt(t,e){return this.url.searchParams.append(t,`sr.${e}`),this}rangeGte(t,e){return this.url.searchParams.append(t,`nxl.${e}`),this}rangeLt(t,e){return this.url.searchParams.append(t,`sl.${e}`),this}rangeLte(t,e){return this.url.searchParams.append(t,`nxr.${e}`),this}rangeAdjacent(t,e){return this.url.searchParams.append(t,`adj.${e}`),this}overlaps(t,e){return typeof e=="string"?this.url.searchParams.append(t,`ov.${e}`):this.url.searchParams.append(t,`ov.{${e.join(",")}}`),this}textSearch(t,e,{config:n,type:r}={}){let a="";r==="plain"?a="pl":r==="phrase"?a="ph":r==="websearch"&&(a="w");const s=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${a}fts${s}.${e}`),this}match(t){return Object.entries(t).forEach(([e,n])=>{this.url.searchParams.append(e,`eq.${n}`)}),this}not(t,e,n){return this.url.searchParams.append(t,`not.${e}.${n}`),this}or(t,{foreignTable:e,referencedTable:n=e}={}){const r=n?`${n}.or`:"or";return this.url.searchParams.append(r,`(${t})`),this}filter(t,e,n){return this.url.searchParams.append(t,`${e}.${n}`),this}},xT=class{constructor(t,{headers:e={},schema:n,fetch:r}){this.url=t,this.headers=new Headers(e),this.schema=n,this.fetch=r}select(t,e){const{head:n=!1,count:r}=e??{},a=n?"HEAD":"GET";let s=!1;const l=(t??"*").split("").map(u=>/\s/.test(u)&&!s?"":(u==='"'&&(s=!s),u)).join("");return this.url.searchParams.set("select",l),r&&this.headers.append("Prefer",`count=${r}`),new bd({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(t,{count:e,defaultToNull:n=!0}={}){var r;const a="POST";if(e&&this.headers.append("Prefer",`count=${e}`),n||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const s=t.reduce((l,u)=>l.concat(Object.keys(u)),[]);if(s.length>0){const l=[...new Set(s)].map(u=>`"${u}"`);this.url.searchParams.set("columns",l.join(","))}}return new bd({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}upsert(t,{onConflict:e,ignoreDuplicates:n=!1,count:r,defaultToNull:a=!0}={}){var s;const l="POST";if(this.headers.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),e!==void 0&&this.url.searchParams.set("on_conflict",e),r&&this.headers.append("Prefer",`count=${r}`),a||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const u=t.reduce((d,f)=>d.concat(Object.keys(f)),[]);if(u.length>0){const d=[...new Set(u)].map(f=>`"${f}"`);this.url.searchParams.set("columns",d.join(","))}}return new bd({method:l,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}update(t,{count:e}={}){var n;const r="PATCH";return e&&this.headers.append("Prefer",`count=${e}`),new bd({method:r,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:t}={}){var e;const n="DELETE";return t&&this.headers.append("Prefer",`count=${t}`),new bd({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:(e=this.fetch)!==null&&e!==void 0?e:fetch})}},_T=class a3{constructor(e,{headers:n={},schema:r,fetch:a}={}){this.url=e,this.headers=new Headers(n),this.schemaName=r,this.fetch=a}from(e){if(!e||typeof e!="string"||e.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new xT(new URL(`${this.url}/${e}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new a3(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:r=!1,get:a=!1,count:s}={}){var l;let u;const d=new URL(`${this.url}/rpc/${e}`);let f;r||a?(u=r?"HEAD":"GET",Object.entries(n).filter(([g,y])=>y!==void 0).map(([g,y])=>[g,Array.isArray(y)?`{${y.join(",")}}`:`${y}`]).forEach(([g,y])=>{d.searchParams.append(g,y)})):(u="POST",f=n);const p=new Headers(this.headers);return s&&p.set("Prefer",`count=${s}`),new bd({method:u,url:d,headers:p,schema:this.schemaName,body:f,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}};class ST{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const r=n.node,a=parseInt(r.replace(/^v/,"").split(".")[0]);return a>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${a} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${a} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const r=this.getWebSocketConstructor();return new r(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const AT="2.89.0",NT=`realtime-js/${AT}`,s3="1.0.0",ET="2.0.0",mw=s3,dv=1e4,CT=1e3,TT=100;var ec;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(ec||(ec={}));var Xr;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Xr||(Xr={}));var $s;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})($s||($s={}));var fv;(function(t){t.websocket="websocket"})(fv||(fv={}));var tu;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(tu||(tu={}));class jT{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,n){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(e));let r=[e.join_ref,e.ref,e.topic,e.event,e.payload];return n(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(e){var n;return this._isArrayBuffer((n=e.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var n,r;const a=(r=(n=e.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,a)}_encodeJsonUserBroadcastPush(e){var n,r;const a=(r=(n=e.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:{},l=new TextEncoder().encode(JSON.stringify(a)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,l)}_encodeUserBroadcastPush(e,n,r){var a,s;const l=e.topic,u=(a=e.ref)!==null&&a!==void 0?a:"",d=(s=e.join_ref)!==null&&s!==void 0?s:"",f=e.payload.event,p=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},g=Object.keys(p).length===0?"":JSON.stringify(p);if(d.length>255)throw new Error(`joinRef length ${d.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`ref length ${u.length} exceeds maximum of 255`);if(l.length>255)throw new Error(`topic length ${l.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`userEvent length ${f.length} exceeds maximum of 255`);if(g.length>255)throw new Error(`metadata length ${g.length} exceeds maximum of 255`);const y=this.USER_BROADCAST_PUSH_META_LENGTH+d.length+u.length+l.length+f.length+g.length,v=new ArrayBuffer(this.HEADER_LENGTH+y);let N=new DataView(v),C=0;N.setUint8(C++,this.KINDS.userBroadcastPush),N.setUint8(C++,d.length),N.setUint8(C++,u.length),N.setUint8(C++,l.length),N.setUint8(C++,f.length),N.setUint8(C++,g.length),N.setUint8(C++,n),Array.from(d,A=>N.setUint8(C++,A.charCodeAt(0))),Array.from(u,A=>N.setUint8(C++,A.charCodeAt(0))),Array.from(l,A=>N.setUint8(C++,A.charCodeAt(0))),Array.from(f,A=>N.setUint8(C++,A.charCodeAt(0))),Array.from(g,A=>N.setUint8(C++,A.charCodeAt(0)));var T=new Uint8Array(v.byteLength+r.byteLength);return T.set(new Uint8Array(v),0),T.set(new Uint8Array(r),v.byteLength),T.buffer}decode(e,n){if(this._isArrayBuffer(e)){let r=this._binaryDecode(e);return n(r)}if(typeof e=="string"){const r=JSON.parse(e),[a,s,l,u,d]=r;return n({join_ref:a,ref:s,topic:l,event:u,payload:d})}return n({})}_binaryDecode(e){const n=new DataView(e),r=n.getUint8(0),a=new TextDecoder;if(r===this.KINDS.userBroadcast)return this._decodeUserBroadcast(e,n,a)}_decodeUserBroadcast(e,n,r){const a=n.getUint8(1),s=n.getUint8(2),l=n.getUint8(3),u=n.getUint8(4);let d=this.HEADER_LENGTH+4;const f=r.decode(e.slice(d,d+a));d=d+a;const p=r.decode(e.slice(d,d+s));d=d+s;const g=r.decode(e.slice(d,d+l));d=d+l;const y=e.slice(d,e.byteLength),v=u===this.JSON_ENCODING?JSON.parse(r.decode(y)):y,N={type:this.BROADCAST_EVENT,event:p,payload:v};return l>0&&(N.meta=JSON.parse(g)),{join_ref:null,ref:null,topic:f,event:this.BROADCAST_EVENT,payload:N}}_isArrayBuffer(e){var n;return e instanceof ArrayBuffer||((n=e?.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(e,n){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([r])=>n.includes(r)))}}class o3{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Vn;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Vn||(Vn={}));const gw=(t,e,n={})=>{var r;const a=(r=n.skipTypes)!==null&&r!==void 0?r:[];return e?Object.keys(e).reduce((s,l)=>(s[l]=kT(l,t,e,a),s),{}):{}},kT=(t,e,n,r)=>{const a=e.find(u=>u.name===t),s=a?.type,l=n[t];return s&&!r.includes(s)?l3(s,l):hv(l)},l3=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return DT(e,n)}switch(t){case Vn.bool:return LT(e);case Vn.float4:case Vn.float8:case Vn.int2:case Vn.int4:case Vn.int8:case Vn.numeric:case Vn.oid:return RT(e);case Vn.json:case Vn.jsonb:return OT(e);case Vn.timestamp:return PT(e);case Vn.abstime:case Vn.date:case Vn.daterange:case Vn.int4range:case Vn.int8range:case Vn.money:case Vn.reltime:case Vn.text:case Vn.time:case Vn.timestamptz:case Vn.timetz:case Vn.tsrange:case Vn.tstzrange:return hv(e);default:return hv(e)}},hv=t=>t,LT=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},RT=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},OT=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t},DT=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let s;const l=t.slice(1,n);try{s=JSON.parse("["+l+"]")}catch{s=l?l.split(","):[]}return s.map(u=>l3(e,u))}return t},PT=t=>typeof t=="string"?t.replace(" ","T"):t,c3=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class Og{constructor(e,n,r={},a=dv){this.channel=e,this.event=n,this.payload=r,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var vw;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(vw||(vw={}));class Kf{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=n?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},a=>{const{onJoin:s,onLeave:l,onSync:u}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Kf.syncState(this.state,a,s,l),this.pendingDiffs.forEach(d=>{this.state=Kf.syncDiff(this.state,d,s,l)}),this.pendingDiffs=[],u()}),this.channel._on(r.diff,{},a=>{const{onJoin:s,onLeave:l,onSync:u}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=Kf.syncDiff(this.state,a,s,l),u())}),this.onJoin((a,s,l)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:s,newPresences:l})}),this.onLeave((a,s,l)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:s,leftPresences:l})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,a){const s=this.cloneDeep(e),l=this.transformState(n),u={},d={};return this.map(s,(f,p)=>{l[f]||(d[f]=p)}),this.map(l,(f,p)=>{const g=s[f];if(g){const y=p.map(T=>T.presence_ref),v=g.map(T=>T.presence_ref),N=p.filter(T=>v.indexOf(T.presence_ref)<0),C=g.filter(T=>y.indexOf(T.presence_ref)<0);N.length>0&&(u[f]=N),C.length>0&&(d[f]=C)}else u[f]=p}),this.syncDiff(s,{joins:u,leaves:d},r,a)}static syncDiff(e,n,r,a){const{joins:s,leaves:l}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),a||(a=()=>{}),this.map(s,(u,d)=>{var f;const p=(f=e[u])!==null&&f!==void 0?f:[];if(e[u]=this.cloneDeep(d),p.length>0){const g=e[u].map(v=>v.presence_ref),y=p.filter(v=>g.indexOf(v.presence_ref)<0);e[u].unshift(...y)}r(u,p,d)}),this.map(l,(u,d)=>{let f=e[u];if(!f)return;const p=d.map(g=>g.presence_ref);f=f.filter(g=>p.indexOf(g.presence_ref)<0),e[u]=f,a(u,f,d),f.length===0&&delete e[u]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const a=e[r];return"metas"in a?n[r]=a.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):n[r]=a,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var yw;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(yw||(yw={}));var Xf;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Xf||(Xf={}));var sl;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(sl||(sl={}));class Ad{constructor(e,n={config:{}},r){var a,s;if(this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=Xr.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Og(this,$s.join,this.params,this.timeout),this.rejoinTimer=new o3(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Xr.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(l=>l.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Xr.closed,this.socket._remove(this)}),this._onError(l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=Xr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Xr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=Xr.errored,this.rejoinTimer.scheduleTimeout())}),this._on($s.reply,{},(l,u)=>{this._trigger(this._replyEventName(u),l)}),this.presence=new Kf(this),this.broadcastEndpointURL=c3(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((s=(a=this.params.config)===null||a===void 0?void 0:a.broadcast)===null||s===void 0)&&s.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,n=this.timeout){var r,a,s;if(this.socket.isConnected()||this.socket.connect(),this.state==Xr.closed){const{config:{broadcast:l,presence:u,private:d}}=this.params,f=(a=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(v=>v.filter))!==null&&a!==void 0?a:[],p=!!this.bindings[Xf.PRESENCE]&&this.bindings[Xf.PRESENCE].length>0||((s=this.params.config.presence)===null||s===void 0?void 0:s.enabled)===!0,g={},y={broadcast:l,presence:Object.assign(Object.assign({},u),{enabled:p}),postgres_changes:f,private:d};this.socket.accessTokenValue&&(g.access_token=this.socket.accessTokenValue),this._onError(v=>e?.(sl.CHANNEL_ERROR,v)),this._onClose(()=>e?.(sl.CLOSED)),this.updateJoinPayload(Object.assign({config:y},g)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:v})=>{var N;if(this.socket._isManualToken()||this.socket.setAuth(),v===void 0){e?.(sl.SUBSCRIBED);return}else{const C=this.bindings.postgres_changes,T=(N=C?.length)!==null&&N!==void 0?N:0,A=[];for(let D=0;D<T;D++){const M=C[D],{filter:{event:B,schema:q,table:V,filter:W}}=M,R=v&&v[D];if(R&&R.event===B&&Ad.isFilterValueEqual(R.schema,q)&&Ad.isFilterValueEqual(R.table,V)&&Ad.isFilterValueEqual(R.filter,W))A.push(Object.assign(Object.assign({},M),{id:R.id}));else{this.unsubscribe(),this.state=Xr.errored,e?.(sl.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=A,e&&e(sl.SUBSCRIBED);return}}).receive("error",v=>{this.state=Xr.errored,e?.(sl.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(v).join(", ")||"error")))}).receive("timeout",()=>{e?.(sl.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this.state===Xr.joined&&e===Xf.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,n,r)}async httpSend(e,n,r={}){var a;if(n==null)return Promise.reject("Payload is required for httpSend()");const s={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(s.Authorization=`Bearer ${this.socket.accessTokenValue}`);const l={method:"POST",headers:s,body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:n,private:this.private}]})},u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(a=r.timeout)!==null&&a!==void 0?a:this.timeout);if(u.status===202)return{success:!0};let d=u.statusText;try{const f=await u.json();d=f.error||f.message||d}catch{}return Promise.reject(new Error(d))}async send(e,n={}){var r,a;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:s,payload:l}=e,u={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(u.Authorization=`Bearer ${this.socket.accessTokenValue}`);const d={method:"POST",headers:u,body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:l,private:this.private}]})};try{const f=await this._fetchWithTimeout(this.broadcastEndpointURL,d,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((a=f.body)===null||a===void 0?void 0:a.cancel()),f.ok?"ok":"error"}catch(f){return f.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var l,u,d;const f=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((d=(u=(l=this.params)===null||l===void 0?void 0:l.config)===null||u===void 0?void 0:u.broadcast)===null||d===void 0)&&d.ack)&&s("ok"),f.receive("ok",()=>s("ok")),f.receive("error",()=>s("error")),f.receive("timeout",()=>s("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Xr.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger($s.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(a=>{r=new Og(this,$s.leave,{},e),r.receive("ok",()=>{n(),a("ok")}).receive("timeout",()=>{n(),a("timed out")}).receive("error",()=>{a("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Xr.closed,this.bindings={}}async _fetchWithTimeout(e,n,r){const a=new AbortController,s=setTimeout(()=>a.abort(),r),l=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:a.signal}));return clearTimeout(s),l}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new Og(this,e,n,r);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>TT){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var a,s;const l=e.toLocaleLowerCase(),{close:u,error:d,leave:f,join:p}=$s;if(r&&[u,d,f,p].indexOf(l)>=0&&r!==this._joinRef())return;let y=this._onMessage(l,n,r);if(n&&!y)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(l)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(v=>{var N,C,T;return((N=v.filter)===null||N===void 0?void 0:N.event)==="*"||((T=(C=v.filter)===null||C===void 0?void 0:C.event)===null||T===void 0?void 0:T.toLocaleLowerCase())===l}).map(v=>v.callback(y,r)):(s=this.bindings[l])===null||s===void 0||s.filter(v=>{var N,C,T,A,D,M;if(["broadcast","presence","postgres_changes"].includes(l))if("id"in v){const B=v.id,q=(N=v.filter)===null||N===void 0?void 0:N.event;return B&&((C=n.ids)===null||C===void 0?void 0:C.includes(B))&&(q==="*"||q?.toLocaleLowerCase()===((T=n.data)===null||T===void 0?void 0:T.type.toLocaleLowerCase()))}else{const B=(D=(A=v?.filter)===null||A===void 0?void 0:A.event)===null||D===void 0?void 0:D.toLocaleLowerCase();return B==="*"||B===((M=n?.event)===null||M===void 0?void 0:M.toLocaleLowerCase())}else return v.type.toLocaleLowerCase()===l}).map(v=>{if(typeof y=="object"&&"ids"in y){const N=y.data,{schema:C,table:T,commit_timestamp:A,type:D,errors:M}=N;y=Object.assign(Object.assign({},{schema:C,table:T,commit_timestamp:A,eventType:D,new:{},old:{},errors:M}),this._getPayloadRecords(N))}v.callback(y,r)})}_isClosed(){return this.state===Xr.closed}_isJoined(){return this.state===Xr.joined}_isJoining(){return this.state===Xr.joining}_isLeaving(){return this.state===Xr.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const a=e.toLocaleLowerCase(),s={type:a,filter:n,callback:r};return this.bindings[a]?this.bindings[a].push(s):this.bindings[a]=[s],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(a=>{var s;return!(((s=a.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===r&&Ad.isEqual(a.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}static isFilterValueEqual(e,n){return(e??void 0)===(n??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on($s.close,{},e)}_onError(e){this._on($s.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Xr.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=gw(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=gw(e.columns,e.old_record)),n}}const Dg=()=>{},Op={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},MT=[1e3,2e3,5e3,1e4],BT=1e4,IT=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class FT{constructor(e,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=dv,this.transport=null,this.heartbeatIntervalMs=Op.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Dg,this.ref=0,this.reconnectTimer=null,this.vsn=mw,this.logger=Dg,this.conn=null,this.sendBuffer=[],this.serializer=new jT,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=a=>a?(...s)=>a(...s):(...s)=>fetch(...s),!(!((r=n?.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${fv.websocket}`,this.httpEndpoint=c3(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=ST.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case ec.connecting:return tu.Connecting;case ec.open:return tu.Open;case ec.closing:return tu.Closing;default:return tu.Closed}}isConnected(){return this.connectionState()===tu.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const r=`realtime:${e}`,a=this.getChannels().find(s=>s.topic===r);if(a)return a;{const s=new Ad(`realtime:${e}`,n,this);return this.channels.push(s),s}}push(e){const{topic:n,event:r,payload:a,ref:s}=e,l=()=>{this.encode(e,u=>{var d;(d=this.conn)===null||d===void 0||d.send(u)})};this.log("push",`${n} ${r} (${s})`,a),this.isConnected()?l():this.sendBuffer.push(l)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(CT,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Op.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(f){this.log("error","error in heartbeat callback",f)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:a,payload:s,ref:l}=n,u=l?`(${l})`:"",d=s.status||"";this.log("receive",`${d} ${r} ${a} ${u}`.trim(),s),this.channels.filter(f=>f._isMember(r)).forEach(f=>f._trigger(a,s,l)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e),this.conn.readyState===ec.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===ec.open||this.conn.readyState===ec.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this._terminateWorker()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger($s.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",a=new URLSearchParams(n);return`${e}${r}${a}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([IT],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n,r=!1;if(e)n=e,r=!0;else if(this.accessToken)try{n=await this.accessToken()}catch(a){this.log("error","Error fetching access token from callback",a),n=this.accessTokenValue}else n=this.accessTokenValue;r?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(a=>{const s={access_token:n,version:NT};n&&a.updateJoinPayload(s),a.joinedOnce&&a._isJoined()&&a._push($s.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(n=>{this.log("error",`Error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(n)}catch(a){this.log("error",`error in ${e} callback`,a)}})}catch(r){this.log("error",`error triggering ${e} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new o3(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Op.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,r,a,s,l,u,d,f,p,g,y,v;switch(this.transport=(n=e?.transport)!==null&&n!==void 0?n:null,this.timeout=(r=e?.timeout)!==null&&r!==void 0?r:dv,this.heartbeatIntervalMs=(a=e?.heartbeatIntervalMs)!==null&&a!==void 0?a:Op.HEARTBEAT_INTERVAL,this.worker=(s=e?.worker)!==null&&s!==void 0?s:!1,this.accessToken=(l=e?.accessToken)!==null&&l!==void 0?l:null,this.heartbeatCallback=(u=e?.heartbeatCallback)!==null&&u!==void 0?u:Dg,this.vsn=(d=e?.vsn)!==null&&d!==void 0?d:mw,e?.params&&(this.params=e.params),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(f=e?.reconnectAfterMs)!==null&&f!==void 0?f:(N=>MT[N-1]||BT),this.vsn){case s3:this.encode=(p=e?.encode)!==null&&p!==void 0?p:((N,C)=>C(JSON.stringify(N))),this.decode=(g=e?.decode)!==null&&g!==void 0?g:((N,C)=>C(JSON.parse(N)));break;case ET:this.encode=(y=e?.encode)!==null&&y!==void 0?y:this.serializer.encode.bind(this.serializer),this.decode=(v=e?.decode)!==null&&v!==void 0?v:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e?.workerUrl}}}var sh=class extends Error{constructor(t,e){super(t),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&e.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function UT(t,e,n){const r=new URL(e,t);if(n)for(const[a,s]of Object.entries(n))s!==void 0&&r.searchParams.set(a,s);return r.toString()}async function zT(t){return!t||t.type==="none"?{}:t.type==="bearer"?{Authorization:`Bearer ${t.token}`}:t.type==="header"?{[t.name]:t.value}:t.type==="custom"?await t.getHeaders():{}}function qT(t){const e=t.fetchImpl??globalThis.fetch;return{async request({method:n,path:r,query:a,body:s,headers:l}){const u=UT(t.baseUrl,r,a),d=await zT(t.auth),f=await e(u,{method:n,headers:{...s?{"Content-Type":"application/json"}:{},...d,...l},body:s?JSON.stringify(s):void 0}),p=await f.text(),g=(f.headers.get("content-type")||"").includes("application/json"),y=g&&p?JSON.parse(p):p;if(!f.ok){const v=g?y:void 0,N=v?.error;throw new sh(N?.message??`Request failed with status ${f.status}`,{status:f.status,icebergType:N?.type,icebergCode:N?.code,details:v})}return{status:f.status,headers:f.headers,data:y}}}}function Dp(t){return t.join("")}var VT=class{constructor(t,e=""){this.client=t,this.prefix=e}async listNamespaces(t){const e=t?{parent:Dp(t.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(r=>({namespace:r}))}async createNamespace(t,e){const n={namespace:t.namespace,properties:e?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Dp(t.namespace)}`})}async loadNamespaceMetadata(t){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Dp(t.namespace)}`})).data.properties}}async namespaceExists(t){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Dp(t.namespace)}`}),!0}catch(e){if(e instanceof sh&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(t,e){try{return await this.createNamespace(t,e)}catch(n){if(n instanceof sh&&n.status===409)return;throw n}}};function ld(t){return t.join("")}var HT=class{constructor(t,e="",n){this.client=t,this.prefix=e,this.accessDelegation=n}async listTables(t){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ld(t.namespace)}/tables`})).data.identifiers}async createTable(t,e){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${ld(t.namespace)}/tables`,body:e,headers:n})).data.metadata}async updateTable(t,e){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${ld(t.namespace)}/tables/${t.name}`,body:e});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(t,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${ld(t.namespace)}/tables/${t.name}`,query:{purgeRequested:String(e?.purge??!1)}})}async loadTable(t){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ld(t.namespace)}/tables/${t.name}`,headers:e})).data.metadata}async tableExists(t){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${ld(t.namespace)}/tables/${t.name}`,headers:e}),!0}catch(n){if(n instanceof sh&&n.status===404)return!1;throw n}}async createTableIfNotExists(t,e){try{return await this.createTable(t,e)}catch(n){if(n instanceof sh&&n.status===409)return await this.loadTable({namespace:t.namespace,name:e.name});throw n}}},$T=class{constructor(t){let e="v1";t.catalogName&&(e+=`/${t.catalogName}`);const n=t.baseUrl.endsWith("/")?t.baseUrl:`${t.baseUrl}/`;this.client=qT({baseUrl:n,auth:t.auth,fetchImpl:t.fetch}),this.accessDelegation=t.accessDelegation?.join(","),this.namespaceOps=new VT(this.client,e),this.tableOps=new HT(this.client,e,this.accessDelegation)}async listNamespaces(t){return this.namespaceOps.listNamespaces(t)}async createNamespace(t,e){return this.namespaceOps.createNamespace(t,e)}async dropNamespace(t){await this.namespaceOps.dropNamespace(t)}async loadNamespaceMetadata(t){return this.namespaceOps.loadNamespaceMetadata(t)}async listTables(t){return this.tableOps.listTables(t)}async createTable(t,e){return this.tableOps.createTable(t,e)}async updateTable(t,e){return this.tableOps.updateTable(t,e)}async dropTable(t,e){await this.tableOps.dropTable(t,e)}async loadTable(t){return this.tableOps.loadTable(t)}async namespaceExists(t){return this.namespaceOps.namespaceExists(t)}async tableExists(t){return this.tableOps.tableExists(t)}async createNamespaceIfNotExists(t,e){return this.namespaceOps.createNamespaceIfNotExists(t,e)}async createTableIfNotExists(t,e){return this.tableOps.createTableIfNotExists(t,e)}},Km=class extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}};function ur(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}var GT=class extends Km{constructor(t,e,n){super(t),this.name="StorageApiError",this.status=e,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},pv=class extends Km{constructor(t,e){super(t),this.name="StorageUnknownError",this.originalError=e}};const _y=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),WT=()=>Response,mv=t=>{if(Array.isArray(t))return t.map(n=>mv(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const a=n.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));e[a]=mv(r)}),e},YT=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},KT=t=>!t||typeof t!="string"||t.length===0||t.length>100||t.trim()!==t||t.includes("/")||t.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(t);function oh(t){"@babel/helpers - typeof";return oh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oh(t)}function XT(t,e){if(oh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(oh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function JT(t){var e=XT(t,"string");return oh(e)=="symbol"?e:e+""}function QT(t,e,n){return(e=JT(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bw(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Ut(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bw(Object(n),!0).forEach(function(r){QT(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bw(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}const Pg=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},ZT=async(t,e,n)=>{t instanceof await WT()&&!n?.noResolveJson?t.json().then(r=>{const a=t.status||500,s=r?.statusCode||a+"";e(new GT(Pg(r),a,s))}).catch(r=>{e(new pv(Pg(r),r))}):e(new pv(Pg(t),t))},ej=(t,e,n,r)=>{const a={method:t,headers:e?.headers||{}};return t==="GET"||!r?a:(YT(r)?(a.headers=Ut({"Content-Type":"application/json"},e?.headers),a.body=JSON.stringify(r)):a.body=r,e?.duplex&&(a.duplex=e.duplex),Ut(Ut({},a),n))};async function Lh(t,e,n,r,a,s){return new Promise((l,u)=>{t(n,ej(e,r,a,s)).then(d=>{if(!d.ok)throw d;return r?.noResolveJson?d:d.json()}).then(d=>l(d)).catch(d=>ZT(d,u,r))})}async function lh(t,e,n,r){return Lh(t,"GET",e,n,r)}async function Hs(t,e,n,r,a){return Lh(t,"POST",e,r,a,n)}async function gv(t,e,n,r,a){return Lh(t,"PUT",e,r,a,n)}async function tj(t,e,n,r){return Lh(t,"HEAD",e,Ut(Ut({},n),{},{noResolveJson:!0}),r)}async function Sy(t,e,n,r,a){return Lh(t,"DELETE",e,r,a,n)}var nj=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e}then(t,e){return this.execute().then(t,e)}async execute(){var t=this;try{return{data:(await t.downloadFn()).body,error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(ur(e))return{data:null,error:e};throw e}}};let u3;u3=Symbol.toStringTag;var rj=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e,this[u3]="BlobDownloadBuilder",this.promise=null}asStream(){return new nj(this.downloadFn,this.shouldThrowOnError)}then(t,e){return this.getPromise().then(t,e)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var t=this;try{return{data:await(await t.downloadFn()).blob(),error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(ur(e))return{data:null,error:e};throw e}}};const ij={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},ww={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var aj=class{constructor(t,e={},n,r){this.shouldThrowOnError=!1,this.url=t,this.headers=e,this.bucketId=n,this.fetch=_y(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(t,e,n,r){var a=this;try{let s;const l=Ut(Ut({},ww),r);let u=Ut(Ut({},a.headers),t==="POST"&&{"x-upsert":String(l.upsert)});const d=l.metadata;typeof Blob<"u"&&n instanceof Blob?(s=new FormData,s.append("cacheControl",l.cacheControl),d&&s.append("metadata",a.encodeMetadata(d)),s.append("",n)):typeof FormData<"u"&&n instanceof FormData?(s=n,s.has("cacheControl")||s.append("cacheControl",l.cacheControl),d&&!s.has("metadata")&&s.append("metadata",a.encodeMetadata(d))):(s=n,u["cache-control"]=`max-age=${l.cacheControl}`,u["content-type"]=l.contentType,d&&(u["x-metadata"]=a.toBase64(a.encodeMetadata(d))),(typeof ReadableStream<"u"&&s instanceof ReadableStream||s&&typeof s=="object"&&"pipe"in s&&typeof s.pipe=="function")&&!l.duplex&&(l.duplex="half")),r?.headers&&(u=Ut(Ut({},u),r.headers));const f=a._removeEmptyFolders(e),p=a._getFinalPath(f),g=await(t=="PUT"?gv:Hs)(a.fetch,`${a.url}/object/${p}`,s,Ut({headers:u},l?.duplex?{duplex:l.duplex}:{}));return{data:{path:f,id:g.Id,fullPath:g.Key},error:null}}catch(s){if(a.shouldThrowOnError)throw s;if(ur(s))return{data:null,error:s};throw s}}async upload(t,e,n){return this.uploadOrUpdate("POST",t,e,n)}async uploadToSignedUrl(t,e,n,r){var a=this;const s=a._removeEmptyFolders(t),l=a._getFinalPath(s),u=new URL(a.url+`/object/upload/sign/${l}`);u.searchParams.set("token",e);try{let d;const f=Ut({upsert:ww.upsert},r),p=Ut(Ut({},a.headers),{"x-upsert":String(f.upsert)});return typeof Blob<"u"&&n instanceof Blob?(d=new FormData,d.append("cacheControl",f.cacheControl),d.append("",n)):typeof FormData<"u"&&n instanceof FormData?(d=n,d.append("cacheControl",f.cacheControl)):(d=n,p["cache-control"]=`max-age=${f.cacheControl}`,p["content-type"]=f.contentType),{data:{path:s,fullPath:(await gv(a.fetch,u.toString(),d,{headers:p})).Key},error:null}}catch(d){if(a.shouldThrowOnError)throw d;if(ur(d))return{data:null,error:d};throw d}}async createSignedUploadUrl(t,e){var n=this;try{let r=n._getFinalPath(t);const a=Ut({},n.headers);e?.upsert&&(a["x-upsert"]="true");const s=await Hs(n.fetch,`${n.url}/object/upload/sign/${r}`,{},{headers:a}),l=new URL(n.url+s.url),u=l.searchParams.get("token");if(!u)throw new Km("No token returned by API");return{data:{signedUrl:l.toString(),path:t,token:u},error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(ur(r))return{data:null,error:r};throw r}}async update(t,e,n){return this.uploadOrUpdate("PUT",t,e,n)}async move(t,e,n){var r=this;try{return{data:await Hs(r.fetch,`${r.url}/object/move`,{bucketId:r.bucketId,sourceKey:t,destinationKey:e,destinationBucket:n?.destinationBucket},{headers:r.headers}),error:null}}catch(a){if(r.shouldThrowOnError)throw a;if(ur(a))return{data:null,error:a};throw a}}async copy(t,e,n){var r=this;try{return{data:{path:(await Hs(r.fetch,`${r.url}/object/copy`,{bucketId:r.bucketId,sourceKey:t,destinationKey:e,destinationBucket:n?.destinationBucket},{headers:r.headers})).Key},error:null}}catch(a){if(r.shouldThrowOnError)throw a;if(ur(a))return{data:null,error:a};throw a}}async createSignedUrl(t,e,n){var r=this;try{let a=r._getFinalPath(t),s=await Hs(r.fetch,`${r.url}/object/sign/${a}`,Ut({expiresIn:e},n?.transform?{transform:n.transform}:{}),{headers:r.headers});const l=n?.download?`&download=${n.download===!0?"":n.download}`:"";return s={signedUrl:encodeURI(`${r.url}${s.signedURL}${l}`)},{data:s,error:null}}catch(a){if(r.shouldThrowOnError)throw a;if(ur(a))return{data:null,error:a};throw a}}async createSignedUrls(t,e,n){var r=this;try{const a=await Hs(r.fetch,`${r.url}/object/sign/${r.bucketId}`,{expiresIn:e,paths:t},{headers:r.headers}),s=n?.download?`&download=${n.download===!0?"":n.download}`:"";return{data:a.map(l=>Ut(Ut({},l),{},{signedUrl:l.signedURL?encodeURI(`${r.url}${l.signedURL}${s}`):null})),error:null}}catch(a){if(r.shouldThrowOnError)throw a;if(ur(a))return{data:null,error:a};throw a}}download(t,e){const n=typeof e?.transform<"u"?"render/image/authenticated":"object",r=this.transformOptsToQueryString(e?.transform||{}),a=r?`?${r}`:"",s=this._getFinalPath(t),l=()=>lh(this.fetch,`${this.url}/${n}/${s}${a}`,{headers:this.headers,noResolveJson:!0});return new rj(l,this.shouldThrowOnError)}async info(t){var e=this;const n=e._getFinalPath(t);try{return{data:mv(await lh(e.fetch,`${e.url}/object/info/${n}`,{headers:e.headers})),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(ur(r))return{data:null,error:r};throw r}}async exists(t){var e=this;const n=e._getFinalPath(t);try{return await tj(e.fetch,`${e.url}/object/${n}`,{headers:e.headers}),{data:!0,error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(ur(r)&&r instanceof pv){const a=r.originalError;if([400,404].includes(a?.status))return{data:!1,error:r}}throw r}}getPublicUrl(t,e){const n=this._getFinalPath(t),r=[],a=e?.download?`download=${e.download===!0?"":e.download}`:"";a!==""&&r.push(a);const s=typeof e?.transform<"u"?"render/image":"object",l=this.transformOptsToQueryString(e?.transform||{});l!==""&&r.push(l);let u=r.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${s}/public/${n}${u}`)}}}async remove(t){var e=this;try{return{data:await Sy(e.fetch,`${e.url}/object/${e.bucketId}`,{prefixes:t},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(ur(n))return{data:null,error:n};throw n}}async list(t,e,n){var r=this;try{const a=Ut(Ut(Ut({},ij),e),{},{prefix:t||""});return{data:await Hs(r.fetch,`${r.url}/object/list/${r.bucketId}`,a,{headers:r.headers},n),error:null}}catch(a){if(r.shouldThrowOnError)throw a;if(ur(a))return{data:null,error:a};throw a}}async listV2(t,e){var n=this;try{const r=Ut({},t);return{data:await Hs(n.fetch,`${n.url}/object/list-v2/${n.bucketId}`,r,{headers:n.headers},e),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(ur(r))return{data:null,error:r};throw r}}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const e=[];return t.width&&e.push(`width=${t.width}`),t.height&&e.push(`height=${t.height}`),t.resize&&e.push(`resize=${t.resize}`),t.format&&e.push(`format=${t.format}`),t.quality&&e.push(`quality=${t.quality}`),e.join("&")}};const d3="2.89.0",f3={"X-Client-Info":`storage-js/${d3}`};var sj=class{constructor(t,e={},n,r){this.shouldThrowOnError=!1;const a=new URL(t);r?.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href.replace(/\/$/,""),this.headers=Ut(Ut({},f3),e),this.fetch=_y(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(t){var e=this;try{const n=e.listBucketOptionsToQueryString(t);return{data:await lh(e.fetch,`${e.url}/bucket${n}`,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(ur(n))return{data:null,error:n};throw n}}async getBucket(t){var e=this;try{return{data:await lh(e.fetch,`${e.url}/bucket/${t}`,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(ur(n))return{data:null,error:n};throw n}}async createBucket(t,e={public:!1}){var n=this;try{return{data:await Hs(n.fetch,`${n.url}/bucket`,{id:t,name:t,type:e.type,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(ur(r))return{data:null,error:r};throw r}}async updateBucket(t,e){var n=this;try{return{data:await gv(n.fetch,`${n.url}/bucket/${t}`,{id:t,name:t,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(ur(r))return{data:null,error:r};throw r}}async emptyBucket(t){var e=this;try{return{data:await Hs(e.fetch,`${e.url}/bucket/${t}/empty`,{},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(ur(n))return{data:null,error:n};throw n}}async deleteBucket(t){var e=this;try{return{data:await Sy(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(ur(n))return{data:null,error:n};throw n}}listBucketOptionsToQueryString(t){const e={};return t&&("limit"in t&&(e.limit=String(t.limit)),"offset"in t&&(e.offset=String(t.offset)),t.search&&(e.search=t.search),t.sortColumn&&(e.sortColumn=t.sortColumn),t.sortOrder&&(e.sortOrder=t.sortOrder)),Object.keys(e).length>0?"?"+new URLSearchParams(e).toString():""}},oj=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Ut(Ut({},f3),e),this.fetch=_y(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(t){var e=this;try{return{data:await Hs(e.fetch,`${e.url}/bucket`,{name:t},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(ur(n))return{data:null,error:n};throw n}}async listBuckets(t){var e=this;try{const n=new URLSearchParams;t?.limit!==void 0&&n.set("limit",t.limit.toString()),t?.offset!==void 0&&n.set("offset",t.offset.toString()),t?.sortColumn&&n.set("sortColumn",t.sortColumn),t?.sortOrder&&n.set("sortOrder",t.sortOrder),t?.search&&n.set("search",t.search);const r=n.toString(),a=r?`${e.url}/bucket?${r}`:`${e.url}/bucket`;return{data:await lh(e.fetch,a,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(ur(n))return{data:null,error:n};throw n}}async deleteBucket(t){var e=this;try{return{data:await Sy(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(ur(n))return{data:null,error:n};throw n}}from(t){var e=this;if(!KT(t))throw new Km("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const n=new $T({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:async()=>e.headers},fetch:this.fetch}),r=this.shouldThrowOnError;return new Proxy(n,{get(a,s){const l=a[s];return typeof l!="function"?l:async(...u)=>{try{return{data:await l.apply(a,u),error:null}}catch(d){if(r)throw d;return{data:null,error:d}}}}})}};const Ay={"X-Client-Info":`storage-js/${d3}`,"Content-Type":"application/json"};var h3=class extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function La(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}var Mg=class extends h3{constructor(t,e,n){super(t),this.name="StorageVectorsApiError",this.status=e,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},lj=class extends h3{constructor(t,e){super(t),this.name="StorageVectorsUnknownError",this.originalError=e}};const Ny=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),cj=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},xw=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),uj=async(t,e,n)=>{if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!n?.noResolveJson){const r=t.status||500,a=t;if(typeof a.json=="function")a.json().then(s=>{const l=s?.statusCode||s?.code||r+"";e(new Mg(xw(s),r,l))}).catch(()=>{const s=r+"";e(new Mg(a.statusText||`HTTP ${r} error`,r,s))});else{const s=r+"";e(new Mg(a.statusText||`HTTP ${r} error`,r,s))}}else e(new lj(xw(t),t))},dj=(t,e,n,r)=>{const a={method:t,headers:e?.headers||{}};return r?(cj(r)?(a.headers=Ut({"Content-Type":"application/json"},e?.headers),a.body=JSON.stringify(r)):a.body=r,Ut(Ut({},a),n)):a};async function fj(t,e,n,r,a,s){return new Promise((l,u)=>{t(n,dj(e,r,a,s)).then(d=>{if(!d.ok)throw d;if(r?.noResolveJson)return d;const f=d.headers.get("content-type");return!f||!f.includes("application/json")?{}:d.json()}).then(d=>l(d)).catch(d=>uj(d,u,r))})}async function Ra(t,e,n,r,a){return fj(t,"POST",e,r,a,n)}var hj=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Ut(Ut({},Ay),e),this.fetch=Ny(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(t){var e=this;try{return{data:await Ra(e.fetch,`${e.url}/CreateIndex`,t,{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(La(n))return{data:null,error:n};throw n}}async getIndex(t,e){var n=this;try{return{data:await Ra(n.fetch,`${n.url}/GetIndex`,{vectorBucketName:t,indexName:e},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(La(r))return{data:null,error:r};throw r}}async listIndexes(t){var e=this;try{return{data:await Ra(e.fetch,`${e.url}/ListIndexes`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(La(n))return{data:null,error:n};throw n}}async deleteIndex(t,e){var n=this;try{return{data:await Ra(n.fetch,`${n.url}/DeleteIndex`,{vectorBucketName:t,indexName:e},{headers:n.headers})||{},error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(La(r))return{data:null,error:r};throw r}}},pj=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Ut(Ut({},Ay),e),this.fetch=Ny(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(t){var e=this;try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await Ra(e.fetch,`${e.url}/PutVectors`,t,{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(La(n))return{data:null,error:n};throw n}}async getVectors(t){var e=this;try{return{data:await Ra(e.fetch,`${e.url}/GetVectors`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(La(n))return{data:null,error:n};throw n}}async listVectors(t){var e=this;try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:await Ra(e.fetch,`${e.url}/ListVectors`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(La(n))return{data:null,error:n};throw n}}async queryVectors(t){var e=this;try{return{data:await Ra(e.fetch,`${e.url}/QueryVectors`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(La(n))return{data:null,error:n};throw n}}async deleteVectors(t){var e=this;try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await Ra(e.fetch,`${e.url}/DeleteVectors`,t,{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(La(n))return{data:null,error:n};throw n}}},mj=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Ut(Ut({},Ay),e),this.fetch=Ny(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(t){var e=this;try{return{data:await Ra(e.fetch,`${e.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(La(n))return{data:null,error:n};throw n}}async getBucket(t){var e=this;try{return{data:await Ra(e.fetch,`${e.url}/GetVectorBucket`,{vectorBucketName:t},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(La(n))return{data:null,error:n};throw n}}async listBuckets(t={}){var e=this;try{return{data:await Ra(e.fetch,`${e.url}/ListVectorBuckets`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(La(n))return{data:null,error:n};throw n}}async deleteBucket(t){var e=this;try{return{data:await Ra(e.fetch,`${e.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(La(n))return{data:null,error:n};throw n}}},gj=class extends mj{constructor(t,e={}){super(t,e.headers||{},e.fetch)}from(t){return new vj(this.url,this.headers,t,this.fetch)}async createBucket(t){var e=()=>super.createBucket,n=this;return e().call(n,t)}async getBucket(t){var e=()=>super.getBucket,n=this;return e().call(n,t)}async listBuckets(t={}){var e=()=>super.listBuckets,n=this;return e().call(n,t)}async deleteBucket(t){var e=()=>super.deleteBucket,n=this;return e().call(n,t)}},vj=class extends hj{constructor(t,e,n,r){super(t,e,r),this.vectorBucketName=n}async createIndex(t){var e=()=>super.createIndex,n=this;return e().call(n,Ut(Ut({},t),{},{vectorBucketName:n.vectorBucketName}))}async listIndexes(t={}){var e=()=>super.listIndexes,n=this;return e().call(n,Ut(Ut({},t),{},{vectorBucketName:n.vectorBucketName}))}async getIndex(t){var e=()=>super.getIndex,n=this;return e().call(n,n.vectorBucketName,t)}async deleteIndex(t){var e=()=>super.deleteIndex,n=this;return e().call(n,n.vectorBucketName,t)}index(t){return new yj(this.url,this.headers,this.vectorBucketName,t,this.fetch)}},yj=class extends pj{constructor(t,e,n,r,a){super(t,e,a),this.vectorBucketName=n,this.indexName=r}async putVectors(t){var e=()=>super.putVectors,n=this;return e().call(n,Ut(Ut({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async getVectors(t){var e=()=>super.getVectors,n=this;return e().call(n,Ut(Ut({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async listVectors(t={}){var e=()=>super.listVectors,n=this;return e().call(n,Ut(Ut({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async queryVectors(t){var e=()=>super.queryVectors,n=this;return e().call(n,Ut(Ut({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async deleteVectors(t){var e=()=>super.deleteVectors,n=this;return e().call(n,Ut(Ut({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}},bj=class extends sj{constructor(t,e={},n,r){super(t,e,n,r)}from(t){return new aj(this.url,this.headers,t,this.fetch)}get vectors(){return new gj(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new oj(this.url+"/iceberg",this.headers,this.fetch)}};const p3="2.89.0",wd=30*1e3,vv=3,Bg=vv*wd,wj="http://localhost:9999",xj="supabase.auth.token",_j={"X-Client-Info":`gotrue-js/${p3}`},yv="X-Supabase-Api-Version",m3={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Sj=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Aj=600*1e3;class ch extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function At(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class Nj extends ch{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function Ej(t){return At(t)&&t.name==="AuthApiError"}class nu extends ch{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class pl extends ch{constructor(e,n,r,a){super(e,r,a),this.name=n,this.status=r}}class ka extends pl{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Cj(t){return At(t)&&t.name==="AuthSessionMissingError"}class cd extends pl{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Pp extends pl{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Mp extends pl{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Tj(t){return At(t)&&t.name==="AuthImplicitGrantRedirectError"}class _w extends pl{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class jj extends pl{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class bv extends pl{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function Ig(t){return At(t)&&t.name==="AuthRetryableFetchError"}class Sw extends pl{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class wv extends pl{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const wm="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Aw=` 	
\r=`.split(""),kj=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Aw.length;e+=1)t[Aw[e].charCodeAt(0)]=-2;for(let e=0;e<wm.length;e+=1)t[wm[e].charCodeAt(0)]=e;return t})();function Nw(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(wm[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(wm[r]),e.queuedBits-=6}}function g3(t,e,n){const r=kj[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function Ew(t){const e=[],n=l=>{e.push(String.fromCodePoint(l))},r={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},s=l=>{Oj(l,r,n)};for(let l=0;l<t.length;l+=1)g3(t.charCodeAt(l),a,s);return e.join("")}function Lj(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function Rj(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){const a=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|a)+65536,n+=1}Lj(r,e)}}function Oj(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if((t>>7-r&1)===0){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function Ld(t){const e=[],n={queue:0,queuedBits:0},r=a=>{e.push(a)};for(let a=0;a<t.length;a+=1)g3(t.charCodeAt(a),n,r);return new Uint8Array(e)}function Dj(t){const e=[];return Rj(t,n=>e.push(n)),new Uint8Array(e)}function iu(t){const e=[],n={queue:0,queuedBits:0},r=a=>{e.push(a)};return t.forEach(a=>Nw(a,n,r)),Nw(null,n,r),e.join("")}function Pj(t){return Math.round(Date.now()/1e3)+t}function Mj(){return Symbol("auth-callback")}const yi=()=>typeof window<"u"&&typeof document<"u",$c={tested:!1,writable:!1},v3=()=>{if(!yi())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if($c.tested)return $c.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),$c.tested=!0,$c.writable=!0}catch{$c.tested=!0,$c.writable=!1}return $c.writable};function Bj(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((a,s)=>{e[s]=a})}catch{}return n.searchParams.forEach((r,a)=>{e[a]=r}),e}const y3=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),Ij=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",xd=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},Gc=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},vi=async(t,e)=>{await t.removeItem(e)};class Xm{constructor(){this.promise=new Xm.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}Xm.promiseConstructor=Promise;function Fg(t){const e=t.split(".");if(e.length!==3)throw new wv("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!Sj.test(e[r]))throw new wv("JWT not in base64url format");return{header:JSON.parse(Ew(e[0])),payload:JSON.parse(Ew(e[1])),signature:Ld(e[2]),raw:{header:e[0],payload:e[1]}}}async function Fj(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function Uj(t,e){return new Promise((r,a)=>{(async()=>{for(let s=0;s<1/0;s++)try{const l=await t(s);if(!e(s,null,l)){r(l);return}}catch(l){if(!e(s,l)){a(l);return}}})()})}function zj(t){return("0"+t.toString(16)).substr(-2)}function qj(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let a="";for(let s=0;s<56;s++)a+=n.charAt(Math.floor(Math.random()*r));return a}return crypto.getRandomValues(e),Array.from(e,zj).join("")}async function Vj(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),a=new Uint8Array(r);return Array.from(a).map(s=>String.fromCharCode(s)).join("")}async function Hj(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await Vj(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ud(t,e,n=!1){const r=qj();let a=r;n&&(a+="/PASSWORD_RECOVERY"),await xd(t,`${e}-code-verifier`,a);const s=await Hj(r);return[s,r===s?"plain":"s256"]}const $j=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Gj(t){const e=t.headers.get(yv);if(!e||!e.match($j))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function Wj(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function Yj(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Kj=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function dd(t){if(!Kj.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Ug(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Xj(t,e){return new Proxy(t,{get:(n,r,a)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const s=r.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)"||s==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,r,a)}return!e.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(n,r,a)}})}function Cw(t){return JSON.parse(JSON.stringify(t))}const Kc=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Jj=[502,503,504];async function Tw(t){var e;if(!Ij(t))throw new bv(Kc(t),0);if(Jj.includes(t.status))throw new bv(Kc(t),t.status);let n;try{n=await t.json()}catch(s){throw new nu(Kc(s),s)}let r;const a=Gj(t);if(a&&a.getTime()>=m3["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new Sw(Kc(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new ka}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((s,l)=>s&&typeof l=="string",!0))throw new Sw(Kc(n),t.status,n.weak_password.reasons);throw new Nj(Kc(n),t.status||500,r)}const Qj=(t,e,n,r)=>{const a={method:t,headers:e?.headers||{}};return t==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),a.body=JSON.stringify(r),Object.assign(Object.assign({},a),n))};async function Ft(t,e,n,r){var a;const s=Object.assign({},r?.headers);s[yv]||(s[yv]=m3["2024-01-01"].name),r?.jwt&&(s.Authorization=`Bearer ${r.jwt}`);const l=(a=r?.query)!==null&&a!==void 0?a:{};r?.redirectTo&&(l.redirect_to=r.redirectTo);const u=Object.keys(l).length?"?"+new URLSearchParams(l).toString():"",d=await Zj(t,e,n+u,{headers:s,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(d):{data:Object.assign({},d),error:null}}async function Zj(t,e,n,r,a,s){const l=Qj(e,r,a,s);let u;try{u=await t(n,Object.assign({},l))}catch(d){throw console.error(d),new bv(Kc(d),0)}if(u.ok||await Tw(u),r?.noResolveJson)return u;try{return await u.json()}catch(d){await Tw(d)}}function qs(t){var e;let n=null;nk(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=Pj(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function jw(t){const e=qs(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function nc(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function ek(t){return{data:t,error:null}}function tk(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:a,verification_type:s}=t,l=Ym(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),u={action_link:e,email_otp:n,hashed_token:r,redirect_to:a,verification_type:s},d=Object.assign({},l);return{data:{properties:u,user:d},error:null}}function kw(t){return t}function nk(t){return t.access_token&&t.refresh_token&&t.expires_in}const zg=["global","local","others"];class rk{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=y3(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,n=zg[0]){if(zg.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${zg.join(", ")}`);try{return await Ft(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(At(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await Ft(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:nc})}catch(r){if(At(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=Ym(e,["options"]),a=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(a.new_email=r?.newEmail,delete a.newEmail),await Ft(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:tk,redirectTo:n?.redirectTo})}catch(n){if(At(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await Ft(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:nc})}catch(n){if(At(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,a,s,l,u,d;try{const f={nextPage:null,lastPage:0,total:0},p=await Ft(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e?.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(s=(a=e?.perPage)===null||a===void 0?void 0:a.toString())!==null&&s!==void 0?s:""},xform:kw});if(p.error)throw p.error;const g=await p.json(),y=(l=p.headers.get("x-total-count"))!==null&&l!==void 0?l:0,v=(d=(u=p.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&d!==void 0?d:[];return v.length>0&&(v.forEach(N=>{const C=parseInt(N.split(";")[0].split("=")[1].substring(0,1)),T=JSON.parse(N.split(";")[1].split("=")[1]);f[`${T}Page`]=C}),f.total=parseInt(y)),{data:Object.assign(Object.assign({},g),f),error:null}}catch(f){if(At(f))return{data:{users:[]},error:f};throw f}}async getUserById(e){dd(e);try{return await Ft(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:nc})}catch(n){if(At(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){dd(e);try{return await Ft(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:nc})}catch(r){if(At(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){dd(e);try{return await Ft(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:nc})}catch(r){if(At(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){dd(e.userId);try{const{data:n,error:r}=await Ft(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:n,error:r}}catch(n){if(At(n))return{data:null,error:n};throw n}}async _deleteFactor(e){dd(e.userId),dd(e.id);try{return{data:await Ft(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(At(n))return{data:null,error:n};throw n}}async _listOAuthClients(e){var n,r,a,s,l,u,d;try{const f={nextPage:null,lastPage:0,total:0},p=await Ft(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e?.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(s=(a=e?.perPage)===null||a===void 0?void 0:a.toString())!==null&&s!==void 0?s:""},xform:kw});if(p.error)throw p.error;const g=await p.json(),y=(l=p.headers.get("x-total-count"))!==null&&l!==void 0?l:0,v=(d=(u=p.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&d!==void 0?d:[];return v.length>0&&(v.forEach(N=>{const C=parseInt(N.split(";")[0].split("=")[1].substring(0,1)),T=JSON.parse(N.split(";")[1].split("=")[1]);f[`${T}Page`]=C}),f.total=parseInt(y)),{data:Object.assign(Object.assign({},g),f),error:null}}catch(f){if(At(f))return{data:{clients:[]},error:f};throw f}}async _createOAuthClient(e){try{return await Ft(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(At(n))return{data:null,error:n};throw n}}async _getOAuthClient(e){try{return await Ft(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(At(n))return{data:null,error:n};throw n}}async _updateOAuthClient(e,n){try{return await Ft(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:n,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(At(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(e){try{return await Ft(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(At(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(e){try{return await Ft(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(At(n))return{data:null,error:n};throw n}}}function Lw(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}const fd={debug:!!(globalThis&&v3()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class b3 extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class ik extends b3{}async function ak(t,e,n){fd.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),fd.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async a=>{if(a){fd.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,a.name);try{return await n()}finally{fd.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,a.name)}}else{if(e===0)throw fd.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new ik(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(fd.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function sk(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function w3(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function ok(t){return parseInt(t,16)}function lk(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,r=>r.toString(16).padStart(2,"0")).join("")}function ck(t){var e;const{chainId:n,domain:r,expirationTime:a,issuedAt:s=new Date,nonce:l,notBefore:u,requestId:d,resources:f,scheme:p,uri:g,version:y}=t;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(l&&l.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${l}`);if(!g)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(y!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${y}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const v=w3(t.address),N=p?`${p}://${r}`:r,C=t.statement?`${t.statement}
`:"",T=`${N} wants you to sign in with your Ethereum account:
${v}

${C}`;let A=`URI: ${g}
Version: ${y}
Chain ID: ${n}${l?`
Nonce: ${l}`:""}
Issued At: ${s.toISOString()}`;if(a&&(A+=`
Expiration Time: ${a.toISOString()}`),u&&(A+=`
Not Before: ${u.toISOString()}`),d&&(A+=`
Request ID: ${d}`),f){let D=`
Resources:`;for(const M of f){if(!M||typeof M!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${M}`);D+=`
- ${M}`}A+=D}return`${T}
${A}`}class Fr extends Error{constructor({message:e,code:n,cause:r,name:a}){var s;super(e,{cause:r}),this.__isWebAuthnError=!0,this.name=(s=a??(r instanceof Error?r.name:void 0))!==null&&s!==void 0?s:"Unknown Error",this.code=n}}class xm extends Fr{constructor(e,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:e}),this.name="WebAuthnUnknownError",this.originalError=n}}function uk({error:t,options:e}){var n,r,a;const{publicKey:s}=e;if(!s)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Fr({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((n=s.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new Fr({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((r=s.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new Fr({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((a=s.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new Fr({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new Fr({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new Fr({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return s.pubKeyCredParams.filter(u=>u.type==="public-key").length===0?new Fr({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new Fr({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const l=window.location.hostname;if(x3(l)){if(s.rp.id!==l)return new Fr({message:`The RP ID "${s.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Fr({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(s.user.id.byteLength<1||s.user.id.byteLength>64)return new Fr({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new Fr({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Fr({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function dk({error:t,options:e}){const{publicKey:n}=e;if(!n)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Fr({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new Fr({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const r=window.location.hostname;if(x3(r)){if(n.rpId!==r)return new Fr({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Fr({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new Fr({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Fr({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class fk{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const hk=new fk;function pk(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:n,excludeCredentials:r}=t,a=Ym(t,["challenge","user","excludeCredentials"]),s=Ld(e).buffer,l=Object.assign(Object.assign({},n),{id:Ld(n.id).buffer}),u=Object.assign(Object.assign({},a),{challenge:s,user:l});if(r&&r.length>0){u.excludeCredentials=new Array(r.length);for(let d=0;d<r.length;d++){const f=r[d];u.excludeCredentials[d]=Object.assign(Object.assign({},f),{id:Ld(f.id).buffer,type:f.type||"public-key",transports:f.transports})}}return u}function mk(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:n}=t,r=Ym(t,["challenge","allowCredentials"]),a=Ld(e).buffer,s=Object.assign(Object.assign({},r),{challenge:a});if(n&&n.length>0){s.allowCredentials=new Array(n.length);for(let l=0;l<n.length;l++){const u=n[l];s.allowCredentials[l]=Object.assign(Object.assign({},u),{id:Ld(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return s}function gk(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t;return{id:t.id,rawId:t.id,response:{attestationObject:iu(new Uint8Array(t.response.attestationObject)),clientDataJSON:iu(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function vk(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t,r=t.getClientExtensionResults(),a=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:iu(new Uint8Array(a.authenticatorData)),clientDataJSON:iu(new Uint8Array(a.clientDataJSON)),signature:iu(new Uint8Array(a.signature)),userHandle:a.userHandle?iu(new Uint8Array(a.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function x3(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function Rw(){var t,e;return!!(yi()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.get)=="function")}async function yk(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new xm("Browser returned unexpected credential type",e)}:{data:null,error:new xm("Empty credential response",e)}}catch(e){return{data:null,error:uk({error:e,options:t})}}}async function bk(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new xm("Browser returned unexpected credential type",e)}:{data:null,error:new xm("Empty credential response",e)}}catch(e){return{data:null,error:dk({error:e,options:t})}}}const wk={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},xk={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function _m(...t){const e=a=>a!==null&&typeof a=="object"&&!Array.isArray(a),n=a=>a instanceof ArrayBuffer||ArrayBuffer.isView(a),r={};for(const a of t)if(a)for(const s in a){const l=a[s];if(l!==void 0)if(Array.isArray(l))r[s]=l;else if(n(l))r[s]=l;else if(e(l)){const u=r[s];e(u)?r[s]=_m(u,l):r[s]=_m(l)}else r[s]=l}return r}function _k(t,e){return _m(wk,t,e||{})}function Sk(t,e){return _m(xk,t,e||{})}class Ak{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:n,friendlyName:r,signal:a},s){try{const{data:l,error:u}=await this.client.mfa.challenge({factorId:e,webauthn:n});if(!l)return{data:null,error:u};const d=a??hk.createNewAbortSignal();if(l.webauthn.type==="create"){const{user:f}=l.webauthn.credential_options.publicKey;f.name||(f.name=`${f.id}:${r}`),f.displayName||(f.displayName=f.name)}switch(l.webauthn.type){case"create":{const f=_k(l.webauthn.credential_options.publicKey,s?.create),{data:p,error:g}=await yk({publicKey:f,signal:d});return p?{data:{factorId:e,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:p}},error:null}:{data:null,error:g}}case"request":{const f=Sk(l.webauthn.credential_options.publicKey,s?.request),{data:p,error:g}=await bk(Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:f,signal:d}));return p?{data:{factorId:e,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:p}},error:null}:{data:null,error:g}}}}catch(l){return At(l)?{data:null,error:l}:{data:null,error:new nu("Unexpected error in challenge",l)}}}async _verify({challengeId:e,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:e,webauthn:r})}async _authenticate({factorId:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},s){if(!n)return{data:null,error:new ch("rpId is required for WebAuthn authentication")};try{if(!Rw())return{data:null,error:new nu("Browser does not support WebAuthn",null)};const{data:l,error:u}=await this.challenge({factorId:e,webauthn:{rpId:n,rpOrigins:r},signal:a},{request:s});if(!l)return{data:null,error:u};const{webauthn:d}=l;return this._verify({factorId:e,challengeId:l.challengeId,webauthn:{type:d.type,rpId:n,rpOrigins:r,credential_response:d.credential_response}})}catch(l){return At(l)?{data:null,error:l}:{data:null,error:new nu("Unexpected error in authenticate",l)}}}async _register({friendlyName:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},s){if(!n)return{data:null,error:new ch("rpId is required for WebAuthn registration")};try{if(!Rw())return{data:null,error:new nu("Browser does not support WebAuthn",null)};const{data:l,error:u}=await this._enroll({friendlyName:e});if(!l)return await this.client.mfa.listFactors().then(p=>{var g;return(g=p.data)===null||g===void 0?void 0:g.all.find(y=>y.factor_type==="webauthn"&&y.friendly_name===e&&y.status!=="unverified")}).then(p=>p?this.client.mfa.unenroll({factorId:p?.id}):void 0),{data:null,error:u};const{data:d,error:f}=await this._challenge({factorId:l.id,friendlyName:l.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:a},{create:s});return d?this._verify({factorId:l.id,challengeId:d.challengeId,webauthn:{rpId:n,rpOrigins:r,type:d.webauthn.type,credential_response:d.webauthn.credential_response}}):{data:null,error:f}}catch(l){return At(l)?{data:null,error:l}:{data:null,error:new nu("Unexpected error in register",l)}}}}sk();const Nk={url:wj,storageKey:xj,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:_j,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function Ow(t,e,n){return await n()}const hd={};class uh{get jwks(){var e,n;return(n=(e=hd[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){hd[this.storageKey]=Object.assign(Object.assign({},hd[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=hd[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){hd[this.storageKey]=Object.assign(Object.assign({},hd[this.storageKey]),{cachedAt:e})}constructor(e){var n,r,a;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const s=Object.assign(Object.assign({},Nk),e);if(this.storageKey=s.storageKey,this.instanceID=(n=uh.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,uh.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.instanceID>0&&yi()){const l=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(l),this.logDebugMessages&&console.trace(l)}if(this.persistSession=s.persistSession,this.autoRefreshToken=s.autoRefreshToken,this.admin=new rk({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=y3(s.fetch),this.lock=s.lock||Ow,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,this.throwOnError=s.throwOnError,s.lock?this.lock=s.lock:this.persistSession&&yi()&&(!((r=globalThis?.navigator)===null||r===void 0)&&r.locks)?this.lock=ak:this.lock=Ow,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Ak(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:v3()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Lw(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=Lw(this.memoryStorage)),yi()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(l){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",l)}(a=this.broadcastChannel)===null||a===void 0||a.addEventListener("message",async l=>{this._debug("received broadcast notification from other tab or client",l),await this._notifyAllSubscribers(l.data.event,l.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${p3}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let n={},r="none";if(yi()&&(n=Bj(window.location.href),this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce")),yi()&&this.detectSessionInUrl&&r!=="none"){const{data:a,error:s}=await this._getSessionFromURL(n,r);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),Tj(s)){const d=(e=s.details)===null||e===void 0?void 0:e.code;if(d==="identity_already_exists"||d==="identity_not_found"||d==="single_identity_not_deletable")return{error:s}}return await this._removeSession(),{error:s}}const{session:l,redirectType:u}=a;return this._debug("#_initialize()","detected session in URL",l,"redirect type",u),await this._saveSession(l),setTimeout(async()=>{u==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",l):await this._notifyAllSubscribers("SIGNED_IN",l)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return At(n)?this._returnResult({error:n}):this._returnResult({error:new nu("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,a;try{const s=await Ft(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e?.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(a=e?.options)===null||a===void 0?void 0:a.captchaToken}},xform:qs}),{data:l,error:u}=s;if(u||!l)return this._returnResult({data:{user:null,session:null},error:u});const d=l.session,f=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",d)),this._returnResult({data:{user:f,session:d},error:null})}catch(s){if(At(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signUp(e){var n,r,a;try{let s;if("email"in e){const{email:p,password:g,options:y}=e;let v=null,N=null;this.flowType==="pkce"&&([v,N]=await ud(this.storage,this.storageKey)),s=await Ft(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:y?.emailRedirectTo,body:{email:p,password:g,data:(n=y?.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:y?.captchaToken},code_challenge:v,code_challenge_method:N},xform:qs})}else if("phone"in e){const{phone:p,password:g,options:y}=e;s=await Ft(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:p,password:g,data:(r=y?.data)!==null&&r!==void 0?r:{},channel:(a=y?.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:y?.captchaToken}},xform:qs})}else throw new Pp("You must provide either an email or phone number and a password");const{data:l,error:u}=s;if(u||!l)return await vi(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:u});const d=l.session,f=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",d)),this._returnResult({data:{user:f,session:d},error:null})}catch(s){if(await vi(this.storage,`${this.storageKey}-code-verifier`),At(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithPassword(e){try{let n;if("email"in e){const{email:s,password:l,options:u}=e;n=await Ft(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:l,gotrue_meta_security:{captcha_token:u?.captchaToken}},xform:jw})}else if("phone"in e){const{phone:s,password:l,options:u}=e;n=await Ft(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:l,gotrue_meta_security:{captcha_token:u?.captchaToken}},xform:jw})}else throw new Pp("You must provide either an email or phone number and a password");const{data:r,error:a}=n;if(a)return this._returnResult({data:{user:null,session:null},error:a});if(!r||!r.session||!r.user){const s=new cd;return this._returnResult({data:{user:null,session:null},error:s})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:a})}catch(n){if(At(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(e){var n,r,a,s;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(a=e.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(s=e.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;switch(n){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(e){var n,r,a,s,l,u,d,f,p,g,y;let v,N;if("message"in e)v=e.message,N=e.signature;else{const{chain:C,wallet:T,statement:A,options:D}=e;let M;if(yi())if(typeof T=="object")M=T;else{const L=window;if("ethereum"in L&&typeof L.ethereum=="object"&&"request"in L.ethereum&&typeof L.ethereum.request=="function")M=L.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof T!="object"||!D?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");M=T}const B=new URL((n=D?.url)!==null&&n!==void 0?n:window.location.href),q=await M.request({method:"eth_requestAccounts"}).then(L=>L).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!q||q.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const V=w3(q[0]);let W=(r=D?.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!W){const L=await M.request({method:"eth_chainId"});W=ok(L)}const R={domain:B.host,address:V,statement:A,uri:B.href,version:"1",chainId:W,nonce:(a=D?.signInWithEthereum)===null||a===void 0?void 0:a.nonce,issuedAt:(l=(s=D?.signInWithEthereum)===null||s===void 0?void 0:s.issuedAt)!==null&&l!==void 0?l:new Date,expirationTime:(u=D?.signInWithEthereum)===null||u===void 0?void 0:u.expirationTime,notBefore:(d=D?.signInWithEthereum)===null||d===void 0?void 0:d.notBefore,requestId:(f=D?.signInWithEthereum)===null||f===void 0?void 0:f.requestId,resources:(p=D?.signInWithEthereum)===null||p===void 0?void 0:p.resources};v=ck(R),N=await M.request({method:"personal_sign",params:[lk(v),V]})}try{const{data:C,error:T}=await Ft(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:v,signature:N},!((g=e.options)===null||g===void 0)&&g.captchaToken?{gotrue_meta_security:{captcha_token:(y=e.options)===null||y===void 0?void 0:y.captchaToken}}:null),xform:qs});if(T)throw T;if(!C||!C.session||!C.user){const A=new cd;return this._returnResult({data:{user:null,session:null},error:A})}return C.session&&(await this._saveSession(C.session),await this._notifyAllSubscribers("SIGNED_IN",C.session)),this._returnResult({data:Object.assign({},C),error:T})}catch(C){if(At(C))return this._returnResult({data:{user:null,session:null},error:C});throw C}}async signInWithSolana(e){var n,r,a,s,l,u,d,f,p,g,y,v;let N,C;if("message"in e)N=e.message,C=e.signature;else{const{chain:T,wallet:A,statement:D,options:M}=e;let B;if(yi())if(typeof A=="object")B=A;else{const V=window;if("solana"in V&&typeof V.solana=="object"&&("signIn"in V.solana&&typeof V.solana.signIn=="function"||"signMessage"in V.solana&&typeof V.solana.signMessage=="function"))B=V.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof A!="object"||!M?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");B=A}const q=new URL((n=M?.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in B&&B.signIn){const V=await B.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},M?.signInWithSolana),{version:"1",domain:q.host,uri:q.href}),D?{statement:D}:null));let W;if(Array.isArray(V)&&V[0]&&typeof V[0]=="object")W=V[0];else if(V&&typeof V=="object"&&"signedMessage"in V&&"signature"in V)W=V;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in W&&"signature"in W&&(typeof W.signedMessage=="string"||W.signedMessage instanceof Uint8Array)&&W.signature instanceof Uint8Array)N=typeof W.signedMessage=="string"?W.signedMessage:new TextDecoder().decode(W.signedMessage),C=W.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in B)||typeof B.signMessage!="function"||!("publicKey"in B)||typeof B!="object"||!B.publicKey||!("toBase58"in B.publicKey)||typeof B.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");N=[`${q.host} wants you to sign in with your Solana account:`,B.publicKey.toBase58(),...D?["",D,""]:[""],"Version: 1",`URI: ${q.href}`,`Issued At: ${(a=(r=M?.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((s=M?.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${M.signInWithSolana.notBefore}`]:[],...!((l=M?.signInWithSolana)===null||l===void 0)&&l.expirationTime?[`Expiration Time: ${M.signInWithSolana.expirationTime}`]:[],...!((u=M?.signInWithSolana)===null||u===void 0)&&u.chainId?[`Chain ID: ${M.signInWithSolana.chainId}`]:[],...!((d=M?.signInWithSolana)===null||d===void 0)&&d.nonce?[`Nonce: ${M.signInWithSolana.nonce}`]:[],...!((f=M?.signInWithSolana)===null||f===void 0)&&f.requestId?[`Request ID: ${M.signInWithSolana.requestId}`]:[],...!((g=(p=M?.signInWithSolana)===null||p===void 0?void 0:p.resources)===null||g===void 0)&&g.length?["Resources",...M.signInWithSolana.resources.map(W=>`- ${W}`)]:[]].join(`
`);const V=await B.signMessage(new TextEncoder().encode(N),"utf8");if(!V||!(V instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");C=V}}try{const{data:T,error:A}=await Ft(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:N,signature:iu(C)},!((y=e.options)===null||y===void 0)&&y.captchaToken?{gotrue_meta_security:{captcha_token:(v=e.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:qs});if(A)throw A;if(!T||!T.session||!T.user){const D=new cd;return this._returnResult({data:{user:null,session:null},error:D})}return T.session&&(await this._saveSession(T.session),await this._notifyAllSubscribers("SIGNED_IN",T.session)),this._returnResult({data:Object.assign({},T),error:A})}catch(T){if(At(T))return this._returnResult({data:{user:null,session:null},error:T});throw T}}async _exchangeCodeForSession(e){const n=await Gc(this.storage,`${this.storageKey}-code-verifier`),[r,a]=(n??"").split("/");try{if(!r&&this.flowType==="pkce")throw new jj;const{data:s,error:l}=await Ft(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:qs});if(await vi(this.storage,`${this.storageKey}-code-verifier`),l)throw l;if(!s||!s.session||!s.user){const u=new cd;return this._returnResult({data:{user:null,session:null,redirectType:null},error:u})}return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),this._returnResult({data:Object.assign(Object.assign({},s),{redirectType:a??null}),error:l})}catch(s){if(await vi(this.storage,`${this.storageKey}-code-verifier`),At(s))return this._returnResult({data:{user:null,session:null,redirectType:null},error:s});throw s}}async signInWithIdToken(e){try{const{options:n,provider:r,token:a,access_token:s,nonce:l}=e,u=await Ft(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:a,access_token:s,nonce:l,gotrue_meta_security:{captcha_token:n?.captchaToken}},xform:qs}),{data:d,error:f}=u;if(f)return this._returnResult({data:{user:null,session:null},error:f});if(!d||!d.session||!d.user){const p=new cd;return this._returnResult({data:{user:null,session:null},error:p})}return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",d.session)),this._returnResult({data:d,error:f})}catch(n){if(At(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(e){var n,r,a,s,l;try{if("email"in e){const{email:u,options:d}=e;let f=null,p=null;this.flowType==="pkce"&&([f,p]=await ud(this.storage,this.storageKey));const{error:g}=await Ft(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:u,data:(n=d?.data)!==null&&n!==void 0?n:{},create_user:(r=d?.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:d?.captchaToken},code_challenge:f,code_challenge_method:p},redirectTo:d?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:g})}if("phone"in e){const{phone:u,options:d}=e,{data:f,error:p}=await Ft(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:u,data:(a=d?.data)!==null&&a!==void 0?a:{},create_user:(s=d?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:d?.captchaToken},channel:(l=d?.channel)!==null&&l!==void 0?l:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:f?.message_id},error:p})}throw new Pp("You must provide either an email or phone number.")}catch(u){if(await vi(this.storage,`${this.storageKey}-code-verifier`),At(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async verifyOtp(e){var n,r;try{let a,s;"options"in e&&(a=(n=e.options)===null||n===void 0?void 0:n.redirectTo,s=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:l,error:u}=await Ft(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:s}}),redirectTo:a,xform:qs});if(u)throw u;if(!l)throw new Error("An error occurred on token verification.");const d=l.session,f=l.user;return d?.access_token&&(await this._saveSession(d),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",d)),this._returnResult({data:{user:f,session:d},error:null})}catch(a){if(At(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithSSO(e){var n,r,a,s,l;try{let u=null,d=null;this.flowType==="pkce"&&([u,d]=await ud(this.storage,this.storageKey));const f=await Ft(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((a=e?.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:u,code_challenge_method:d}),headers:this.headers,xform:ek});return!((s=f.data)===null||s===void 0)&&s.url&&yi()&&!(!((l=e.options)===null||l===void 0)&&l.skipBrowserRedirect)&&window.location.assign(f.data.url),this._returnResult(f)}catch(u){if(await vi(this.storage,`${this.storageKey}-code-verifier`),At(u))return this._returnResult({data:null,error:u});throw u}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new ka;const{error:a}=await Ft(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:a})})}catch(e){if(At(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:a,options:s}=e,{error:l}=await Ft(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:a,gotrue_meta_security:{captcha_token:s?.captchaToken}},redirectTo:s?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:l})}else if("phone"in e){const{phone:r,type:a,options:s}=e,{data:l,error:u}=await Ft(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:a,gotrue_meta_security:{captcha_token:s?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:l?.message_id},error:u})}throw new Pp("You must provide either an email or phone number and a type")}catch(n){if(At(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await Gc(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<Bg:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const l=await Gc(this.userStorage,this.storageKey+"-user");l?.user?e.user=l.user:e.user=Ug()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const l={value:this.suppressGetSessionWarning};e.user=Xj(e.user,l),l.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:a,error:s}=await this._callRefreshToken(e.refresh_token);return s?this._returnResult({data:{session:null},error:s}):this._returnResult({data:{session:a},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const n=await this._acquireLock(-1,async()=>await this._getUser());return n.data.user&&(this.suppressGetSessionWarning=!0),n}async _getUser(e){try{return e?await Ft(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:nc}):await this._useSession(async n=>{var r,a,s;const{data:l,error:u}=n;if(u)throw u;return!(!((r=l.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ka}:await Ft(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(a=l.session)===null||a===void 0?void 0:a.access_token)!==null&&s!==void 0?s:void 0,xform:nc})})}catch(n){if(At(n))return Cj(n)&&(await this._removeSession(),await vi(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:a,error:s}=r;if(s)throw s;if(!a.session)throw new ka;const l=a.session;let u=null,d=null;this.flowType==="pkce"&&e.email!=null&&([u,d]=await ud(this.storage,this.storageKey));const{data:f,error:p}=await Ft(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:u,code_challenge_method:d}),jwt:l.access_token,xform:nc});if(p)throw p;return l.user=f.user,await this._saveSession(l),await this._notifyAllSubscribers("USER_UPDATED",l),this._returnResult({data:{user:l.user},error:null})})}catch(r){if(await vi(this.storage,`${this.storageKey}-code-verifier`),At(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new ka;const n=Date.now()/1e3;let r=n,a=!0,s=null;const{payload:l}=Fg(e.access_token);if(l.exp&&(r=l.exp,a=r<=n),a){const{data:u,error:d}=await this._callRefreshToken(e.refresh_token);if(d)return this._returnResult({data:{user:null,session:null},error:d});if(!u)return{data:{user:null,session:null},error:null};s=u}else{const{data:u,error:d}=await this._getUser(e.access_token);if(d)throw d;s={access_token:e.access_token,refresh_token:e.refresh_token,user:u.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return this._returnResult({data:{user:s.user,session:s},error:null})}catch(n){if(At(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:l,error:u}=n;if(u)throw u;e=(r=l.session)!==null&&r!==void 0?r:void 0}if(!e?.refresh_token)throw new ka;const{data:a,error:s}=await this._callRefreshToken(e.refresh_token);return s?this._returnResult({data:{user:null,session:null},error:s}):a?this._returnResult({data:{user:a.user,session:a},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(At(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(e,n){try{if(!yi())throw new Mp("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Mp(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new _w("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Mp("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new _w("No code detected.");const{data:D,error:M}=await this._exchangeCodeForSession(e.code);if(M)throw M;const B=new URL(window.location.href);return B.searchParams.delete("code"),window.history.replaceState(window.history.state,"",B.toString()),{data:{session:D.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:a,access_token:s,refresh_token:l,expires_in:u,expires_at:d,token_type:f}=e;if(!s||!u||!l||!f)throw new Mp("No session defined in URL");const p=Math.round(Date.now()/1e3),g=parseInt(u);let y=p+g;d&&(y=parseInt(d));const v=y-p;v*1e3<=wd&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${v}s, should have been closer to ${g}s`);const N=y-g;p-N>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",N,y,p):p-N<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",N,y,p);const{data:C,error:T}=await this._getUser(s);if(T)throw T;const A={provider_token:r,provider_refresh_token:a,access_token:s,expires_in:g,expires_at:y,refresh_token:l,token_type:f,user:C.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:A,redirectType:e.type},error:null})}catch(r){if(At(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(e){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),e):!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await Gc(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:a,error:s}=n;if(s)return this._returnResult({error:s});const l=(r=a.session)===null||r===void 0?void 0:r.access_token;if(l){const{error:u}=await this.admin.signOut(l,e);if(u&&!(Ej(u)&&(u.status===404||u.status===401||u.status===403)))return this._returnResult({error:u})}return e!=="others"&&(await this._removeSession(),await vi(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const n=Mj(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,a;try{const{data:{session:s},error:l}=n;if(l)throw l;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",e,"session",s)}catch(s){await((a=this.stateChangeEmitters.get(e))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",s),console.error(s)}})}async resetPasswordForEmail(e,n={}){let r=null,a=null;this.flowType==="pkce"&&([r,a]=await ud(this.storage,this.storageKey,!0));try{return await Ft(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:a,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(s){if(await vi(this.storage,`${this.storageKey}-code-verifier`),At(s))return this._returnResult({data:null,error:s});throw s}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(n){if(At(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var n;try{const{data:r,error:a}=await this._useSession(async s=>{var l,u,d,f,p;const{data:g,error:y}=s;if(y)throw y;const v=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(l=e.options)===null||l===void 0?void 0:l.redirectTo,scopes:(u=e.options)===null||u===void 0?void 0:u.scopes,queryParams:(d=e.options)===null||d===void 0?void 0:d.queryParams,skipBrowserRedirect:!0});return await Ft(this.fetch,"GET",v,{headers:this.headers,jwt:(p=(f=g.session)===null||f===void 0?void 0:f.access_token)!==null&&p!==void 0?p:void 0})});if(a)throw a;return yi()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r?.url),this._returnResult({data:{provider:e.provider,url:r?.url},error:null})}catch(r){if(At(r))return this._returnResult({data:{provider:e.provider,url:null},error:r});throw r}}async linkIdentityIdToken(e){return await this._useSession(async n=>{var r;try{const{error:a,data:{session:s}}=n;if(a)throw a;const{options:l,provider:u,token:d,access_token:f,nonce:p}=e,g=await Ft(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=s?.access_token)!==null&&r!==void 0?r:void 0,body:{provider:u,id_token:d,access_token:f,nonce:p,link_identity:!0,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:qs}),{data:y,error:v}=g;return v?this._returnResult({data:{user:null,session:null},error:v}):!y||!y.session||!y.user?this._returnResult({data:{user:null,session:null},error:new cd}):(y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("USER_UPDATED",y.session)),this._returnResult({data:y,error:v}))}catch(a){if(await vi(this.storage,`${this.storageKey}-code-verifier`),At(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}})}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,a;const{data:s,error:l}=n;if(l)throw l;return await Ft(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(a=(r=s.session)===null||r===void 0?void 0:r.access_token)!==null&&a!==void 0?a:void 0})})}catch(n){if(At(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await Uj(async a=>(a>0&&await Fj(200*Math.pow(2,a-1)),this._debug(n,"refreshing attempt",a),await Ft(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:qs})),(a,s)=>{const l=200*Math.pow(2,a);return s&&Ig(s)&&Date.now()+l-r<wd})}catch(r){if(this._debug(n,"error",r),At(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),yi()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const a=await Gc(this.storage,this.storageKey);if(a&&this.userStorage){let l=await Gc(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!l&&(l={user:a.user},await xd(this.userStorage,this.storageKey+"-user",l)),a.user=(e=l?.user)!==null&&e!==void 0?e:Ug()}else if(a&&!a.user&&!a.user){const l=await Gc(this.storage,this.storageKey+"-user");l&&l?.user?(a.user=l.user,await vi(this.storage,this.storageKey+"-user"),await xd(this.storage,this.storageKey,a)):a.user=Ug()}if(this._debug(r,"session from storage",a),!this._isValidSession(a)){this._debug(r,"session is not valid"),a!==null&&await this._removeSession();return}const s=((n=a.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Bg;if(this._debug(r,`session has${s?"":" not"} expired with margin of ${Bg}s`),s){if(this.autoRefreshToken&&a.refresh_token){const{error:l}=await this._callRefreshToken(a.refresh_token);l&&(console.error(l),Ig(l)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",l),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:l,error:u}=await this._getUser(a.access_token);!u&&l?.user?(a.user=l.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(l){console.error("Error getting user data:",l),this._debug(r,"error getting user data, skipping SIGNED_IN notification",l)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(r,"error",a),console.error(a);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new ka;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new Xm;const{data:s,error:l}=await this._refreshAccessToken(e);if(l)throw l;if(!s.session)throw new ka;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const u={data:s.session,error:null};return this.refreshingDeferred.resolve(u),u}catch(s){if(this._debug(a,"error",s),At(s)){const l={data:null,error:s};return Ig(s)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(l),l}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(s),s}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(e,n,r=!0){const a=`#_notifyAllSubscribers(${e})`;this._debug(a,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const s=[],l=Array.from(this.stateChangeEmitters.values()).map(async u=>{try{await u.callback(e,n)}catch(d){s.push(d)}});if(await Promise.all(l),s.length>0){for(let u=0;u<s.length;u+=1)console.error(s[u]);throw s[0]}}finally{this._debug(a,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await vi(this.storage,`${this.storageKey}-code-verifier`);const n=Object.assign({},e),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await xd(this.userStorage,this.storageKey+"-user",{user:n.user});const a=Object.assign({},n);delete a.user;const s=Cw(a);await xd(this.storage,this.storageKey,s)}else{const a=Cw(n);await xd(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await vi(this.storage,this.storageKey),await vi(this.storage,this.storageKey+"-code-verifier"),await vi(this.storage,this.storageKey+"-user"),this.userStorage&&await vi(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&yi()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),wd);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((r.expires_at*1e3-e)/wd);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${wd}ms, refresh threshold is ${vv} ticks`),a<=vv&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof b3)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!yi()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const a=[`provider=${encodeURIComponent(n)}`];if(r?.redirectTo&&a.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r?.scopes&&a.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[s,l]=await ud(this.storage,this.storageKey),u=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(l)}`});a.push(u.toString())}if(r?.queryParams){const s=new URLSearchParams(r.queryParams);a.push(s.toString())}return r?.skipBrowserRedirect&&a.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${a.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:a,error:s}=n;return s?this._returnResult({data:null,error:s}):await Ft(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=a?.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(At(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,a;const{data:s,error:l}=n;if(l)return this._returnResult({data:null,error:l});const u=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:d,error:f}=await Ft(this.fetch,"POST",`${this.url}/factors`,{body:u,headers:this.headers,jwt:(r=s?.session)===null||r===void 0?void 0:r.access_token});return f?this._returnResult({data:null,error:f}):(e.factorType==="totp"&&d.type==="totp"&&(!((a=d?.totp)===null||a===void 0)&&a.qr_code)&&(d.totp.qr_code=`data:image/svg+xml;utf-8,${d.totp.qr_code}`),this._returnResult({data:d,error:null}))})}catch(n){if(At(n))return this._returnResult({data:null,error:n});throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:a,error:s}=n;if(s)return this._returnResult({data:null,error:s});const l=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?gk(e.webauthn.credential_response):vk(e.webauthn.credential_response)})}:{code:e.code}),{data:u,error:d}=await Ft(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:l,headers:this.headers,jwt:(r=a?.session)===null||r===void 0?void 0:r.access_token});return d?this._returnResult({data:null,error:d}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+u.expires_in},u)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",u),this._returnResult({data:u,error:d}))})}catch(n){if(At(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:a,error:s}=n;if(s)return this._returnResult({data:null,error:s});const l=await Ft(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(r=a?.session)===null||r===void 0?void 0:r.access_token});if(l.error)return l;const{data:u}=l;if(u.type!=="webauthn")return{data:u,error:null};switch(u.webauthn.type){case"create":return{data:Object.assign(Object.assign({},u),{webauthn:Object.assign(Object.assign({},u.webauthn),{credential_options:Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:pk(u.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},u),{webauthn:Object.assign(Object.assign({},u.webauthn),{credential_options:Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:mk(u.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(At(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){var e;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const a={all:[],phone:[],totp:[],webauthn:[]};for(const s of(e=n?.factors)!==null&&e!==void 0?e:[])a.all.push(s),s.status==="verified"&&a[s.factor_type].push(s);return{data:a,error:null}}async _getAuthenticatorAssuranceLevel(){var e,n;const{data:{session:r},error:a}=await this.getSession();if(a)return this._returnResult({data:null,error:a});if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:s}=Fg(r.access_token);let l=null;s.aal&&(l=s.aal);let u=l;((n=(e=r.user.factors)===null||e===void 0?void 0:e.filter(p=>p.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(u="aal2");const f=s.amr||[];return{data:{currentLevel:l,nextLevel:u,currentAuthenticationMethods:f},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async n=>{const{data:{session:r},error:a}=n;return a?this._returnResult({data:null,error:a}):r?await Ft(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:r.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new ka})})}catch(n){if(At(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(e,n){try{return await this._useSession(async r=>{const{data:{session:a},error:s}=r;if(s)return this._returnResult({data:null,error:s});if(!a)return this._returnResult({data:null,error:new ka});const l=await Ft(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"approve"},xform:u=>({data:u,error:null})});return l.data&&l.data.redirect_url&&yi()&&!n?.skipBrowserRedirect&&window.location.assign(l.data.redirect_url),l})}catch(r){if(At(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(e,n){try{return await this._useSession(async r=>{const{data:{session:a},error:s}=r;if(s)return this._returnResult({data:null,error:s});if(!a)return this._returnResult({data:null,error:new ka});const l=await Ft(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"deny"},xform:u=>({data:u,error:null})});return l.data&&l.data.redirect_url&&yi()&&!n?.skipBrowserRedirect&&window.location.assign(l.data.redirect_url),l})}catch(r){if(At(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;return r?this._returnResult({data:null,error:r}):n?await Ft(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new ka})})}catch(e){if(At(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async n=>{const{data:{session:r},error:a}=n;return a?this._returnResult({data:null,error:a}):r?(await Ft(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new ka})})}catch(n){if(At(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(e,n={keys:[]}){let r=n.keys.find(u=>u.kid===e);if(r)return r;const a=Date.now();if(r=this.jwks.keys.find(u=>u.kid===e),r&&this.jwks_cached_at+Aj>a)return r;const{data:s,error:l}=await Ft(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(l)throw l;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=a,r=s.keys.find(u=>u.kid===e),!r)?null:r}async getClaims(e,n={}){try{let r=e;if(!r){const{data:v,error:N}=await this.getSession();if(N||!v.session)return this._returnResult({data:null,error:N});r=v.session.access_token}const{header:a,payload:s,signature:l,raw:{header:u,payload:d}}=Fg(r);n?.allowExpired||Wj(s.exp);const f=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,n?.keys?{keys:n.keys}:n?.jwks);if(!f){const{error:v}=await this.getUser(r);if(v)throw v;return{data:{claims:s,header:a,signature:l},error:null}}const p=Yj(a.alg),g=await crypto.subtle.importKey("jwk",f,p,!0,["verify"]);if(!await crypto.subtle.verify(p,g,l,Dj(`${u}.${d}`)))throw new wv("Invalid JWT signature");return{data:{claims:s,header:a,signature:l},error:null}}catch(r){if(At(r))return this._returnResult({data:null,error:r});throw r}}}uh.nextInstanceID={};const Ek=uh,Ck="2.89.0";let Gf="";typeof Deno<"u"?Gf="deno":typeof document<"u"?Gf="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Gf="react-native":Gf="node";const Tk={"X-Client-Info":`supabase-js-${Gf}/${Ck}`},jk={headers:Tk},kk={schema:"public"},Lk={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Rk={};function dh(t){"@babel/helpers - typeof";return dh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dh(t)}function Ok(t,e){if(dh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(dh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Dk(t){var e=Ok(t,"string");return dh(e)=="symbol"?e:e+""}function Pk(t,e,n){return(e=Dk(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Dw(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function _r(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Dw(Object(n),!0).forEach(function(r){Pk(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Dw(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}const Mk=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),Bk=()=>Headers,Ik=(t,e,n)=>{const r=Mk(n),a=Bk();return async(s,l)=>{var u;const d=(u=await e())!==null&&u!==void 0?u:t;let f=new a(l?.headers);return f.has("apikey")||f.set("apikey",t),f.has("Authorization")||f.set("Authorization",`Bearer ${d}`),r(s,_r(_r({},l),{},{headers:f}))}};function Fk(t){return t.endsWith("/")?t:t+"/"}function Uk(t,e){var n,r;const{db:a,auth:s,realtime:l,global:u}=t,{db:d,auth:f,realtime:p,global:g}=e,y={db:_r(_r({},d),a),auth:_r(_r({},f),s),realtime:_r(_r({},p),l),storage:{},global:_r(_r(_r({},g),u),{},{headers:_r(_r({},(n=g?.headers)!==null&&n!==void 0?n:{}),(r=u?.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return t.accessToken?y.accessToken=t.accessToken:delete y.accessToken,y}function zk(t){const e=t?.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Fk(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var qk=class extends Ek{constructor(t){super(t)}},Vk=class{constructor(t,e,n){var r,a;this.supabaseUrl=t,this.supabaseKey=e;const s=zk(t);if(!e)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",s),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",s),this.storageUrl=new URL("storage/v1",s),this.functionsUrl=new URL("functions/v1",s);const l=`sb-${s.hostname.split(".")[0]}-auth-token`,u={db:kk,realtime:Rk,auth:_r(_r({},Lk),{},{storageKey:l}),global:jk},d=Uk(n??{},u);if(this.storageKey=(r=d.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(a=d.global.headers)!==null&&a!==void 0?a:{},d.accessToken)this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(p,g)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(g)} is not possible`)}});else{var f;this.auth=this._initSupabaseAuthClient((f=d.auth)!==null&&f!==void 0?f:{},this.headers,d.global.fetch)}this.fetch=Ik(e,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(_r({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.accessToken&&this.accessToken().then(p=>this.realtime.setAuth(p)).catch(p=>console.warn("Failed to set initial Realtime auth token:",p)),this.rest=new _T(new URL("rest/v1",s).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new bj(this.storageUrl.href,this.headers,this.fetch,n?.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new vT(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,e={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,e,n)}channel(t,e={config:{}}){return this.realtime.channel(t,e)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t=this,e,n;if(t.accessToken)return await t.accessToken();const{data:r}=await t.auth.getSession();return(e=(n=r.session)===null||n===void 0?void 0:n.access_token)!==null&&e!==void 0?e:t.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:e,detectSessionInUrl:n,storage:r,userStorage:a,storageKey:s,flowType:l,lock:u,debug:d,throwOnError:f},p,g){const y={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new qk({url:this.authUrl.href,headers:_r(_r({},y),p),storageKey:s,autoRefreshToken:t,persistSession:e,detectSessionInUrl:n,storage:r,userStorage:a,flowType:l,lock:u,debug:d,throwOnError:f,fetch:g,hasCustomAuthorizationHeader:Object.keys(this.headers).some(v=>v.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new FT(this.realtimeUrl.href,_r(_r({},t),{},{params:_r(_r({},{apikey:this.supabaseKey}),t?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,e)=>{this._handleTokenChanged(t,"CLIENT",e?.access_token)})}_handleTokenChanged(t,e,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const Hk=(t,e,n)=>new Vk(t,e,n);function $k(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}$k()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Gk="https://ijvbnduaecrpsaivgzay.supabase.co",Wk="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImlqdmJuZHVhZWNycHNhaXZnemF5Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjYxNDk5MDcsImV4cCI6MjA4MTcyNTkwN30.8qFhjzkuFunEsxsYHnq5y8IgSl7K2yJIXRWrGonrcDI",cn=Hk(Gk,Wk),_3=X.createContext({session:null,user:null,role:null,loading:!0,signOut:async()=>{}}),Yk=({children:t})=>{const[e,n]=X.useState(null),[r,a]=X.useState(null),[s,l]=X.useState(null),[u,d]=X.useState(!0);X.useEffect(()=>{cn.auth.getSession().then(({data:{session:y}})=>{n(y),a(y?.user??null),y?.user?f(y.user.id,y.user.email):d(!1)});const{data:{subscription:g}}=cn.auth.onAuthStateChange((y,v)=>{n(v),a(v?.user??null),v?.user?f(v.user.id,v.user.email):(l(null),d(!1))});return()=>g.unsubscribe()},[]);const f=async(g,y)=>{if(y==="rauli3514@gmail.com"){l("superadmin"),d(!1);return}try{const{data:v,error:N}=await cn.from("profiles").select("role").eq("id",g).single();N?console.error("Error fetching role:",N):l(v?.role)}catch(v){console.error("Error:",v)}finally{d(!1)}},p=async()=>{await cn.auth.signOut()};return w.jsx(_3.Provider,{value:{session:e,user:r,role:s,loading:u,signOut:p},children:t})},Jm=()=>X.useContext(_3);function Kk(){const{session:t,loading:e}=Jm();return e?w.jsx("div",{className:"min-h-screen flex items-center justify-center bg-black text-gold",children:w.jsx("div",{className:"animate-spin w-8 h-8 border-2 border-current border-t-transparent rounded-full"})}):t?w.jsx(L8,{}):w.jsx(ZS,{to:"/login",replace:!0})}function Xk(){const t=dc();return w.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen p-4 text-center relative overflow-hidden bg-[#0F172A] text-slate-100",children:[w.jsxs("div",{className:"max-w-md w-full fade-in",children:[w.jsx("h1",{className:"text-5xl font-bold text-white mb-2 tracking-tight",children:"Ingreso VIP"}),w.jsx("p",{className:"text-yellow-500 text-xs mb-10 tracking-[0.2em] uppercase font-semibold",children:"by Tecno Eventos"}),w.jsxs("div",{className:"space-y-6",children:[w.jsx("div",{className:"p-6 bg-slate-800 rounded-xl border border-slate-700 shadow-xl",children:w.jsxs("p",{className:"text-sm font-medium leading-relaxed text-slate-300",children:["Sistema de gestin de invitados.",w.jsx("br",{}),w.jsx("span",{className:"text-xs opacity-50 mt-2 block",children:"Control seguro y eficiente."})]})}),w.jsxs("div",{className:"flex flex-col gap-3 justify-center mt-8",children:[w.jsx("button",{onClick:()=>t("/login"),className:"btn btn-primary w-full py-3 text-base shadow-lg shadow-yellow-500/20",children:"Iniciar Sesin"}),w.jsx("button",{className:"btn btn-outline w-full py-3 text-sm opacity-70 hover:opacity-100 border-slate-600 hover:bg-slate-800",children:"Escanear QR (Demo)"})]})]})]}),w.jsx("footer",{className:"mt-12 text-[10px] text-slate-500 opacity-40 uppercase tracking-widest fixed bottom-4",children:" 2025 Tecno Eventos"})]})}const Jk=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Qk=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),Pw=t=>{const e=Qk(t);return e.charAt(0).toUpperCase()+e.slice(1)},S3=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),Zk=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var eL={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const tL=X.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:a="",children:s,iconNode:l,...u},d)=>X.createElement("svg",{ref:d,...eL,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:S3("lucide",a),...!s&&!Zk(u)&&{"aria-hidden":"true"},...u},[...l.map(([f,p])=>X.createElement(f,p)),...Array.isArray(s)?s:[s]]));const sn=(t,e)=>{const n=X.forwardRef(({className:r,...a},s)=>X.createElement(tL,{ref:s,iconNode:e,className:S3(`lucide-${Jk(Pw(t))}`,`lucide-${t}`,r),...a}));return n.displayName=Pw(t),n};const nL=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Ey=sn("arrow-left",nL);const rL=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],iL=sn("arrow-right",rL);const aL=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],fh=sn("calendar",aL);const sL=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],xv=sn("check",sL);const oL=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],lL=sn("chevron-down",oL);const cL=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],uL=sn("chevron-up",cL);const dL=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],qg=sn("circle-alert",dL);const fL=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],tc=sn("circle-check",fL);const hL=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Mw=sn("circle-x",hL);const pL=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Vg=sn("clock",pL);const mL=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],al=sn("download",mL);const gL=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],Bw=sn("ellipsis-vertical",gL);const vL=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Bp=sn("file-text",vL);const yL=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],bL=sn("funnel",yL);const wL=[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]],xL=sn("instagram",wL);const _L=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Rh=sn("loader-circle",_L);const SL=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],_v=sn("lock",SL);const AL=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],NL=sn("log-out",AL);const EL=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],A3=sn("mail",EL);const CL=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],ou=sn("map-pin",CL);const TL=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],jL=sn("menu",TL);const kL=[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["rect",{x:"9",y:"2",width:"6",height:"13",rx:"3",key:"s6n7sd"}]],LL=sn("mic",kL);const RL=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],Iw=sn("palette",RL);const OL=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],N3=sn("pen",OL);const DL=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Cy=sn("plus",DL);const PL=[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]],Ip=sn("qr-code",PL);const ML=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Id=sn("search",ML);const BL=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],IL=sn("settings",BL);const FL=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],E3=sn("shield",FL);const UL=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],zL=sn("sparkles",UL);const qL=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Sv=sn("trash-2",qL);const VL=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Xc=sn("upload",VL);const HL=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Sm=sn("user",HL);const $L=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],ll=sn("users",$L);const GL=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],Fp=sn("video",GL);const WL=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Qm=sn("x",WL);const YL=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Av=sn("zap",YL);function KL(){const t=dc(),[e,n]=X.useState(!1),[r,a]=X.useState(""),[s,l]=X.useState(""),[u,d]=X.useState(null),f=async p=>{p.preventDefault(),n(!0),d(null);try{let g=r.trim().toLowerCase();g.includes("@")||(g=`${g}@ingreso-vip.app`);const{error:y}=await cn.auth.signInWithPassword({email:g,password:s});if(y)throw y;t("/admin/dashboard")}catch(g){console.error(g),d(g.message==="Invalid login credentials"?"Credenciales incorrectas":"Error al iniciar sesin")}finally{n(!1)}};return w.jsxs("div",{className:"min-h-screen flex items-center justify-center p-4 relative overflow-hidden bg-gradient-to-br from-[#0a0e27] via-[#0d1117] to-[#0a0e27]",children:[w.jsx("div",{className:"absolute top-0 left-1/4 w-96 h-96 bg-blue-600/5 rounded-full blur-3xl"}),w.jsx("div",{className:"absolute bottom-0 right-1/4 w-96 h-96 bg-purple-600/5 rounded-full blur-3xl"}),w.jsx("button",{onClick:()=>t("/"),className:"absolute top-6 left-6 p-2.5 text-slate-400 hover:text-white transition-colors z-10 rounded-lg hover:bg-white/5",children:w.jsx(Ey,{size:20})}),w.jsxs("div",{className:"glass-card w-full max-w-md p-10 relative z-10",children:[w.jsx("div",{className:"flex justify-center mb-8",children:w.jsx("div",{className:"w-16 h-16 rounded-2xl bg-gradient-to-br from-blue-500 to-blue-600 flex items-center justify-center shadow-lg shadow-blue-500/30",children:w.jsx(Av,{size:32,className:"text-white",strokeWidth:2.5})})}),w.jsxs("div",{className:"text-center mb-8",children:[w.jsx("h1",{className:"text-2xl font-bold text-white mb-1",children:"Ingreso VIP"}),w.jsx("p",{className:"text-sm text-slate-400",children:"Acceso Administrativo"})]}),w.jsxs("form",{onSubmit:f,className:"space-y-5",children:[w.jsxs("div",{className:"space-y-2",children:[w.jsx("label",{className:"text-xs font-semibold text-slate-400 uppercase tracking-wider",children:"Correo Electrnico"}),w.jsxs("div",{className:"relative",children:[w.jsx(A3,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-500",size:18}),w.jsx("input",{type:"text",value:r,onChange:p=>a(p.target.value),className:"w-full bg-white/5 border border-white/10 rounded-xl py-3.5 pl-12 pr-4 text-white focus:border-blue-500/50 focus:ring-2 focus:ring-blue-500/20 transition-all placeholder:text-slate-600 focus:bg-white/8",placeholder:"usuario@correo.com",required:!0,autoCapitalize:"none"})]})]}),w.jsxs("div",{className:"space-y-2",children:[w.jsx("label",{className:"text-xs font-semibold text-slate-400 uppercase tracking-wider",children:"Contrasea"}),w.jsxs("div",{className:"relative",children:[w.jsx(_v,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-500",size:18}),w.jsx("input",{type:"password",value:s,onChange:p=>l(p.target.value),className:"w-full bg-white/5 border border-white/10 rounded-xl py-3.5 pl-12 pr-4 text-white focus:border-blue-500/50 focus:ring-2 focus:ring-blue-500/20 transition-all placeholder:text-slate-600 focus:bg-white/8",placeholder:"",required:!0})]})]}),u&&w.jsx("div",{className:"p-4 rounded-xl bg-red-500/10 border border-red-500/20 text-red-400 text-sm font-medium",children:u}),w.jsx("button",{type:"submit",disabled:e,className:"w-full bg-blue-600 hover:bg-blue-500 disabled:bg-blue-600/50 text-white font-bold py-3.5 rounded-xl transition-all duration-200 shadow-lg shadow-blue-500/20 hover:shadow-blue-500/30 hover:scale-[1.02] active:scale-100 flex items-center justify-center gap-2",children:e?w.jsxs(w.Fragment,{children:[w.jsx(Rh,{size:18,className:"animate-spin"}),"Ingresando..."]}):"Ingresar"}),w.jsx("div",{className:"text-center pt-4",children:w.jsxs("button",{type:"button",onClick:()=>t("/register"),className:"text-sm text-slate-400 hover:text-white transition-colors",children:["No tienes cuenta? ",w.jsx("span",{className:"text-blue-400 font-semibold",children:"Solicitar acceso"})]})})]})]}),w.jsxs("div",{className:"absolute bottom-6 text-xs text-slate-600 font-medium tracking-wider",children:["Powered by ",w.jsx("span",{className:"text-slate-400",children:"Tecno Eventos"})]})]})}function XL(){const t=dc(),[e,n]=X.useState(!1),[r,a]=X.useState(""),[s,l]=X.useState(""),[u,d]=X.useState(""),[f,p]=X.useState(null),g=async y=>{if(y.preventDefault(),n(!0),p(null),s!==u){p("Las contraseas no coinciden"),n(!1);return}try{const{error:v}=await cn.auth.signUp({email:r,password:s});if(v)throw v;alert("Registro exitoso. Por favor inicia sesin."),t("/login")}catch(v){console.error(v),p(v.message||"Error al registrarse")}finally{n(!1)}};return w.jsxs("div",{className:"min-h-screen flex items-center justify-center p-4 relative overflow-hidden bg-[#030712]",children:[w.jsx("div",{className:"absolute top-[-10%] left-[-10%] w-[40%] h-[40%] bg-blue-600/10 rounded-full blur-[100px]"}),w.jsx("div",{className:"absolute bottom-[-10%] right-[-10%] w-[40%] h-[40%] bg-yellow-500/5 rounded-full blur-[100px]"}),w.jsx("button",{onClick:()=>t("/login"),className:"absolute top-6 left-6 p-2 text-slate-400 hover:text-white transition-colors z-10",children:w.jsx(Ey,{size:20})}),w.jsxs("div",{className:"glass-card w-full max-w-[360px] p-8 relative z-20",children:[w.jsxs("div",{className:"text-center mb-8",children:[w.jsxs("h2",{className:"text-xl font-bold text-white tracking-tight",children:["Registro ",w.jsx("span",{className:"text-[#FBBF24]",children:"VIP"})]}),w.jsx("p",{className:"text-xs text-slate-400 mt-2",children:"Crea tu cuenta en Tecno Eventos"})]}),w.jsxs("form",{onSubmit:g,className:"space-y-4",children:[w.jsxs("div",{className:"space-y-1.5",children:[w.jsx("label",{className:"text-[10px] uppercase font-bold tracking-widest text-slate-500 ml-1",children:"Email"}),w.jsxs("div",{className:"relative group",children:[w.jsx(A3,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-500 group-focus-within:text-[#FBBF24] transition-colors",size:16}),w.jsx("input",{type:"email",value:r,onChange:y=>a(y.target.value),className:"w-full bg-black/40 border border-white/5 rounded-xl py-2.5 pl-10 pr-4 text-sm text-white focus:border-[#FBBF24]/50 focus:bg-black/60 transition-all placeholder:text-slate-600",placeholder:"tu@email.com",required:!0})]})]}),w.jsxs("div",{className:"space-y-1.5",children:[w.jsx("label",{className:"text-[10px] uppercase font-bold tracking-widest text-slate-500 ml-1",children:"Contrasea"}),w.jsxs("div",{className:"relative group",children:[w.jsx(_v,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-500 group-focus-within:text-[#FBBF24] transition-colors",size:16}),w.jsx("input",{type:"password",value:s,onChange:y=>l(y.target.value),className:"w-full bg-black/40 border border-white/5 rounded-xl py-2.5 pl-10 pr-4 text-sm text-white focus:border-[#FBBF24]/50 focus:bg-black/60 transition-all placeholder:text-slate-600",placeholder:"",required:!0,minLength:6})]})]}),w.jsxs("div",{className:"space-y-1.5",children:[w.jsx("label",{className:"text-[10px] uppercase font-bold tracking-widest text-slate-500 ml-1",children:"Confirmar Contrasea"}),w.jsxs("div",{className:"relative group",children:[w.jsx(_v,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-500 group-focus-within:text-[#FBBF24] transition-colors",size:16}),w.jsx("input",{type:"password",value:u,onChange:y=>d(y.target.value),className:"w-full bg-black/40 border border-white/5 rounded-xl py-2.5 pl-10 pr-4 text-sm text-white focus:border-[#FBBF24]/50 focus:bg-black/60 transition-all placeholder:text-slate-600",placeholder:"",required:!0,minLength:6})]})]}),f&&w.jsx("div",{className:"p-3 rounded-lg bg-red-500/10 border border-red-500/20 text-red-400 text-xs text-center font-medium",children:f}),w.jsx("button",{type:"submit",disabled:e,className:"btn btn-primary w-full mt-2 justify-center py-2.5 text-sm shadow-lg shadow-yellow-500/20",children:e?w.jsx(Rh,{size:16,className:"animate-spin"}):"Registrarse"}),w.jsx("div",{className:"mt-4 text-center",children:w.jsxs("button",{type:"button",onClick:()=>t("/login"),className:"text-xs text-slate-400 hover:text-white transition-colors",children:["Ya tienes cuenta? ",w.jsx("span",{className:"text-[#FBBF24]",children:"Inicia Sesin"})]})})]})]})]})}function Am({children:t}){const e=dc(),n=hl(),{signOut:r,user:a,role:s}=Jm(),[l,u]=X.useState(!1);X.useEffect(()=>{s==="disabled"&&(alert("Tu cuenta ha sido deshabilitada. Contacta al administrador."),r(),e("/login"))},[s,r,e]);const d=async()=>{await r(),e("/login")};return X.useEffect(()=>{(async()=>{if(a)try{const{error:p}=await cn.from("profiles").select("*").eq("id",a.id).single();p&&p.code==="PGRST116"&&await cn.from("profiles").insert({id:a.id,email:a.email,role:"provider"})}catch(p){console.error("Error checking/creating profile:",p)}})()},[a]),w.jsxs("div",{className:"flex h-screen overflow-hidden bg-background relative",children:[l&&w.jsx("div",{className:"fixed inset-0 z-40 bg-black/60 backdrop-blur-sm md:hidden",onClick:()=>u(!1)}),w.jsxs("aside",{className:`
                fixed md:relative inset-y-0 left-0 z-50 w-64 
                flex flex-col bg-sidebar border-r border-white/5
                transition-transform duration-300 ease-out
                ${l?"translate-x-0":"-translate-x-full md:translate-x-0"}
            `,children:[w.jsxs("div",{className:"p-6 border-b border-white/5 flex items-center justify-between",children:[w.jsxs("div",{className:"flex items-center gap-3",children:[w.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-blue-500 to-blue-600 flex items-center justify-center shadow-lg shadow-blue-500/20",children:w.jsx(Av,{size:20,className:"text-white",strokeWidth:2.5})}),w.jsxs("div",{children:[w.jsxs("h2",{className:"text-lg font-bold text-white leading-none",children:["Ingreso VIP ",w.jsx("span",{className:"text-blue-400",children:"Panel"})]}),w.jsx("p",{className:"text-[10px] text-slate-500 mt-0.5 uppercase tracking-wider font-semibold",children:s==="superadmin"?"SUPER ADMIN":"Proveedor"})]})]}),w.jsx("button",{onClick:()=>u(!1),className:"md:hidden p-1.5 text-slate-400 hover:text-white rounded-lg hover:bg-white/5",children:w.jsx(Qm,{size:18})})]}),w.jsxs("nav",{className:"flex-1 px-3 py-4 space-y-1 overflow-y-auto custom-scrollbar",children:[w.jsx(Fw,{icon:w.jsx(fh,{size:18}),label:"Mis Eventos",active:n.pathname.includes("/admin/dashboard"),onClick:()=>{e("/admin/dashboard"),u(!1)}}),s==="superadmin"&&w.jsx(Fw,{icon:w.jsx(ll,{size:18}),label:"Usuarios",active:n.pathname.includes("/admin/users"),onClick:()=>{e("/admin/users"),u(!1)}})]}),w.jsxs("div",{className:"p-4 border-t border-white/5",children:[w.jsxs("div",{className:"flex items-center gap-3 mb-3 p-3 rounded-xl bg-white/3 border border-white/5",children:[w.jsx("div",{className:"w-9 h-9 rounded-lg bg-gradient-to-br from-blue-500/20 to-purple-500/20 border border-blue-500/30 flex items-center justify-center",children:w.jsx(Sm,{size:16,className:"text-blue-400"})}),w.jsxs("div",{className:"flex-1 overflow-hidden",children:[w.jsx("p",{className:"text-sm font-semibold text-white truncate",children:a?.email?.split("@")[0]}),w.jsx("p",{className:"text-xs text-slate-500",children:a?.email})]})]}),w.jsxs("button",{onClick:d,className:"w-full flex items-center gap-3 px-4 py-2.5 rounded-xl text-slate-400 hover:text-white hover:bg-white/5 transition-all group",children:[w.jsx(NL,{size:18}),w.jsx("span",{className:"text-sm font-medium",children:"Cerrar Sesin"})]})]})]}),w.jsxs("main",{className:"flex-1 overflow-auto bg-background relative",children:[w.jsxs("div",{className:"md:hidden sticky top-0 z-30 bg-sidebar/80 backdrop-blur-xl border-b border-white/5 p-4 flex items-center justify-between",children:[w.jsx("button",{onClick:()=>u(!0),className:"p-2 text-white rounded-lg hover:bg-white/5",children:w.jsx(jL,{size:20})}),w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsx("div",{className:"w-8 h-8 rounded-lg bg-gradient-to-br from-blue-500 to-blue-600 flex items-center justify-center",children:w.jsx(Av,{size:16,className:"text-white",strokeWidth:2.5})}),w.jsx("span",{className:"font-bold text-white",children:"Ingreso VIP"})]}),w.jsx("div",{className:"w-10"})," "]}),w.jsx("div",{className:"max-w-7xl mx-auto p-6 md:p-8",children:t})]})]})}function Fw({icon:t,label:e,active:n=!1,onClick:r}){return w.jsxs("button",{onClick:r,className:`w-full flex items-center gap-3 px-4 py-3 rounded-xl text-left transition-all group ${n?"bg-blue-600 text-white shadow-lg shadow-blue-500/20":"text-slate-400 hover:text-white hover:bg-white/5"}`,children:[w.jsx("div",{className:n?"text-white":"text-slate-500 group-hover:text-blue-400",children:t}),w.jsx("span",{className:"text-sm font-semibold",children:e})]})}const C3=6048e5,JL=864e5,Uw=Symbol.for("constructDateFrom");function sc(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&Uw in t?t[Uw](e):t instanceof Date?new t.constructor(e):new Date(e)}function Ys(t,e){return sc(e||t,t)}let QL={};function Zm(){return QL}function hh(t,e){const n=Zm(),r=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,a=Ys(t,e?.in),s=a.getDay(),l=(s<r?7:0)+s-r;return a.setDate(a.getDate()-l),a.setHours(0,0,0,0),a}function Nm(t,e){return hh(t,{...e,weekStartsOn:1})}function T3(t,e){const n=Ys(t,e?.in),r=n.getFullYear(),a=sc(n,0);a.setFullYear(r+1,0,4),a.setHours(0,0,0,0);const s=Nm(a),l=sc(n,0);l.setFullYear(r,0,4),l.setHours(0,0,0,0);const u=Nm(l);return n.getTime()>=s.getTime()?r+1:n.getTime()>=u.getTime()?r:r-1}function zw(t){const e=Ys(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function ZL(t,...e){const n=sc.bind(null,e.find(r=>typeof r=="object"));return e.map(n)}function qw(t,e){const n=Ys(t,e?.in);return n.setHours(0,0,0,0),n}function eR(t,e,n){const[r,a]=ZL(n?.in,t,e),s=qw(r),l=qw(a),u=+s-zw(s),d=+l-zw(l);return Math.round((u-d)/JL)}function tR(t,e){const n=T3(t,e),r=sc(t,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),Nm(r)}function nR(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function rR(t){return!(!nR(t)&&typeof t!="number"||isNaN(+Ys(t)))}function iR(t,e){const n=Ys(t,e?.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}const aR={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},sR=(t,e,n)=>{let r;const a=aR[t];return typeof a=="string"?r=a:e===1?r=a.one:r=a.other.replace("{{count}}",e.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function Rd(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const oR={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},lR={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},cR={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},uR={date:Rd({formats:oR,defaultWidth:"full"}),time:Rd({formats:lR,defaultWidth:"full"}),dateTime:Rd({formats:cR,defaultWidth:"full"})},dR={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},fR=(t,e,n,r)=>dR[t];function _o(t){return(e,n)=>{const r=n?.context?String(n.context):"standalone";let a;if(r==="formatting"&&t.formattingValues){const l=t.defaultFormattingWidth||t.defaultWidth,u=n?.width?String(n.width):l;a=t.formattingValues[u]||t.formattingValues[l]}else{const l=t.defaultWidth,u=n?.width?String(n.width):t.defaultWidth;a=t.values[u]||t.values[l]}const s=t.argumentCallback?t.argumentCallback(e):e;return a[s]}}const hR={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},pR={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},mR={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},gR={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},vR={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},yR={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},bR=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},wR={ordinalNumber:bR,era:_o({values:hR,defaultWidth:"wide"}),quarter:_o({values:pR,defaultWidth:"wide",argumentCallback:t=>t-1}),month:_o({values:mR,defaultWidth:"wide"}),day:_o({values:gR,defaultWidth:"wide"}),dayPeriod:_o({values:vR,defaultWidth:"wide",formattingValues:yR,defaultFormattingWidth:"wide"})};function So(t){return(e,n={})=>{const r=n.width,a=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],s=e.match(a);if(!s)return null;const l=s[0],u=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],d=Array.isArray(u)?_R(u,g=>g.test(l)):xR(u,g=>g.test(l));let f;f=t.valueCallback?t.valueCallback(d):d,f=n.valueCallback?n.valueCallback(f):f;const p=e.slice(l.length);return{value:f,rest:p}}}function xR(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function _R(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function j3(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const a=r[0],s=e.match(t.parsePattern);if(!s)return null;let l=t.valueCallback?t.valueCallback(s[0]):s[0];l=n.valueCallback?n.valueCallback(l):l;const u=e.slice(a.length);return{value:l,rest:u}}}const SR=/^(\d+)(th|st|nd|rd)?/i,AR=/\d+/i,NR={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},ER={any:[/^b/i,/^(a|c)/i]},CR={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},TR={any:[/1/i,/2/i,/3/i,/4/i]},jR={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},kR={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},LR={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},RR={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},OR={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},DR={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},PR={ordinalNumber:j3({matchPattern:SR,parsePattern:AR,valueCallback:t=>parseInt(t,10)}),era:So({matchPatterns:NR,defaultMatchWidth:"wide",parsePatterns:ER,defaultParseWidth:"any"}),quarter:So({matchPatterns:CR,defaultMatchWidth:"wide",parsePatterns:TR,defaultParseWidth:"any",valueCallback:t=>t+1}),month:So({matchPatterns:jR,defaultMatchWidth:"wide",parsePatterns:kR,defaultParseWidth:"any"}),day:So({matchPatterns:LR,defaultMatchWidth:"wide",parsePatterns:RR,defaultParseWidth:"any"}),dayPeriod:So({matchPatterns:OR,defaultMatchWidth:"any",parsePatterns:DR,defaultParseWidth:"any"})},MR={code:"en-US",formatDistance:sR,formatLong:uR,formatRelative:fR,localize:wR,match:PR,options:{weekStartsOn:0,firstWeekContainsDate:1}};function BR(t,e){const n=Ys(t,e?.in);return eR(n,iR(n))+1}function IR(t,e){const n=Ys(t,e?.in),r=+Nm(n)-+tR(n);return Math.round(r/C3)+1}function k3(t,e){const n=Ys(t,e?.in),r=n.getFullYear(),a=Zm(),s=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??a.firstWeekContainsDate??a.locale?.options?.firstWeekContainsDate??1,l=sc(e?.in||t,0);l.setFullYear(r+1,0,s),l.setHours(0,0,0,0);const u=hh(l,e),d=sc(e?.in||t,0);d.setFullYear(r,0,s),d.setHours(0,0,0,0);const f=hh(d,e);return+n>=+u?r+1:+n>=+f?r:r-1}function FR(t,e){const n=Zm(),r=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,a=k3(t,e),s=sc(e?.in||t,0);return s.setFullYear(a,0,r),s.setHours(0,0,0,0),hh(s,e)}function UR(t,e){const n=Ys(t,e?.in),r=+hh(n,e)-+FR(n,e);return Math.round(r/C3)+1}function kn(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const Kl={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return kn(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):kn(n+1,2)},d(t,e){return kn(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];default:return n==="am"?"a.m.":"p.m."}},h(t,e){return kn(t.getHours()%12||12,e.length)},H(t,e){return kn(t.getHours(),e.length)},m(t,e){return kn(t.getMinutes(),e.length)},s(t,e){return kn(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),a=Math.trunc(r*Math.pow(10,n-3));return kn(a,e.length)}},pd={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Vw={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),a=r>0?r:1-r;return n.ordinalNumber(a,{unit:"year"})}return Kl.y(t,e)},Y:function(t,e,n,r){const a=k3(t,r),s=a>0?a:1-a;if(e==="YY"){const l=s%100;return kn(l,2)}return e==="Yo"?n.ordinalNumber(s,{unit:"year"}):kn(s,e.length)},R:function(t,e){const n=T3(t);return kn(n,e.length)},u:function(t,e){const n=t.getFullYear();return kn(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return kn(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return kn(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return Kl.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return kn(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const a=UR(t,r);return e==="wo"?n.ordinalNumber(a,{unit:"week"}):kn(a,e.length)},I:function(t,e,n){const r=IR(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):kn(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):Kl.d(t,e)},D:function(t,e,n){const r=BR(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):kn(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const a=t.getDay(),s=(a-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(s);case"ee":return kn(s,2);case"eo":return n.ordinalNumber(s,{unit:"day"});case"eee":return n.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(a,{width:"short",context:"formatting"});default:return n.day(a,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const a=t.getDay(),s=(a-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(s);case"cc":return kn(s,e.length);case"co":return n.ordinalNumber(s,{unit:"day"});case"ccc":return n.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(a,{width:"narrow",context:"standalone"});case"cccccc":return n.day(a,{width:"short",context:"standalone"});default:return n.day(a,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),a=r===0?7:r;switch(e){case"i":return String(a);case"ii":return kn(a,e.length);case"io":return n.ordinalNumber(a,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const a=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(a,{width:"narrow",context:"formatting"});default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let a;switch(r===12?a=pd.noon:r===0?a=pd.midnight:a=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(a,{width:"narrow",context:"formatting"});default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let a;switch(r>=17?a=pd.evening:r>=12?a=pd.afternoon:r>=4?a=pd.morning:a=pd.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(a,{width:"narrow",context:"formatting"});default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Kl.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):Kl.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):kn(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):kn(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):Kl.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):Kl.s(t,e)},S:function(t,e){return Kl.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return $w(r);case"XXXX":case"XX":return Jc(r);default:return Jc(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return $w(r);case"xxxx":case"xx":return Jc(r);default:return Jc(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+Hw(r,":");default:return"GMT"+Jc(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+Hw(r,":");default:return"GMT"+Jc(r,":")}},t:function(t,e,n){const r=Math.trunc(+t/1e3);return kn(r,e.length)},T:function(t,e,n){return kn(+t,e.length)}};function Hw(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),a=Math.trunc(r/60),s=r%60;return s===0?n+String(a):n+String(a)+e+kn(s,2)}function $w(t,e){return t%60===0?(t>0?"-":"+")+kn(Math.abs(t)/60,2):Jc(t,e)}function Jc(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),a=kn(Math.trunc(r/60),2),s=kn(r%60,2);return n+a+e+s}const Gw=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});default:return e.date({width:"full"})}},L3=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});default:return e.time({width:"full"})}},zR=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],a=n[2];if(!a)return Gw(t,e);let s;switch(r){case"P":s=e.dateTime({width:"short"});break;case"PP":s=e.dateTime({width:"medium"});break;case"PPP":s=e.dateTime({width:"long"});break;default:s=e.dateTime({width:"full"});break}return s.replace("{{date}}",Gw(r,e)).replace("{{time}}",L3(a,e))},qR={p:L3,P:zR},VR=/^D+$/,HR=/^Y+$/,$R=["D","DD","YY","YYYY"];function GR(t){return VR.test(t)}function WR(t){return HR.test(t)}function YR(t,e,n){const r=KR(t,e,n);if(console.warn(r),$R.includes(t))throw new RangeError(r)}function KR(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const XR=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,JR=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,QR=/^'([^]*?)'?$/,ZR=/''/g,eO=/[a-zA-Z]/;function sm(t,e,n){const r=Zm(),a=n?.locale??r.locale??MR,s=n?.firstWeekContainsDate??n?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,l=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,u=Ys(t,n?.in);if(!rR(u))throw new RangeError("Invalid time value");let d=e.match(JR).map(p=>{const g=p[0];if(g==="p"||g==="P"){const y=qR[g];return y(p,a.formatLong)}return p}).join("").match(XR).map(p=>{if(p==="''")return{isToken:!1,value:"'"};const g=p[0];if(g==="'")return{isToken:!1,value:tO(p)};if(Vw[g])return{isToken:!0,value:p};if(g.match(eO))throw new RangeError("Format string contains an unescaped latin alphabet character `"+g+"`");return{isToken:!1,value:p}});a.localize.preprocessor&&(d=a.localize.preprocessor(u,d));const f={firstWeekContainsDate:s,weekStartsOn:l,locale:a};return d.map(p=>{if(!p.isToken)return p.value;const g=p.value;(!n?.useAdditionalWeekYearTokens&&WR(g)||!n?.useAdditionalDayOfYearTokens&&GR(g))&&YR(g,e,String(t));const y=Vw[g[0]];return y(u,g,a.localize,f)}).join("")}function tO(t){const e=t.match(QR);return e?e[1].replace(ZR,"'"):t}const nO={lessThanXSeconds:{one:"menos de un segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"medio minuto",lessThanXMinutes:{one:"menos de un minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"alrededor de 1 hora",other:"alrededor de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 da",other:"{{count}} das"},aboutXWeeks:{one:"alrededor de 1 semana",other:"alrededor de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"alrededor de 1 mes",other:"alrededor de {{count}} meses"},xMonths:{one:"1 mes",other:"{{count}} meses"},aboutXYears:{one:"alrededor de 1 ao",other:"alrededor de {{count}} aos"},xYears:{one:"1 ao",other:"{{count}} aos"},overXYears:{one:"ms de 1 ao",other:"ms de {{count}} aos"},almostXYears:{one:"casi 1 ao",other:"casi {{count}} aos"}},rO=(t,e,n)=>{let r;const a=nO[t];return typeof a=="string"?r=a:e===1?r=a.one:r=a.other.replace("{{count}}",e.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"en "+r:"hace "+r:r},iO={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/y"},aO={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},sO={full:"{{date}} 'a las' {{time}}",long:"{{date}} 'a las' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},oO={date:Rd({formats:iO,defaultWidth:"full"}),time:Rd({formats:aO,defaultWidth:"full"}),dateTime:Rd({formats:sO,defaultWidth:"full"})},lO={lastWeek:"'el' eeee 'pasado a la' p",yesterday:"'ayer a la' p",today:"'hoy a la' p",tomorrow:"'maana a la' p",nextWeek:"eeee 'a la' p",other:"P"},cO={lastWeek:"'el' eeee 'pasado a las' p",yesterday:"'ayer a las' p",today:"'hoy a las' p",tomorrow:"'maana a las' p",nextWeek:"eeee 'a las' p",other:"P"},uO=(t,e,n,r)=>e.getHours()!==1?cO[t]:lO[t],dO={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","despus de cristo"]},fO={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1 trimestre","2 trimestre","3 trimestre","4 trimestre"]},hO={narrow:["e","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"],wide:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"]},pO={narrow:["d","l","m","m","j","v","s"],short:["do","lu","ma","mi","ju","vi","s"],abbreviated:["dom","lun","mar","mi","jue","vie","sb"],wide:["domingo","lunes","martes","mircoles","jueves","viernes","sbado"]},mO={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"maana",afternoon:"tarde",evening:"tarde",night:"noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"maana",afternoon:"tarde",evening:"tarde",night:"noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"maana",afternoon:"tarde",evening:"tarde",night:"noche"}},gO={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"de la maana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"de la maana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"de la maana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"}},vO=(t,e)=>Number(t)+"",yO={ordinalNumber:vO,era:_o({values:dO,defaultWidth:"wide"}),quarter:_o({values:fO,defaultWidth:"wide",argumentCallback:t=>Number(t)-1}),month:_o({values:hO,defaultWidth:"wide"}),day:_o({values:pO,defaultWidth:"wide"}),dayPeriod:_o({values:mO,defaultWidth:"wide",formattingValues:gO,defaultFormattingWidth:"wide"})},bO=/^(\d+)()?/i,wO=/\d+/i,xO={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|a\.?\s?e\.?\s?c\.?|d\.?\s?c\.?|e\.?\s?c\.?)/i,wide:/^(antes de cristo|antes de la era com[u]n|despu[e]s de cristo|era com[u]n)/i},_O={any:[/^ac/i,/^dc/i],wide:[/^(antes de cristo|antes de la era com[u]n)/i,/^(despu[e]s de cristo|era com[u]n)/i]},SO={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234]()? trimestre/i},AO={any:[/1/i,/2/i,/3/i,/4/i]},NO={narrow:/^[efmajsond]/i,abbreviated:/^(ene|feb|mar|abr|may|jun|jul|ago|sep|oct|nov|dic)/i,wide:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i},EO={narrow:[/^e/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^en/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i]},CO={narrow:/^[dlmjvs]/i,short:/^(do|lu|ma|mi|ju|vi|s[a])/i,abbreviated:/^(dom|lun|mar|mi[e]|jue|vie|s[a]b)/i,wide:/^(domingo|lunes|martes|mi[e]rcoles|jueves|viernes|s[a]bado)/i},TO={narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^do/i,/^lu/i,/^ma/i,/^mi/i,/^ju/i,/^vi/i,/^sa/i]},jO={narrow:/^(a|p|mn|md|(de la|a las) (maana|tarde|noche))/i,any:/^([ap]\.?\s?m\.?|medianoche|mediodia|(de la|a las) (maana|tarde|noche))/i},kO={any:{am:/^a/i,pm:/^p/i,midnight:/^mn/i,noon:/^md/i,morning:/maana/i,afternoon:/tarde/i,evening:/tarde/i,night:/noche/i}},LO={ordinalNumber:j3({matchPattern:bO,parsePattern:wO,valueCallback:function(t){return parseInt(t,10)}}),era:So({matchPatterns:xO,defaultMatchWidth:"wide",parsePatterns:_O,defaultParseWidth:"any"}),quarter:So({matchPatterns:SO,defaultMatchWidth:"wide",parsePatterns:AO,defaultParseWidth:"any",valueCallback:t=>t+1}),month:So({matchPatterns:NO,defaultMatchWidth:"wide",parsePatterns:EO,defaultParseWidth:"any"}),day:So({matchPatterns:CO,defaultMatchWidth:"wide",parsePatterns:TO,defaultParseWidth:"any"}),dayPeriod:So({matchPatterns:jO,defaultMatchWidth:"any",parsePatterns:kO,defaultParseWidth:"any"})},Nv={code:"es",formatDistance:rO,formatLong:oO,formatRelative:uO,localize:yO,match:LO,options:{weekStartsOn:1,firstWeekContainsDate:1}};function RO({isOpen:t,onClose:e,onEventCreated:n}){const{user:r}=Jm(),[a,s]=X.useState(!1),[l,u]=X.useState(null),[d,f]=X.useState(""),[p,g]=X.useState(""),[y,v]=X.useState(""),[N,C]=X.useState("none"),[T,A]=X.useState(""),[D,M]=X.useState(10),[B,q]=X.useState(!1),[V,W]=X.useState(!1),[R,L]=X.useState(!1);if(!t)return null;const $=async k=>{if(k.preventDefault(),!!r){s(!0),u(null);try{const{error:I}=await cn.from("profiles").select("id").eq("id",r.id).single();if(I&&I.code==="PGRST116"){const{error:ne}=await cn.from("profiles").upsert({id:r.id,email:r.email,role:"provider"});if(ne)throw console.error("Error auto-creating profile:",ne),new Error(`Error tcnico al crear perfil: ${ne.message} (Cdigo: ${ne.code})`)}const{error:J}=await cn.from("events").insert({owner_id:r.id,name:d,date:p,guest_count_total:Number(y),table_assignment:N,table_count:Number(T)||0,guests_per_table_default:D,has_living_room:B,has_after_party:V,status:"pending"});if(J)throw J;n(),e()}catch(I){console.error("Error creating event:",I),u(I.message||I.details||"Error desconocido al crear el evento")}finally{s(!1)}}};return w.jsx("div",{className:"fixed inset-0 z-[100] flex items-start justify-center p-4 pt-10 md:pt-20 bg-black/80 backdrop-blur-sm",children:w.jsxs("div",{className:"glass-card w-full max-w-2xl bg-[#030712] relative animate-in zoom-in-95 duration-200 flex flex-col shadow-2xl shadow-black/50 border border-white/10 max-h-[85vh]",children:[w.jsxs("div",{className:"p-5 border-b border-white/5 flex justify-between items-center bg-black/40",children:[w.jsxs("div",{children:[w.jsx("h2",{className:"text-lg font-bold text-white",children:"Nuevo Evento"}),w.jsx("p",{className:"text-[10px] text-slate-400",children:"Completa los datos principales"})]}),w.jsx("div",{className:"flex items-center gap-3",children:w.jsx("button",{onClick:e,className:"p-2 hover:bg-white/10 rounded-full transition-colors text-slate-400 hover:text-white",children:w.jsx(Qm,{size:18})})})]}),w.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-6 custom-scrollbar",children:[l&&w.jsxs("div",{className:"p-4 rounded-lg bg-red-500/10 border border-red-500/20 text-red-400 text-sm",children:[w.jsx("strong",{children:"Error:"})," ",l]}),w.jsxs("form",{id:"create-event-form",onSubmit:$,className:"space-y-6",children:[w.jsxs("div",{className:"border border-white/5 rounded-xl overflow-hidden bg-white/[0.02]",children:[w.jsxs("button",{type:"button",onClick:()=>L(!R),className:"w-full flex items-center justify-between p-4 bg-white/5 hover:bg-white/10 transition-colors",children:[w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsx("div",{className:"p-1.5 rounded-lg bg-[#FBBF24]/10 text-[#FBBF24]",children:w.jsx(ll,{size:16})}),w.jsxs("div",{className:"text-left",children:[w.jsx("p",{className:"text-sm font-bold text-white",children:"Carga Masiva (Opcional)"}),w.jsx("p",{className:"text-[10px] text-slate-400",children:"Importar lista de invitados ahora"})]})]}),R?w.jsx(uL,{size:16,className:"text-slate-400"}):w.jsx(lL,{size:16,className:"text-slate-400"})]}),R&&w.jsxs("div",{className:"p-4 border-t border-white/5 bg-black/20",children:[w.jsx("p",{className:"text-xs text-slate-400 mb-3 text-center",children:"Podrs importar tu lista de invitados una vez creado el evento desde el panel de administracin."}),w.jsx("div",{className:"p-3 border border-dashed border-white/10 rounded-lg bg-white/5 text-center",children:w.jsx("p",{className:"text-xs text-slate-500 italic",children:"La importacin estar disponible en el paso siguiente."})})]})]}),w.jsxs("div",{className:"space-y-4",children:[w.jsx("h3",{className:"text-xs font-bold text-[#FBBF24] uppercase tracking-widest leading-none",children:"General"}),w.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[w.jsxs("div",{className:"space-y-1.5",children:[w.jsx("label",{className:"text-[10px] text-slate-400 uppercase font-bold tracking-wider",children:"Nombre"}),w.jsx("input",{type:"text",value:d,onChange:k=>f(k.target.value),placeholder:"Ej. Casamiento de Ana y Juan",required:!0,className:"bg-white/5 focus:bg-white/10 border-white/5 focus:border-[#FBBF24]/50 text-sm"})]}),w.jsxs("div",{className:"space-y-1.5",children:[w.jsx("label",{className:"text-[10px] text-slate-400 uppercase font-bold tracking-wider",children:"Fecha"}),w.jsx("input",{type:"date",value:p,onChange:k=>g(k.target.value),required:!0,className:"bg-white/5 focus:bg-white/10 border-white/5 focus:border-[#FBBF24]/50 text-sm"})]})]}),w.jsxs("div",{className:"space-y-1.5",children:[w.jsx("label",{className:"text-[10px] text-slate-400 uppercase font-bold tracking-wider",children:"Invitados Totales"}),w.jsxs("div",{className:"relative",children:[w.jsx(ll,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-500",size:14}),w.jsx("input",{type:"number",value:y,onChange:k=>v(Number(k.target.value)),placeholder:"0",required:!0,min:"1",className:"bg-white/5 focus:bg-white/10 border-white/5 focus:border-[#FBBF24]/50 pl-9 text-sm"})]})]})]}),w.jsx("div",{className:"h-px bg-white/5"}),w.jsxs("div",{className:"space-y-4",children:[w.jsx("h3",{className:"text-xs font-bold text-[#FBBF24] uppercase tracking-widest leading-none",children:"Distribucin"}),w.jsx("div",{className:"grid grid-cols-3 gap-3",children:[{id:"none",label:"Sin Mesas",icon:ll},{id:"partial",label:"Parcial",icon:ou},{id:"full",label:"Completa",icon:ou}].map(k=>w.jsxs("button",{type:"button",onClick:()=>C(k.id),className:`flex flex-col items-center gap-2 p-3 rounded-xl border transition-all ${N===k.id?"bg-[#FBBF24] border-[#FBBF24] text-black shadow-lg shadow-yellow-500/20":"bg-white/5 border-transparent text-slate-400 hover:bg-white/10 hover:text-white"}`,children:[w.jsx(k.icon,{size:18}),w.jsx("span",{className:"text-[10px] font-bold uppercase tracking-wider",children:k.label})]},k.id))}),N!=="none"&&w.jsxs("div",{className:"grid grid-cols-2 gap-4 animate-in fade-in slide-in-from-top-2",children:[w.jsxs("div",{className:"space-y-1.5",children:[w.jsx("label",{className:"text-[10px] text-slate-400 uppercase font-bold tracking-wider",children:"Cantidad Mesas"}),w.jsx("input",{type:"number",value:T,onChange:k=>A(Number(k.target.value)),placeholder:"Ej. 15",required:!0,min:"1",className:"bg-white/5 focus:bg-white/10 border-white/5 focus:border-[#FBBF24]/50 text-sm"})]}),w.jsxs("div",{className:"space-y-1.5",children:[w.jsx("label",{className:"text-[10px] text-slate-400 uppercase font-bold tracking-wider",children:"Pers. por Mesa"}),w.jsx("input",{type:"number",value:D,onChange:k=>M(Number(k.target.value)),placeholder:"10",required:!0,min:"1",className:"bg-white/5 focus:bg-white/10 border-white/5 focus:border-[#FBBF24]/50 text-sm"})]})]})]}),w.jsx("div",{className:"h-px bg-white/5"}),w.jsxs("div",{className:"space-y-4",children:[w.jsx("h3",{className:"text-xs font-bold text-[#FBBF24] uppercase tracking-widest leading-none",children:"Extras"}),w.jsxs("div",{className:"flex gap-4",children:[w.jsxs("label",{className:`flex-1 flex items-center justify-between p-3 rounded-xl border cursor-pointer transition-all ${B?"bg-white/10 border-white/20 text-white":"bg-white/5 border-transparent text-slate-500 hover:bg-white/10"}`,children:[w.jsx("span",{className:"text-sm font-medium",children:"Habilitar Living"}),w.jsx("div",{className:`w-4 h-4 rounded border flex items-center justify-center ${B?"bg-[#FBBF24] border-[#FBBF24] text-black":"border-slate-600"}`,children:B&&w.jsx(xv,{size:10,strokeWidth:4})}),w.jsx("input",{type:"checkbox",className:"hidden",checked:B,onChange:k=>q(k.target.checked)})]}),w.jsxs("label",{className:`flex-1 flex items-center justify-between p-3 rounded-xl border cursor-pointer transition-all ${V?"bg-white/10 border-white/20 text-white":"bg-white/5 border-transparent text-slate-500 hover:bg-white/10"}`,children:[w.jsx("span",{className:"text-sm font-medium",children:"Habilitar Trasnoche"}),w.jsx("div",{className:`w-4 h-4 rounded border flex items-center justify-center ${V?"bg-[#FBBF24] border-[#FBBF24] text-black":"border-slate-600"}`,children:V&&w.jsx(xv,{size:10,strokeWidth:4})}),w.jsx("input",{type:"checkbox",className:"hidden",checked:V,onChange:k=>W(k.target.checked)})]})]})]})]})]}),w.jsxs("div",{className:"p-5 border-t border-white/5 bg-black/40 flex gap-3 sticky bottom-0 z-10",children:[w.jsx("button",{type:"button",onClick:e,className:"btn btn-outline flex-1 py-2.5 text-sm",children:"Cancelar"}),w.jsx("button",{type:"submit",form:"create-event-form",disabled:a,className:"btn btn-primary flex-1 py-2.5 text-sm shadow-lg shadow-yellow-500/20",children:a?"Creando...":"Crear Evento"})]})]})})}function OO(){const t=dc(),[e,n]=X.useState([]),[r,a]=X.useState(!0),[s,l]=X.useState(!1),{user:u}=Jm();X.useEffect(()=>{u&&d()},[u]);const d=async()=>{try{const{data:p}=await cn.from("profiles").select("*").eq("id",u?.id).single(),g=p,y=g?.role==="superadmin",v=g?.assigned_event_ids||[],{data:N,error:C}=await cn.from("events").select("*").order("date",{ascending:!0});if(C)throw C;let T=N||[];y||(T=T.filter(A=>!!(A.owner_id===u?.id||v.includes(A.id)))),n(T)}catch(p){console.error("Error loading events:",p)}finally{a(!1)}},f=p=>{switch(p){case"active":return"Activo";case"pending":return"Pendiente Lista";case"disabled":return"Deshabilitado";case"closed":return"Cerrado";default:return p}};return w.jsxs(Am,{children:[w.jsx(RO,{isOpen:s,onClose:()=>l(!1),onEventCreated:d}),w.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-end mb-10 gap-6",children:[w.jsxs("div",{children:[w.jsx("h1",{className:"text-4xl font-bold text-white tracking-tight mb-2",children:"Mis Eventos"}),w.jsx("p",{className:"text-slate-400 text-sm font-light",children:"Bienvenido al panel de control. Gestiona tus accesos desde aqu."})]}),w.jsxs("button",{onClick:()=>l(!0),className:"btn btn-primary shadow-lg shadow-amber-500/20",children:[w.jsx(Cy,{size:20}),"Nuevo Evento"]})]}),w.jsxs("div",{className:"glass p-1 rounded-xl mb-10 max-w-md w-full flex items-center gap-3",children:[w.jsx("div",{className:"pl-4 text-slate-500",children:w.jsx(Id,{size:18})}),w.jsx("input",{type:"text",placeholder:"Buscar por nombre o fecha...",className:"bg-transparent border-none shadow-none focus:shadow-none p-3 text-sm placeholder:text-slate-600 w-full"})]}),r?w.jsxs("div",{className:"flex flex-col items-center justify-center py-32 opacity-50",children:[w.jsx(Rh,{className:"w-10 h-10 text-[#FBBF24] animate-spin mb-4"}),w.jsx("p",{className:"text-slate-400 text-sm tracking-wider uppercase",children:"Cargando eventos..."})]}):e.length===0?w.jsxs("div",{className:"text-center py-32 border-2 border-dashed border-slate-200 rounded-2xl bg-slate-50/50",children:[w.jsx("div",{className:"w-16 h-16 bg-white rounded-full flex items-center justify-center mx-auto mb-6 text-slate-400 border border-slate-200 shadow-sm",children:w.jsx(fh,{size:32})}),w.jsx("h3",{className:"text-slate-900 font-bold text-lg mb-2",children:"No tienes eventos activos"}),w.jsx("p",{className:"text-slate-500 mb-6 max-w-xs mx-auto text-sm",children:"Comienza creando tu primer evento para gestionar invitados."}),w.jsx("button",{onClick:()=>l(!0),className:"btn btn-outline text-sm bg-white",children:"Crear Evento"})]}):w.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:e.map(p=>w.jsxs("div",{onClick:()=>t(`/admin/event/${p.id}`),className:"glass-card p-0 relative overflow-hidden group cursor-pointer bg-white hover:bg-slate-50 border-slate-200",children:[w.jsx("div",{className:"absolute top-4 right-4 z-10",children:w.jsx("span",{className:`badge ${p.status==="active"?"badge-success":p.status==="pending"?"badge-warning":(p.status==="disabled","badge-neutral")}`,children:f(p.status)})}),w.jsxs("div",{className:"p-6 pt-8",children:[w.jsxs("div",{className:"mb-6",children:[w.jsx("p",{className:"text-xs text-amber-600 font-bold tracking-widest uppercase mb-2",children:"Cliente VIP"}),w.jsx("h3",{className:"text-2xl font-bold text-slate-900 leading-tight group-hover:text-amber-600 transition-colors font-display",children:p.name})]}),w.jsxs("div",{className:"space-y-4",children:[w.jsxs("div",{className:"flex items-center gap-3 text-slate-500",children:[w.jsx("div",{className:"w-8 h-8 rounded-lg bg-amber-50 flex items-center justify-center text-amber-600 border border-amber-100",children:w.jsx(fh,{size:16})}),w.jsx("span",{className:"text-sm font-medium",children:sm(new Date(p.date+"T00:00:00"),"dd 'de' MMMM, yyyy",{locale:Nv})})]}),w.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[w.jsxs("div",{className:"flex items-center gap-2 p-2 rounded-lg bg-slate-50 border border-slate-100",children:[w.jsx(ll,{size:14,className:"text-slate-400"}),w.jsxs("span",{className:"text-xs text-slate-500",children:[w.jsx("strong",{className:"text-slate-900",children:p.guest_count_total})," Inv."]})]}),w.jsxs("div",{className:"flex items-center gap-2 p-2 rounded-lg bg-slate-50 border border-slate-100",children:[w.jsx(ou,{size:14,className:"text-slate-400"}),w.jsxs("span",{className:"text-xs text-slate-500",children:[w.jsx("strong",{className:"text-slate-900",children:p.table_count})," Mesas"]})]})]})]})]}),w.jsxs("div",{className:"px-6 py-4 border-t border-slate-100 bg-slate-50/50 flex justify-between items-center",children:[w.jsxs("span",{className:"text-[10px] text-slate-400 uppercase tracking-wider font-medium",children:["ID: ",p.id.slice(0,8),"..."]}),w.jsx("span",{className:"text-[10px] text-amber-600 font-medium opacity-0 group-hover:opacity-100 transition-opacity",children:"Ver detalles "})]})]},p.id))})]})}function Vi(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var DO=typeof Symbol=="function"&&Symbol.observable||"@@observable",Ww=DO,Yw=()=>Math.random().toString(36).substring(7).split("").join("."),PO={INIT:`@@redux/INIT${Yw()}`,REPLACE:`@@redux/REPLACE${Yw()}`},Kw=PO;function MO(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function R3(t,e,n){if(typeof t!="function")throw new Error(Vi(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Vi(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Vi(1));return n(R3)(t,e)}let r=t,a=e,s=new Map,l=s,u=0,d=!1;function f(){l===s&&(l=new Map,s.forEach((T,A)=>{l.set(A,T)}))}function p(){if(d)throw new Error(Vi(3));return a}function g(T){if(typeof T!="function")throw new Error(Vi(4));if(d)throw new Error(Vi(5));let A=!0;f();const D=u++;return l.set(D,T),function(){if(A){if(d)throw new Error(Vi(6));A=!1,f(),l.delete(D),s=null}}}function y(T){if(!MO(T))throw new Error(Vi(7));if(typeof T.type>"u")throw new Error(Vi(8));if(typeof T.type!="string")throw new Error(Vi(17));if(d)throw new Error(Vi(9));try{d=!0,a=r(a,T)}finally{d=!1}return(s=l).forEach(D=>{D()}),T}function v(T){if(typeof T!="function")throw new Error(Vi(10));r=T,y({type:Kw.REPLACE})}function N(){const T=g;return{subscribe(A){if(typeof A!="object"||A===null)throw new Error(Vi(11));function D(){const B=A;B.next&&B.next(p())}return D(),{unsubscribe:T(D)}},[Ww](){return this}}}return y({type:Kw.INIT}),{dispatch:y,subscribe:g,getState:p,replaceReducer:v,[Ww]:N}}function Xw(t,e){return function(...n){return e(t.apply(this,n))}}function Jw(t,e){if(typeof t=="function")return Xw(t,e);if(typeof t!="object"||t===null)throw new Error(Vi(16));const n={};for(const r in t){const a=t[r];typeof a=="function"&&(n[r]=Xw(a,e))}return n}function O3(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function BO(...t){return e=>(n,r)=>{const a=e(n,r);let s=()=>{throw new Error(Vi(15))};const l={getState:a.getState,dispatch:(d,...f)=>s(d,...f)},u=t.map(d=>d(l));return s=O3(...u)(a.dispatch),{...a,dispatch:s}}}var Hg={exports:{}},$g={};var Qw;function IO(){if(Qw)return $g;Qw=1;var t=$m();function e(d,f){return d===f&&(d!==0||1/d===1/f)||d!==d&&f!==f}var n=typeof Object.is=="function"?Object.is:e,r=t.useSyncExternalStore,a=t.useRef,s=t.useEffect,l=t.useMemo,u=t.useDebugValue;return $g.useSyncExternalStoreWithSelector=function(d,f,p,g,y){var v=a(null);if(v.current===null){var N={hasValue:!1,value:null};v.current=N}else N=v.current;v=l(function(){function T(q){if(!A){if(A=!0,D=q,q=g(q),y!==void 0&&N.hasValue){var V=N.value;if(y(V,q))return M=V}return M=q}if(V=M,n(D,q))return V;var W=g(q);return y!==void 0&&y(V,W)?(D=q,V):(D=q,M=W)}var A=!1,D,M,B=p===void 0?null:p;return[function(){return T(f())},B===null?void 0:function(){return T(B())}]},[f,p,g,y]);var C=r(d,v[0],v[1]);return s(function(){N.hasValue=!0,N.value=C},[C]),u(C),C},$g}var Zw;function FO(){return Zw||(Zw=1,Hg.exports=IO()),Hg.exports}FO();var UO=X.version.startsWith("19"),zO=Symbol.for(UO?"react.transitional.element":"react.element"),qO=Symbol.for("react.portal"),VO=Symbol.for("react.fragment"),HO=Symbol.for("react.strict_mode"),$O=Symbol.for("react.profiler"),GO=Symbol.for("react.consumer"),WO=Symbol.for("react.context"),D3=Symbol.for("react.forward_ref"),YO=Symbol.for("react.suspense"),KO=Symbol.for("react.suspense_list"),Ty=Symbol.for("react.memo"),XO=Symbol.for("react.lazy"),JO=D3,QO=Ty;function ZO(t){if(typeof t=="object"&&t!==null){const{$$typeof:e}=t;switch(e){case zO:switch(t=t.type,t){case VO:case $O:case HO:case YO:case KO:return t;default:switch(t=t&&t.$$typeof,t){case WO:case D3:case XO:case Ty:return t;case GO:return t;default:return e}}case qO:return e}}}function eD(t){return ZO(t)===Ty}function tD(t,e,n,r,{areStatesEqual:a,areOwnPropsEqual:s,areStatePropsEqual:l}){let u=!1,d,f,p,g,y;function v(D,M){return d=D,f=M,p=t(d,f),g=e(r,f),y=n(p,g,f),u=!0,y}function N(){return p=t(d,f),e.dependsOnOwnProps&&(g=e(r,f)),y=n(p,g,f),y}function C(){return t.dependsOnOwnProps&&(p=t(d,f)),e.dependsOnOwnProps&&(g=e(r,f)),y=n(p,g,f),y}function T(){const D=t(d,f),M=!l(D,p);return p=D,M&&(y=n(p,g,f)),y}function A(D,M){const B=!s(M,f),q=!a(D,d,M,f);return d=D,f=M,B&&q?N():B?C():q?T():y}return function(M,B){return u?A(M,B):v(M,B)}}function nD(t,{initMapStateToProps:e,initMapDispatchToProps:n,initMergeProps:r,...a}){const s=e(t,a),l=n(t,a),u=r(t,a);return tD(s,l,u,t,a)}function rD(t,e){const n={};for(const r in t){const a=t[r];typeof a=="function"&&(n[r]=(...s)=>e(a(...s)))}return n}function Ev(t){return function(n){const r=t(n);function a(){return r}return a.dependsOnOwnProps=!1,a}}function ex(t){return t.dependsOnOwnProps?!!t.dependsOnOwnProps:t.length!==1}function P3(t,e){return function(r,{displayName:a}){const s=function(u,d){return s.dependsOnOwnProps?s.mapToProps(u,d):s.mapToProps(u,void 0)};return s.dependsOnOwnProps=!0,s.mapToProps=function(u,d){s.mapToProps=t,s.dependsOnOwnProps=ex(t);let f=s(u,d);return typeof f=="function"&&(s.mapToProps=f,s.dependsOnOwnProps=ex(f),f=s(u,d)),f},s}}function jy(t,e){return(n,r)=>{throw new Error(`Invalid value of type ${typeof t} for ${e} argument when connecting component ${r.wrappedComponentName}.`)}}function iD(t){return t&&typeof t=="object"?Ev(e=>rD(t,e)):t?typeof t=="function"?P3(t):jy(t,"mapDispatchToProps"):Ev(e=>({dispatch:e}))}function aD(t){return t?typeof t=="function"?P3(t):jy(t,"mapStateToProps"):Ev(()=>({}))}function sD(t,e,n){return{...n,...t,...e}}function oD(t){return function(n,{displayName:r,areMergedPropsEqual:a}){let s=!1,l;return function(d,f,p){const g=t(d,f,p);return s?a(g,l)||(l=g):(s=!0,l=g),l}}}function lD(t){return t?typeof t=="function"?oD(t):jy(t,"mergeProps"):()=>sD}function cD(t){t()}function uD(){let t=null,e=null;return{clear(){t=null,e=null},notify(){cD(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const a=e={callback:n,next:null,prev:e};return a.prev?a.prev.next=a:t=a,function(){!r||t===null||(r=!1,a.next?a.next.prev=a.prev:e=a.prev,a.prev?a.prev.next=a.next:t=a.next)}}}}var tx={notify(){},get:()=>[]};function M3(t,e){let n,r=tx,a=0,s=!1;function l(C){p();const T=r.subscribe(C);let A=!1;return()=>{A||(A=!0,T(),g())}}function u(){r.notify()}function d(){N.onStateChange&&N.onStateChange()}function f(){return s}function p(){a++,n||(n=e?e.addNestedSub(d):t.subscribe(d),r=uD())}function g(){a--,n&&a===0&&(n(),n=void 0,r.clear(),r=tx)}function y(){s||(s=!0,p())}function v(){s&&(s=!1,g())}const N={addNestedSub:l,notifyNestedSubs:u,handleChangeWrapper:d,isSubscribed:f,trySubscribe:y,tryUnsubscribe:v,getListeners:()=>r};return N}var dD=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",fD=dD(),hD=()=>typeof navigator<"u"&&navigator.product==="ReactNative",pD=hD(),mD=()=>fD||pD?X.useLayoutEffect:X.useEffect,Em=mD();function nx(t,e){return t===e?t!==0||e!==0||1/t===1/e:t!==t&&e!==e}function Gg(t,e){if(nx(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(let a=0;a<n.length;a++)if(!Object.prototype.hasOwnProperty.call(e,n[a])||!nx(t[n[a]],e[n[a]]))return!1;return!0}var gD={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},vD={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},yD={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},B3={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},bD={[JO]:yD,[QO]:B3};function rx(t){return eD(t)?B3:bD[t.$$typeof]||gD}var wD=Object.defineProperty,xD=Object.getOwnPropertyNames,ix=Object.getOwnPropertySymbols,_D=Object.getOwnPropertyDescriptor,SD=Object.getPrototypeOf,ax=Object.prototype;function Cv(t,e){if(typeof e!="string"){if(ax){const s=SD(e);s&&s!==ax&&Cv(t,s)}let n=xD(e);ix&&(n=n.concat(ix(e)));const r=rx(t),a=rx(e);for(let s=0;s<n.length;++s){const l=n[s];if(!vD[l]&&!(a&&a[l])&&!(r&&r[l])){const u=_D(e,l);try{wD(t,l,u)}catch{}}}}return t}var AD=Symbol.for("react-redux-context"),ND=typeof globalThis<"u"?globalThis:{};function ED(){if(!X.createContext)return{};const t=ND[AD]??=new Map;let e=t.get(X.createContext);return e||(e=X.createContext(null),t.set(X.createContext,e)),e}var I3=ED(),CD=[null,null];function TD(t,e,n){Em(()=>t(...e),n)}function jD(t,e,n,r,a,s){t.current=r,n.current=!1,a.current&&(a.current=null,s())}function kD(t,e,n,r,a,s,l,u,d,f,p){if(!t)return()=>{};let g=!1,y=null;const v=()=>{if(g||!u.current)return;const C=e.getState();let T,A;try{T=r(C,a.current)}catch(D){A=D,y=D}A||(y=null),T===s.current?l.current||f():(s.current=T,d.current=T,l.current=!0,p())};return n.onStateChange=v,n.trySubscribe(),v(),()=>{if(g=!0,n.tryUnsubscribe(),n.onStateChange=null,y)throw y}}function LD(t,e){return t===e}function RD(t,e,n,{pure:r,areStatesEqual:a=LD,areOwnPropsEqual:s=Gg,areStatePropsEqual:l=Gg,areMergedPropsEqual:u=Gg,forwardRef:d=!1,context:f=I3}={}){const p=f,g=aD(t),y=iD(e),v=lD(n),N=!!t;return T=>{const A=T.displayName||T.name||"Component",D=`Connect(${A})`,M={shouldHandleStateChanges:N,displayName:D,wrappedComponentName:A,WrappedComponent:T,initMapStateToProps:g,initMapDispatchToProps:y,initMergeProps:v,areStatesEqual:a,areStatePropsEqual:l,areOwnPropsEqual:s,areMergedPropsEqual:u};function B(W){const[R,L,$]=X.useMemo(()=>{const{reactReduxForwardedRef:qe,...Qe}=W;return[W.context,qe,Qe]},[W]),k=X.useMemo(()=>{let qe=p;return R?.Consumer,qe},[R,p]),I=X.useContext(k),J=!!W.store&&!!W.store.getState&&!!W.store.dispatch,ne=!!I&&!!I.store,we=J?W.store:I.store,re=ne?I.getServerState:we.getState,le=X.useMemo(()=>nD(we.dispatch,M),[we]),[ce,me]=X.useMemo(()=>{if(!N)return CD;const qe=M3(we,J?void 0:I.subscription),Qe=qe.notifyNestedSubs.bind(qe);return[qe,Qe]},[we,J,I]),Re=X.useMemo(()=>J?I:{...I,subscription:ce},[J,I,ce]),Y=X.useRef(void 0),P=X.useRef($),z=X.useRef(void 0),Z=X.useRef(!1),se=X.useRef(!1),ue=X.useRef(void 0);Em(()=>(se.current=!0,()=>{se.current=!1}),[]);const he=X.useMemo(()=>()=>z.current&&$===P.current?z.current:le(we.getState(),$),[we,$]),ve=X.useMemo(()=>Qe=>ce?kD(N,we,ce,le,P,Y,Z,se,z,me,Qe):()=>{},[ce]);TD(jD,[P,Y,Z,$,z,me]);let be;try{be=X.useSyncExternalStore(ve,he,re?()=>le(re(),$):he)}catch(qe){throw ue.current&&(qe.message+=`
The error may be correlated with this previous error:
${ue.current.stack}

`),qe}Em(()=>{ue.current=void 0,z.current=void 0,Y.current=be});const je=X.useMemo(()=>X.createElement(T,{...be,ref:L}),[L,T,be]);return X.useMemo(()=>N?X.createElement(k.Provider,{value:Re},je):je,[k,je,Re])}const V=X.memo(B);if(V.WrappedComponent=T,V.displayName=B.displayName=D,d){const R=X.forwardRef(function($,k){return X.createElement(V,{...$,reactReduxForwardedRef:k})});return R.displayName=D,R.WrappedComponent=T,Cv(R,T)}return Cv(V,T)}}var F3=RD;function OD(t){const{children:e,context:n,serverState:r,store:a}=t,s=X.useMemo(()=>{const d=M3(a);return{store:a,subscription:d,getServerState:r?()=>r:void 0}},[a,r]),l=X.useMemo(()=>a.getState(),[a]);Em(()=>{const{subscription:d}=s;return d.onStateChange=d.notifyNestedSubs,d.trySubscribe(),l!==a.getState()&&d.notifyNestedSubs(),()=>{d.tryUnsubscribe(),d.onStateChange=void 0}},[s,l]);const u=n||I3;return X.createElement(u.Provider,{value:s},e)}var DD=OD,PD="Invariant failed";function MD(t,e){throw new Error(PD)}var Gs=function(e){var n=e.top,r=e.right,a=e.bottom,s=e.left,l=r-s,u=a-n,d={top:n,right:r,bottom:a,left:s,width:l,height:u,x:s,y:n,center:{x:(r+s)/2,y:(a+n)/2}};return d},ky=function(e,n){return{top:e.top-n.top,left:e.left-n.left,bottom:e.bottom+n.bottom,right:e.right+n.right}},sx=function(e,n){return{top:e.top+n.top,left:e.left+n.left,bottom:e.bottom-n.bottom,right:e.right-n.right}},BD=function(e,n){return{top:e.top+n.y,left:e.left+n.x,bottom:e.bottom+n.y,right:e.right+n.x}},Wg={top:0,right:0,bottom:0,left:0},Ly=function(e){var n=e.borderBox,r=e.margin,a=r===void 0?Wg:r,s=e.border,l=s===void 0?Wg:s,u=e.padding,d=u===void 0?Wg:u,f=Gs(ky(n,a)),p=Gs(sx(n,l)),g=Gs(sx(p,d));return{marginBox:f,borderBox:Gs(n),paddingBox:p,contentBox:g,margin:a,border:l,padding:d}},rs=function(e){var n=e.slice(0,-2),r=e.slice(-2);if(r!=="px")return 0;var a=Number(n);return isNaN(a)&&MD(),a},ID=function(){return{x:window.pageXOffset,y:window.pageYOffset}},Cm=function(e,n){var r=e.borderBox,a=e.border,s=e.margin,l=e.padding,u=BD(r,n);return Ly({borderBox:u,border:a,margin:s,padding:l})},Tm=function(e,n){return n===void 0&&(n=ID()),Cm(e,n)},U3=function(e,n){var r={top:rs(n.marginTop),right:rs(n.marginRight),bottom:rs(n.marginBottom),left:rs(n.marginLeft)},a={top:rs(n.paddingTop),right:rs(n.paddingRight),bottom:rs(n.paddingBottom),left:rs(n.paddingLeft)},s={top:rs(n.borderTopWidth),right:rs(n.borderRightWidth),bottom:rs(n.borderBottomWidth),left:rs(n.borderLeftWidth)};return Ly({borderBox:e,margin:r,padding:a,border:s})},z3=function(e){var n=e.getBoundingClientRect(),r=window.getComputedStyle(e);return U3(n,r)},ph=function(e){var n=[],r=null,a=function(){for(var l=arguments.length,u=new Array(l),d=0;d<l;d++)u[d]=arguments[d];n=u,!r&&(r=requestAnimationFrame(function(){r=null,e.apply(void 0,n)}))};return a.cancel=function(){r&&(cancelAnimationFrame(r),r=null)},a};function jm(){return jm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jm.apply(null,arguments)}function q3(t,e){}q3.bind(null,"warn");q3.bind(null,"error");function ic(){}function FD(t,e){return{...t,...e}}function as(t,e,n){const r=e.map(a=>{const s=FD(n,a.options);return t.addEventListener(a.eventName,a.fn,s),function(){t.removeEventListener(a.eventName,a.fn,s)}});return function(){r.forEach(s=>{s()})}}const UD="Invariant failed";class km extends Error{}km.prototype.toString=function(){return this.message};function at(t,e){throw new km(UD)}class zD extends Ar.Component{constructor(...e){super(...e),this.callbacks=null,this.unbind=ic,this.onWindowError=n=>{const r=this.getCallbacks();r.isDragging()&&r.tryAbort(),n.error instanceof km&&n.preventDefault()},this.getCallbacks=()=>{if(!this.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return this.callbacks},this.setCallbacks=n=>{this.callbacks=n}}componentDidMount(){this.unbind=as(window,[{eventName:"error",fn:this.onWindowError}])}componentDidCatch(e){if(e instanceof km){this.setState({});return}throw e}componentWillUnmount(){this.unbind()}render(){return this.props.children(this.setCallbacks)}}const qD=`
  Press space bar to start a drag.
  When dragging you can use the arrow keys to move the item around and escape to cancel.
  Some screen readers may require you to be in focus mode or to use your pass through key
`,Lm=t=>t+1,VD=t=>`
  You have lifted an item in position ${Lm(t.source.index)}
`,V3=(t,e)=>{const n=t.droppableId===e.droppableId,r=Lm(t.index),a=Lm(e.index);return n?`
      You have moved the item from position ${r}
      to position ${a}
    `:`
    You have moved the item from position ${r}
    in list ${t.droppableId}
    to list ${e.droppableId}
    in position ${a}
  `},H3=(t,e,n)=>e.droppableId===n.droppableId?`
      The item ${t}
      has been combined with ${n.draggableId}`:`
      The item ${t}
      in list ${e.droppableId}
      has been combined with ${n.draggableId}
      in list ${n.droppableId}
    `,HD=t=>{const e=t.destination;if(e)return V3(t.source,e);const n=t.combine;return n?H3(t.draggableId,t.source,n):"You are over an area that cannot be dropped on"},ox=t=>`
  The item has returned to its starting position
  of ${Lm(t.index)}
`,$D=t=>{if(t.reason==="CANCEL")return`
      Movement cancelled.
      ${ox(t.source)}
    `;const e=t.destination,n=t.combine;return e?`
      You have dropped the item.
      ${V3(t.source,e)}
    `:n?`
      You have dropped the item.
      ${H3(t.draggableId,t.source,n)}
    `:`
    The item has been dropped while not over a drop area.
    ${ox(t.source)}
  `},om={dragHandleUsageInstructions:qD,onDragStart:VD,onDragUpdate:HD,onDragEnd:$D};function GD(t,e){return!!(t===e||Number.isNaN(t)&&Number.isNaN(e))}function $3(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(!GD(t[n],e[n]))return!1;return!0}function gn(t,e){const n=X.useState(()=>({inputs:e,result:t()}))[0],r=X.useRef(!0),a=X.useRef(n),l=r.current||!!(e&&a.current.inputs&&$3(e,a.current.inputs))?a.current:{inputs:e,result:t()};return X.useEffect(()=>{r.current=!1,a.current=l},[l]),l.result}function Ct(t,e){return gn(()=>t,e)}const oi={x:0,y:0},wi=(t,e)=>({x:t.x+e.x,y:t.y+e.y}),Oa=(t,e)=>({x:t.x-e.x,y:t.y-e.y}),ac=(t,e)=>t.x===e.x&&t.y===e.y,Wd=t=>({x:t.x!==0?-t.x:0,y:t.y!==0?-t.y:0}),du=(t,e,n=0)=>t==="x"?{x:e,y:n}:{x:n,y:e},mh=(t,e)=>Math.sqrt((e.x-t.x)**2+(e.y-t.y)**2),lx=(t,e)=>Math.min(...e.map(n=>mh(t,n))),G3=t=>e=>({x:t(e.x),y:t(e.y)});var WD=(t,e)=>{const n=Gs({top:Math.max(e.top,t.top),right:Math.min(e.right,t.right),bottom:Math.min(e.bottom,t.bottom),left:Math.max(e.left,t.left)});return n.width<=0||n.height<=0?null:n};const Oh=(t,e)=>({top:t.top+e.y,left:t.left+e.x,bottom:t.bottom+e.y,right:t.right+e.x}),cx=t=>[{x:t.left,y:t.top},{x:t.right,y:t.top},{x:t.left,y:t.bottom},{x:t.right,y:t.bottom}],YD={top:0,right:0,bottom:0,left:0},KD=(t,e)=>e?Oh(t,e.scroll.diff.displacement):t,XD=(t,e,n)=>n&&n.increasedBy?{...t,[e.end]:t[e.end]+n.increasedBy[e.line]}:t,JD=(t,e)=>e&&e.shouldClipSubject?WD(e.pageMarginBox,t):Gs(t);var Fd=({page:t,withPlaceholder:e,axis:n,frame:r})=>{const a=KD(t.marginBox,r),s=XD(a,n,e),l=JD(s,r);return{page:t,withPlaceholder:e,active:l}},Ry=(t,e)=>{t.frame||at();const n=t.frame,r=Oa(e,n.scroll.initial),a=Wd(r),s={...n,scroll:{initial:n.scroll.initial,current:e,diff:{value:r,displacement:a},max:n.scroll.max}},l=Fd({page:t.subject.page,withPlaceholder:t.subject.withPlaceholder,axis:t.axis,frame:s});return{...t,frame:s,subject:l}};function si(t,e=$3){let n=null;function r(...a){if(n&&n.lastThis===this&&e(a,n.lastArgs))return n.lastResult;const s=t.apply(this,a);return n={lastResult:s,lastArgs:a,lastThis:this},s}return r.clear=function(){n=null},r}const W3=si(t=>t.reduce((e,n)=>(e[n.descriptor.id]=n,e),{})),Y3=si(t=>t.reduce((e,n)=>(e[n.descriptor.id]=n,e),{})),e0=si(t=>Object.values(t)),QD=si(t=>Object.values(t));var Yd=si((t,e)=>QD(e).filter(r=>t===r.descriptor.droppableId).sort((r,a)=>r.descriptor.index-a.descriptor.index));function Oy(t){return t.at&&t.at.type==="REORDER"?t.at.destination:null}function t0(t){return t.at&&t.at.type==="COMBINE"?t.at.combine:null}var n0=si((t,e)=>e.filter(n=>n.descriptor.id!==t.descriptor.id)),ZD=({isMovingForward:t,draggable:e,destination:n,insideDestination:r,previousImpact:a})=>{if(!n.isCombineEnabled||!Oy(a))return null;function l(v){const N={type:"COMBINE",combine:{draggableId:v,droppableId:n.descriptor.id}};return{...a,at:N}}const u=a.displaced.all,d=u.length?u[0]:null;if(t)return d?l(d):null;const f=n0(e,r);if(!d){if(!f.length)return null;const v=f[f.length-1];return l(v.descriptor.id)}const p=f.findIndex(v=>v.descriptor.id===d);p===-1&&at();const g=p-1;if(g<0)return null;const y=f[g];return l(y.descriptor.id)},Kd=(t,e)=>t.descriptor.droppableId===e.descriptor.id;const K3={point:oi,value:0},gh={invisible:{},visible:{},all:[]},e7={displaced:gh,displacedBy:K3,at:null};var os=(t,e)=>n=>t<=n&&n<=e,X3=t=>{const e=os(t.top,t.bottom),n=os(t.left,t.right);return r=>{if(e(r.top)&&e(r.bottom)&&n(r.left)&&n(r.right))return!0;const s=e(r.top)||e(r.bottom),l=n(r.left)||n(r.right);if(s&&l)return!0;const d=r.top<t.top&&r.bottom>t.bottom,f=r.left<t.left&&r.right>t.right;return d&&f?!0:d&&l||f&&s}},t7=t=>{const e=os(t.top,t.bottom),n=os(t.left,t.right);return r=>e(r.top)&&e(r.bottom)&&n(r.left)&&n(r.right)};const Dy={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},J3={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"};var n7=t=>e=>{const n=os(e.top,e.bottom),r=os(e.left,e.right);return a=>t===Dy?n(a.top)&&n(a.bottom):r(a.left)&&r(a.right)};const r7=(t,e)=>{const n=e.frame?e.frame.scroll.diff.displacement:oi;return Oh(t,n)},i7=(t,e,n)=>e.subject.active?n(e.subject.active)(t):!1,a7=(t,e,n)=>n(e)(t),Py=({target:t,destination:e,viewport:n,withDroppableDisplacement:r,isVisibleThroughFrameFn:a})=>{const s=r?r7(t,e):t;return i7(s,e,a)&&a7(s,n,a)},s7=t=>Py({...t,isVisibleThroughFrameFn:X3}),Q3=t=>Py({...t,isVisibleThroughFrameFn:t7}),o7=t=>Py({...t,isVisibleThroughFrameFn:n7(t.destination.axis)}),l7=(t,e,n)=>{if(typeof n=="boolean")return n;if(!e)return!0;const{invisible:r,visible:a}=e;if(r[t])return!1;const s=a[t];return s?s.shouldAnimate:!0};function c7(t,e){const n=t.page.marginBox,r={top:e.point.y,right:0,bottom:0,left:e.point.x};return Gs(ky(n,r))}function vh({afterDragging:t,destination:e,displacedBy:n,viewport:r,forceShouldAnimate:a,last:s}){return t.reduce(function(u,d){const f=c7(d,n),p=d.descriptor.id;if(u.all.push(p),!s7({target:f,destination:e,viewport:r,withDroppableDisplacement:!0}))return u.invisible[d.descriptor.id]=!0,u;const y=l7(p,s,a),v={draggableId:p,shouldAnimate:y};return u.visible[p]=v,u},{all:[],visible:{},invisible:{}})}function u7(t,e){if(!t.length)return 0;const n=t[t.length-1].descriptor.index;return e.inHomeList?n:n+1}function ux({insideDestination:t,inHomeList:e,displacedBy:n,destination:r}){const a=u7(t,{inHomeList:e});return{displaced:gh,displacedBy:n,at:{type:"REORDER",destination:{droppableId:r.descriptor.id,index:a}}}}function Rm({draggable:t,insideDestination:e,destination:n,viewport:r,displacedBy:a,last:s,index:l,forceShouldAnimate:u}){const d=Kd(t,n);if(l==null)return ux({insideDestination:e,inHomeList:d,displacedBy:a,destination:n});const f=e.find(N=>N.descriptor.index===l);if(!f)return ux({insideDestination:e,inHomeList:d,displacedBy:a,destination:n});const p=n0(t,e),g=e.indexOf(f),y=p.slice(g);return{displaced:vh({afterDragging:y,destination:n,displacedBy:a,last:s,viewport:r.frame,forceShouldAnimate:u}),displacedBy:a,at:{type:"REORDER",destination:{droppableId:n.descriptor.id,index:l}}}}function oc(t,e){return!!e.effected[t]}var d7=({isMovingForward:t,destination:e,draggables:n,combine:r,afterCritical:a})=>{if(!e.isCombineEnabled)return null;const s=r.draggableId,u=n[s].descriptor.index;return oc(s,a)?t?u:u-1:t?u+1:u},f7=({isMovingForward:t,isInHomeList:e,insideDestination:n,location:r})=>{if(!n.length)return null;const a=r.index,s=t?a+1:a-1,l=n[0].descriptor.index,u=n[n.length-1].descriptor.index,d=e?u:u+1;return s<l||s>d?null:s},h7=({isMovingForward:t,isInHomeList:e,draggable:n,draggables:r,destination:a,insideDestination:s,previousImpact:l,viewport:u,afterCritical:d})=>{const f=l.at;if(f||at(),f.type==="REORDER"){const g=f7({isMovingForward:t,isInHomeList:e,location:f.destination,insideDestination:s});return g==null?null:Rm({draggable:n,insideDestination:s,destination:a,viewport:u,last:l.displaced,displacedBy:l.displacedBy,index:g})}const p=d7({isMovingForward:t,destination:a,displaced:l.displaced,draggables:r,combine:f.combine,afterCritical:d});return p==null?null:Rm({draggable:n,insideDestination:s,destination:a,viewport:u,last:l.displaced,displacedBy:l.displacedBy,index:p})},p7=({displaced:t,afterCritical:e,combineWith:n,displacedBy:r})=>{const a=!!(t.visible[n]||t.invisible[n]);return oc(n,e)?a?oi:Wd(r.point):a?r.point:oi},m7=({afterCritical:t,impact:e,draggables:n})=>{const r=t0(e);r||at();const a=r.draggableId,s=n[a].page.borderBox.center,l=p7({displaced:e.displaced,afterCritical:t,combineWith:a,displacedBy:e.displacedBy});return wi(s,l)};const Z3=(t,e)=>e.margin[t.start]+e.borderBox[t.size]/2,g7=(t,e)=>e.margin[t.end]+e.borderBox[t.size]/2,My=(t,e,n)=>e[t.crossAxisStart]+n.margin[t.crossAxisStart]+n.borderBox[t.crossAxisSize]/2,dx=({axis:t,moveRelativeTo:e,isMoving:n})=>du(t.line,e.marginBox[t.end]+Z3(t,n),My(t,e.marginBox,n)),fx=({axis:t,moveRelativeTo:e,isMoving:n})=>du(t.line,e.marginBox[t.start]-g7(t,n),My(t,e.marginBox,n)),v7=({axis:t,moveInto:e,isMoving:n})=>du(t.line,e.contentBox[t.start]+Z3(t,n),My(t,e.contentBox,n));var y7=({impact:t,draggable:e,draggables:n,droppable:r,afterCritical:a})=>{const s=Yd(r.descriptor.id,n),l=e.page,u=r.axis;if(!s.length)return v7({axis:u,moveInto:r.page,isMoving:l});const{displaced:d,displacedBy:f}=t,p=d.all[0];if(p){const y=n[p];if(oc(p,a))return fx({axis:u,moveRelativeTo:y.page,isMoving:l});const v=Cm(y.page,f.point);return fx({axis:u,moveRelativeTo:v,isMoving:l})}const g=s[s.length-1];if(g.descriptor.id===e.descriptor.id)return l.borderBox.center;if(oc(g.descriptor.id,a)){const y=Cm(g.page,Wd(a.displacedBy.point));return dx({axis:u,moveRelativeTo:y,isMoving:l})}return dx({axis:u,moveRelativeTo:g.page,isMoving:l})},Tv=(t,e)=>{const n=t.frame;return n?wi(e,n.scroll.diff.displacement):e};const b7=({impact:t,draggable:e,droppable:n,draggables:r,afterCritical:a})=>{const s=e.page.borderBox.center,l=t.at;return!n||!l?s:l.type==="REORDER"?y7({impact:t,draggable:e,draggables:r,droppable:n,afterCritical:a}):m7({impact:t,draggables:r,afterCritical:a})};var r0=t=>{const e=b7(t),n=t.droppable;return n?Tv(n,e):e},eA=(t,e)=>{const n=Oa(e,t.scroll.initial),r=Wd(n);return{frame:Gs({top:e.y,bottom:e.y+t.frame.height,left:e.x,right:e.x+t.frame.width}),scroll:{initial:t.scroll.initial,max:t.scroll.max,current:e,diff:{value:n,displacement:r}}}};function hx(t,e){return t.map(n=>e[n])}function w7(t,e){for(let n=0;n<e.length;n++){const r=e[n].visible[t];if(r)return r}return null}var x7=({impact:t,viewport:e,destination:n,draggables:r,maxScrollChange:a})=>{const s=eA(e,wi(e.scroll.current,a)),l=n.frame?Ry(n,wi(n.frame.scroll.current,a)):n,u=t.displaced,d=vh({afterDragging:hx(u.all,r),destination:n,displacedBy:t.displacedBy,viewport:s.frame,last:u,forceShouldAnimate:!1}),f=vh({afterDragging:hx(u.all,r),destination:l,displacedBy:t.displacedBy,viewport:e.frame,last:u,forceShouldAnimate:!1}),p={},g={},y=[u,d,f];return u.all.forEach(N=>{const C=w7(N,y);if(C){g[N]=C;return}p[N]=!0}),{...t,displaced:{all:u.all,invisible:p,visible:g}}},_7=(t,e)=>wi(t.scroll.diff.displacement,e),By=({pageBorderBoxCenter:t,draggable:e,viewport:n})=>{const r=_7(n,t),a=Oa(r,e.page.borderBox.center);return wi(e.client.borderBox.center,a)},tA=({draggable:t,destination:e,newPageBorderBoxCenter:n,viewport:r,withDroppableDisplacement:a,onlyOnMainAxis:s=!1})=>{const l=Oa(n,t.page.borderBox.center),d={target:Oh(t.page.borderBox,l),destination:e,withDroppableDisplacement:a,viewport:r};return s?o7(d):Q3(d)},S7=({isMovingForward:t,draggable:e,destination:n,draggables:r,previousImpact:a,viewport:s,previousPageBorderBoxCenter:l,previousClientSelection:u,afterCritical:d})=>{if(!n.isEnabled)return null;const f=Yd(n.descriptor.id,r),p=Kd(e,n),g=ZD({isMovingForward:t,draggable:e,destination:n,insideDestination:f,previousImpact:a})||h7({isMovingForward:t,isInHomeList:p,draggable:e,draggables:r,destination:n,insideDestination:f,previousImpact:a,viewport:s,afterCritical:d});if(!g)return null;const y=r0({impact:g,draggable:e,droppable:n,draggables:r,afterCritical:d});if(tA({draggable:e,destination:n,newPageBorderBoxCenter:y,viewport:s.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0}))return{clientSelection:By({pageBorderBoxCenter:y,draggable:e,viewport:s}),impact:g,scrollJumpRequest:null};const N=Oa(y,l),C=x7({impact:g,viewport:s,destination:n,draggables:r,maxScrollChange:N});return{clientSelection:u,impact:C,scrollJumpRequest:N}};const qi=t=>{const e=t.subject.active;return e||at(),e};var A7=({isMovingForward:t,pageBorderBoxCenter:e,source:n,droppables:r,viewport:a})=>{const s=n.subject.active;if(!s)return null;const l=n.axis,u=os(s[l.start],s[l.end]),d=e0(r).filter(p=>p!==n).filter(p=>p.isEnabled).filter(p=>!!p.subject.active).filter(p=>X3(a.frame)(qi(p))).filter(p=>{const g=qi(p);return t?s[l.crossAxisEnd]<g[l.crossAxisEnd]:g[l.crossAxisStart]<s[l.crossAxisStart]}).filter(p=>{const g=qi(p),y=os(g[l.start],g[l.end]);return u(g[l.start])||u(g[l.end])||y(s[l.start])||y(s[l.end])}).sort((p,g)=>{const y=qi(p)[l.crossAxisStart],v=qi(g)[l.crossAxisStart];return t?y-v:v-y}).filter((p,g,y)=>qi(p)[l.crossAxisStart]===qi(y[0])[l.crossAxisStart]);if(!d.length)return null;if(d.length===1)return d[0];const f=d.filter(p=>os(qi(p)[l.start],qi(p)[l.end])(e[l.line]));return f.length===1?f[0]:f.length>1?f.sort((p,g)=>qi(p)[l.start]-qi(g)[l.start])[0]:d.sort((p,g)=>{const y=lx(e,cx(qi(p))),v=lx(e,cx(qi(g)));return y!==v?y-v:qi(p)[l.start]-qi(g)[l.start]})[0]};const px=(t,e)=>{const n=t.page.borderBox.center;return oc(t.descriptor.id,e)?Oa(n,e.displacedBy.point):n},N7=(t,e)=>{const n=t.page.borderBox;return oc(t.descriptor.id,e)?Oh(n,Wd(e.displacedBy.point)):n};var E7=({pageBorderBoxCenter:t,viewport:e,destination:n,insideDestination:r,afterCritical:a})=>r.filter(l=>Q3({target:N7(l,a),destination:n,viewport:e.frame,withDroppableDisplacement:!0})).sort((l,u)=>{const d=mh(t,Tv(n,px(l,a))),f=mh(t,Tv(n,px(u,a)));return d<f?-1:f<d?1:l.descriptor.index-u.descriptor.index})[0]||null,Dh=si(function(e,n){const r=n[e.line];return{value:r,point:du(e.line,r)}});const C7=(t,e,n)=>{const r=t.axis;if(t.descriptor.mode==="virtual")return du(r.line,e[r.line]);const a=t.subject.page.contentBox[r.size],d=Yd(t.descriptor.id,n).reduce((f,p)=>f+p.client.marginBox[r.size],0)+e[r.line]-a;return d<=0?null:du(r.line,d)},nA=(t,e)=>({...t,scroll:{...t.scroll,max:e}}),rA=(t,e,n)=>{const r=t.frame;Kd(e,t)&&at(),t.subject.withPlaceholder&&at();const a=Dh(t.axis,e.displaceBy).point,s=C7(t,a,n),l={placeholderSize:a,increasedBy:s,oldFrameMaxScroll:t.frame?t.frame.scroll.max:null};if(!r){const p=Fd({page:t.subject.page,withPlaceholder:l,axis:t.axis,frame:t.frame});return{...t,subject:p}}const u=s?wi(r.scroll.max,s):r.scroll.max,d=nA(r,u),f=Fd({page:t.subject.page,withPlaceholder:l,axis:t.axis,frame:d});return{...t,subject:f,frame:d}},T7=t=>{const e=t.subject.withPlaceholder;e||at();const n=t.frame;if(!n){const l=Fd({page:t.subject.page,axis:t.axis,frame:null,withPlaceholder:null});return{...t,subject:l}}const r=e.oldFrameMaxScroll;r||at();const a=nA(n,r),s=Fd({page:t.subject.page,axis:t.axis,frame:a,withPlaceholder:null});return{...t,subject:s,frame:a}};var j7=({previousPageBorderBoxCenter:t,moveRelativeTo:e,insideDestination:n,draggable:r,draggables:a,destination:s,viewport:l,afterCritical:u})=>{if(!e){if(n.length)return null;const g={displaced:gh,displacedBy:K3,at:{type:"REORDER",destination:{droppableId:s.descriptor.id,index:0}}},y=r0({impact:g,draggable:r,droppable:s,draggables:a,afterCritical:u}),v=Kd(r,s)?s:rA(s,r,a);return tA({draggable:r,destination:v,newPageBorderBoxCenter:y,viewport:l.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0})?g:null}const d=t[s.axis.line]<=e.page.borderBox.center[s.axis.line],f=(()=>{const g=e.descriptor.index;return e.descriptor.id===r.descriptor.id||d?g:g+1})(),p=Dh(s.axis,r.displaceBy);return Rm({draggable:r,insideDestination:n,destination:s,viewport:l,displacedBy:p,last:gh,index:f})},k7=({isMovingForward:t,previousPageBorderBoxCenter:e,draggable:n,isOver:r,draggables:a,droppables:s,viewport:l,afterCritical:u})=>{const d=A7({isMovingForward:t,pageBorderBoxCenter:e,source:r,droppables:s,viewport:l});if(!d)return null;const f=Yd(d.descriptor.id,a),p=E7({pageBorderBoxCenter:e,viewport:l,destination:d,insideDestination:f,afterCritical:u}),g=j7({previousPageBorderBoxCenter:e,destination:d,draggable:n,draggables:a,moveRelativeTo:p,insideDestination:f,viewport:l,afterCritical:u});if(!g)return null;const y=r0({impact:g,draggable:n,droppable:d,draggables:a,afterCritical:u});return{clientSelection:By({pageBorderBoxCenter:y,draggable:n,viewport:l}),impact:g,scrollJumpRequest:null}},Pa=t=>{const e=t.at;return e?e.type==="REORDER"?e.destination.droppableId:e.combine.droppableId:null};const L7=(t,e)=>{const n=Pa(t);return n?e[n]:null};var R7=({state:t,type:e})=>{const n=L7(t.impact,t.dimensions.droppables),r=!!n,a=t.dimensions.droppables[t.critical.droppable.id],s=n||a,l=s.axis.direction,u=l==="vertical"&&(e==="MOVE_UP"||e==="MOVE_DOWN")||l==="horizontal"&&(e==="MOVE_LEFT"||e==="MOVE_RIGHT");if(u&&!r)return null;const d=e==="MOVE_DOWN"||e==="MOVE_RIGHT",f=t.dimensions.draggables[t.critical.draggable.id],p=t.current.page.borderBoxCenter,{draggables:g,droppables:y}=t.dimensions;return u?S7({isMovingForward:d,previousPageBorderBoxCenter:p,draggable:f,destination:s,draggables:g,viewport:t.viewport,previousClientSelection:t.current.client.selection,previousImpact:t.impact,afterCritical:t.afterCritical}):k7({isMovingForward:d,previousPageBorderBoxCenter:p,draggable:f,isOver:s,draggables:g,droppables:y,viewport:t.viewport,afterCritical:t.afterCritical})};function Qc(t){return t.phase==="DRAGGING"||t.phase==="COLLECTING"}function iA(t){const e=os(t.top,t.bottom),n=os(t.left,t.right);return function(a){return e(a.y)&&n(a.x)}}function O7(t,e){return t.left<e.right&&t.right>e.left&&t.top<e.bottom&&t.bottom>e.top}function D7({pageBorderBox:t,draggable:e,candidates:n}){const r=e.page.borderBox.center,a=n.map(s=>{const l=s.axis,u=du(s.axis.line,t.center[l.line],s.page.borderBox.center[l.crossAxisLine]);return{id:s.descriptor.id,distance:mh(r,u)}}).sort((s,l)=>l.distance-s.distance);return a[0]?a[0].id:null}function P7({pageBorderBox:t,draggable:e,droppables:n}){const r=e0(n).filter(a=>{if(!a.isEnabled)return!1;const s=a.subject.active;if(!s||!O7(t,s))return!1;if(iA(s)(t.center))return!0;const l=a.axis,u=s.center[l.crossAxisLine],d=t[l.crossAxisStart],f=t[l.crossAxisEnd],p=os(s[l.crossAxisStart],s[l.crossAxisEnd]),g=p(d),y=p(f);return!g&&!y?!0:g?d<u:f>u});return r.length?r.length===1?r[0].descriptor.id:D7({pageBorderBox:t,draggable:e,candidates:r}):null}const aA=(t,e)=>Gs(Oh(t,e));var M7=(t,e)=>{const n=t.frame;return n?aA(e,n.scroll.diff.value):e};function sA({displaced:t,id:e}){return!!(t.visible[e]||t.invisible[e])}function B7({draggable:t,closest:e,inHomeList:n}){return e?n&&e.descriptor.index>t.descriptor.index?e.descriptor.index-1:e.descriptor.index:null}var I7=({pageBorderBoxWithDroppableScroll:t,draggable:e,destination:n,insideDestination:r,last:a,viewport:s,afterCritical:l})=>{const u=n.axis,d=Dh(n.axis,e.displaceBy),f=d.value,p=t[u.start],g=t[u.end],v=n0(e,r).find(C=>{const T=C.descriptor.id,A=C.page.borderBox.center[u.line],D=oc(T,l),M=sA({displaced:a,id:T});return D?M?g<=A:p<A-f:M?g<=A+f:p<A})||null,N=B7({draggable:e,closest:v,inHomeList:Kd(e,n)});return Rm({draggable:e,insideDestination:r,destination:n,viewport:s,last:a,displacedBy:d,index:N})};const F7=4;var U7=({draggable:t,pageBorderBoxWithDroppableScroll:e,previousImpact:n,destination:r,insideDestination:a,afterCritical:s})=>{if(!r.isCombineEnabled)return null;const l=r.axis,u=Dh(r.axis,t.displaceBy),d=u.value,f=e[l.start],p=e[l.end],y=n0(t,a).find(N=>{const C=N.descriptor.id,T=N.page.borderBox,D=T[l.size]/F7,M=oc(C,s),B=sA({displaced:n.displaced,id:C});return M?B?p>T[l.start]+D&&p<T[l.end]-D:f>T[l.start]-d+D&&f<T[l.end]-d-D:B?p>T[l.start]+d+D&&p<T[l.end]+d-D:f>T[l.start]+D&&f<T[l.end]-D});return y?{displacedBy:u,displaced:n.displaced,at:{type:"COMBINE",combine:{draggableId:y.descriptor.id,droppableId:r.descriptor.id}}}:null},oA=({pageOffset:t,draggable:e,draggables:n,droppables:r,previousImpact:a,viewport:s,afterCritical:l})=>{const u=aA(e.page.borderBox,t),d=P7({pageBorderBox:u,draggable:e,droppables:r});if(!d)return e7;const f=r[d],p=Yd(f.descriptor.id,n),g=M7(f,u);return U7({pageBorderBoxWithDroppableScroll:g,draggable:e,previousImpact:a,destination:f,insideDestination:p,afterCritical:l})||I7({pageBorderBoxWithDroppableScroll:g,draggable:e,destination:f,insideDestination:p,last:a.displaced,viewport:s,afterCritical:l})},Iy=(t,e)=>({...t,[e.descriptor.id]:e});const z7=({previousImpact:t,impact:e,droppables:n})=>{const r=Pa(t),a=Pa(e);if(!r||r===a)return n;const s=n[r];if(!s.subject.withPlaceholder)return n;const l=T7(s);return Iy(n,l)};var q7=({draggable:t,draggables:e,droppables:n,previousImpact:r,impact:a})=>{const s=z7({previousImpact:r,impact:a,droppables:n}),l=Pa(a);if(!l)return s;const u=n[l];if(Kd(t,u)||u.subject.withPlaceholder)return s;const d=rA(u,t,e);return Iy(s,d)},Jf=({state:t,clientSelection:e,dimensions:n,viewport:r,impact:a,scrollJumpRequest:s})=>{const l=r||t.viewport,u=n||t.dimensions,d=e||t.current.client.selection,f=Oa(d,t.initial.client.selection),p={offset:f,selection:d,borderBoxCenter:wi(t.initial.client.borderBoxCenter,f)},g={selection:wi(p.selection,l.scroll.current),borderBoxCenter:wi(p.borderBoxCenter,l.scroll.current),offset:wi(p.offset,l.scroll.diff.value)},y={client:p,page:g};if(t.phase==="COLLECTING")return{...t,dimensions:u,viewport:l,current:y};const v=u.draggables[t.critical.draggable.id],N=a||oA({pageOffset:g.offset,draggable:v,draggables:u.draggables,droppables:u.droppables,previousImpact:t.impact,viewport:l,afterCritical:t.afterCritical}),C=q7({draggable:v,impact:N,previousImpact:t.impact,draggables:u.draggables,droppables:u.droppables});return{...t,current:y,dimensions:{draggables:u.draggables,droppables:C},impact:N,viewport:l,scrollJumpRequest:s||null,forceShouldAnimate:s?!1:null}};function V7(t,e){return t.map(n=>e[n])}var lA=({impact:t,viewport:e,draggables:n,destination:r,forceShouldAnimate:a})=>{const s=t.displaced,l=V7(s.all,n),u=vh({afterDragging:l,destination:r,displacedBy:t.displacedBy,viewport:e.frame,forceShouldAnimate:a,last:s});return{...t,displaced:u}},cA=({impact:t,draggable:e,droppable:n,draggables:r,viewport:a,afterCritical:s})=>{const l=r0({impact:t,draggable:e,draggables:r,droppable:n,afterCritical:s});return By({pageBorderBoxCenter:l,draggable:e,viewport:a})},uA=({state:t,dimensions:e,viewport:n})=>{t.movementMode!=="SNAP"&&at();const r=t.impact,a=n||t.viewport,s=e||t.dimensions,{draggables:l,droppables:u}=s,d=l[t.critical.draggable.id],f=Pa(r);f||at();const p=u[f],g=lA({impact:r,viewport:a,destination:p,draggables:l}),y=cA({impact:g,draggable:d,droppable:p,draggables:l,viewport:a,afterCritical:t.afterCritical});return Jf({impact:g,clientSelection:y,state:t,dimensions:s,viewport:a})},H7=t=>({index:t.index,droppableId:t.droppableId}),dA=({draggable:t,home:e,draggables:n,viewport:r})=>{const a=Dh(e.axis,t.displaceBy),s=Yd(e.descriptor.id,n),l=s.indexOf(t);l===-1&&at();const u=s.slice(l+1),d=u.reduce((y,v)=>(y[v.descriptor.id]=!0,y),{}),f={inVirtualList:e.descriptor.mode==="virtual",displacedBy:a,effected:d};return{impact:{displaced:vh({afterDragging:u,destination:e,displacedBy:a,last:null,viewport:r.frame,forceShouldAnimate:!1}),displacedBy:a,at:{type:"REORDER",destination:H7(t.descriptor)}},afterCritical:f}},$7=(t,e)=>({draggables:t.draggables,droppables:Iy(t.droppables,e)}),G7=({draggable:t,offset:e,initialWindowScroll:n})=>{const r=Cm(t.client,e),a=Tm(r,n);return{...t,placeholder:{...t.placeholder,client:r},client:r,page:a}},W7=t=>{const e=t.frame;return e||at(),e},Y7=({additions:t,updatedDroppables:e,viewport:n})=>{const r=n.scroll.diff.value;return t.map(a=>{const s=a.descriptor.droppableId,l=e[s],d=W7(l).scroll.diff.value,f=wi(r,d);return G7({draggable:a,offset:f,initialWindowScroll:n.scroll.initial})})},K7=({state:t,published:e})=>{const n=e.modified.map(A=>{const D=t.dimensions.droppables[A.droppableId];return Ry(D,A.scroll)}),r={...t.dimensions.droppables,...W3(n)},a=Y3(Y7({additions:e.additions,updatedDroppables:r,viewport:t.viewport})),s={...t.dimensions.draggables,...a};e.removals.forEach(A=>{delete s[A]});const l={droppables:r,draggables:s},u=Pa(t.impact),d=u?l.droppables[u]:null,f=l.draggables[t.critical.draggable.id],p=l.droppables[t.critical.droppable.id],{impact:g,afterCritical:y}=dA({draggable:f,home:p,draggables:s,viewport:t.viewport}),v=d&&d.isCombineEnabled?t.impact:g,N=oA({pageOffset:t.current.page.offset,draggable:l.draggables[t.critical.draggable.id],draggables:l.draggables,droppables:l.droppables,previousImpact:v,viewport:t.viewport,afterCritical:y}),C={...t,phase:"DRAGGING",impact:N,onLiftImpact:g,dimensions:l,afterCritical:y,forceShouldAnimate:!1};return t.phase==="COLLECTING"?C:{...C,phase:"DROP_PENDING",reason:t.reason,isWaiting:!1}};const jv=t=>t.movementMode==="SNAP",Yg=(t,e,n)=>{const r=$7(t.dimensions,e);return!jv(t)||n?Jf({state:t,dimensions:r}):uA({state:t,dimensions:r})};function Kg(t){return t.isDragging&&t.movementMode==="SNAP"?{...t,scrollJumpRequest:null}:t}const mx={phase:"IDLE",completed:null,shouldFlush:!1};var X7=(t=mx,e)=>{if(e.type==="FLUSH")return{...mx,shouldFlush:!0};if(e.type==="INITIAL_PUBLISH"){t.phase!=="IDLE"&&at();const{critical:n,clientSelection:r,viewport:a,dimensions:s,movementMode:l}=e.payload,u=s.draggables[n.draggable.id],d=s.droppables[n.droppable.id],f={selection:r,borderBoxCenter:u.client.borderBox.center,offset:oi},p={client:f,page:{selection:wi(f.selection,a.scroll.initial),borderBoxCenter:wi(f.selection,a.scroll.initial),offset:wi(f.selection,a.scroll.diff.value)}},g=e0(s.droppables).every(C=>!C.isFixedOnPage),{impact:y,afterCritical:v}=dA({draggable:u,home:d,draggables:s.draggables,viewport:a});return{phase:"DRAGGING",isDragging:!0,critical:n,movementMode:l,dimensions:s,initial:p,current:p,isWindowScrollAllowed:g,impact:y,afterCritical:v,onLiftImpact:y,viewport:a,scrollJumpRequest:null,forceShouldAnimate:null}}if(e.type==="COLLECTION_STARTING")return t.phase==="COLLECTING"||t.phase==="DROP_PENDING"?t:(t.phase!=="DRAGGING"&&at(),{...t,phase:"COLLECTING"});if(e.type==="PUBLISH_WHILE_DRAGGING")return t.phase==="COLLECTING"||t.phase==="DROP_PENDING"||at(),K7({state:t,published:e.payload});if(e.type==="MOVE"){if(t.phase==="DROP_PENDING")return t;Qc(t)||at();const{client:n}=e.payload;return ac(n,t.current.client.selection)?t:Jf({state:t,clientSelection:n,impact:jv(t)?t.impact:null})}if(e.type==="UPDATE_DROPPABLE_SCROLL"){if(t.phase==="DROP_PENDING"||t.phase==="COLLECTING")return Kg(t);Qc(t)||at();const{id:n,newScroll:r}=e.payload,a=t.dimensions.droppables[n];if(!a)return t;const s=Ry(a,r);return Yg(t,s,!1)}if(e.type==="UPDATE_DROPPABLE_IS_ENABLED"){if(t.phase==="DROP_PENDING")return t;Qc(t)||at();const{id:n,isEnabled:r}=e.payload,a=t.dimensions.droppables[n];a||at(),a.isEnabled===r&&at();const s={...a,isEnabled:r};return Yg(t,s,!0)}if(e.type==="UPDATE_DROPPABLE_IS_COMBINE_ENABLED"){if(t.phase==="DROP_PENDING")return t;Qc(t)||at();const{id:n,isCombineEnabled:r}=e.payload,a=t.dimensions.droppables[n];a||at(),a.isCombineEnabled===r&&at();const s={...a,isCombineEnabled:r};return Yg(t,s,!0)}if(e.type==="MOVE_BY_WINDOW_SCROLL"){if(t.phase==="DROP_PENDING"||t.phase==="DROP_ANIMATING")return t;Qc(t)||at(),t.isWindowScrollAllowed||at();const n=e.payload.newScroll;if(ac(t.viewport.scroll.current,n))return Kg(t);const r=eA(t.viewport,n);return jv(t)?uA({state:t,viewport:r}):Jf({state:t,viewport:r})}if(e.type==="UPDATE_VIEWPORT_MAX_SCROLL"){if(!Qc(t))return t;const n=e.payload.maxScroll;if(ac(n,t.viewport.scroll.max))return t;const r={...t.viewport,scroll:{...t.viewport.scroll,max:n}};return{...t,viewport:r}}if(e.type==="MOVE_UP"||e.type==="MOVE_DOWN"||e.type==="MOVE_LEFT"||e.type==="MOVE_RIGHT"){if(t.phase==="COLLECTING"||t.phase==="DROP_PENDING")return t;t.phase!=="DRAGGING"&&at();const n=R7({state:t,type:e.type});return n?Jf({state:t,impact:n.impact,clientSelection:n.clientSelection,scrollJumpRequest:n.scrollJumpRequest}):t}if(e.type==="DROP_PENDING"){const n=e.payload.reason;return t.phase!=="COLLECTING"&&at(),{...t,phase:"DROP_PENDING",isWaiting:!0,reason:n}}if(e.type==="DROP_ANIMATE"){const{completed:n,dropDuration:r,newHomeClientOffset:a}=e.payload;return t.phase==="DRAGGING"||t.phase==="DROP_PENDING"||at(),{phase:"DROP_ANIMATING",completed:n,dropDuration:r,newHomeClientOffset:a,dimensions:t.dimensions}}if(e.type==="DROP_COMPLETE"){const{completed:n}=e.payload;return{phase:"IDLE",completed:n,shouldFlush:!1}}return t};function Nn(t,e){return t instanceof Object&&"type"in t&&t.type===e}const J7=t=>({type:"BEFORE_INITIAL_CAPTURE",payload:t}),Q7=t=>({type:"LIFT",payload:t}),Z7=t=>({type:"INITIAL_PUBLISH",payload:t}),eP=t=>({type:"PUBLISH_WHILE_DRAGGING",payload:t}),tP=()=>({type:"COLLECTION_STARTING",payload:null}),nP=t=>({type:"UPDATE_DROPPABLE_SCROLL",payload:t}),rP=t=>({type:"UPDATE_DROPPABLE_IS_ENABLED",payload:t}),iP=t=>({type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:t}),fA=t=>({type:"MOVE",payload:t}),aP=t=>({type:"MOVE_BY_WINDOW_SCROLL",payload:t}),sP=t=>({type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:t}),oP=()=>({type:"MOVE_UP",payload:null}),lP=()=>({type:"MOVE_DOWN",payload:null}),cP=()=>({type:"MOVE_RIGHT",payload:null}),uP=()=>({type:"MOVE_LEFT",payload:null}),Fy=()=>({type:"FLUSH",payload:null}),dP=t=>({type:"DROP_ANIMATE",payload:t}),Uy=t=>({type:"DROP_COMPLETE",payload:t}),hA=t=>({type:"DROP",payload:t}),fP=t=>({type:"DROP_PENDING",payload:t}),pA=()=>({type:"DROP_ANIMATION_FINISHED",payload:null});var hP=t=>({getState:e,dispatch:n})=>r=>a=>{if(!Nn(a,"LIFT")){r(a);return}const{id:s,clientSelection:l,movementMode:u}=a.payload,d=e();d.phase==="DROP_ANIMATING"&&n(Uy({completed:d.completed})),e().phase!=="IDLE"&&at(),n(Fy()),n(J7({draggableId:s,movementMode:u}));const p={draggableId:s,scrollOptions:{shouldPublishImmediately:u==="SNAP"}},{critical:g,dimensions:y,viewport:v}=t.startPublishing(p);n(Z7({critical:g,dimensions:y,clientSelection:l,movementMode:u,viewport:v}))},pP=t=>()=>e=>n=>{Nn(n,"INITIAL_PUBLISH")&&t.dragging(),Nn(n,"DROP_ANIMATE")&&t.dropping(n.payload.completed.result.reason),(Nn(n,"FLUSH")||Nn(n,"DROP_COMPLETE"))&&t.resting(),e(n)};const zy={outOfTheWay:"cubic-bezier(0.2, 0, 0, 1)",drop:"cubic-bezier(.2,1,.1,1)"},yh={opacity:{drop:0,combining:.7},scale:{drop:.75}},mA={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},Wc=`${mA.outOfTheWay}s ${zy.outOfTheWay}`,Qf={fluid:`opacity ${Wc}`,snap:`transform ${Wc}, opacity ${Wc}`,drop:t=>{const e=`${t}s ${zy.drop}`;return`transform ${e}, opacity ${e}`},outOfTheWay:`transform ${Wc}`,placeholder:`height ${Wc}, width ${Wc}, margin ${Wc}`},gx=t=>ac(t,oi)?void 0:`translate(${t.x}px, ${t.y}px)`,kv={moveTo:gx,drop:(t,e)=>{const n=gx(t);if(n)return e?`${n} scale(${yh.scale.drop})`:n}},{minDropTime:Lv,maxDropTime:gA}=mA,mP=gA-Lv,vx=1500,gP=.6;var vP=({current:t,destination:e,reason:n})=>{const r=mh(t,e);if(r<=0)return Lv;if(r>=vx)return gA;const a=r/vx,s=Lv+mP*a,l=n==="CANCEL"?s*gP:s;return Number(l.toFixed(2))},yP=({impact:t,draggable:e,dimensions:n,viewport:r,afterCritical:a})=>{const{draggables:s,droppables:l}=n,u=Pa(t),d=u?l[u]:null,f=l[e.descriptor.droppableId],p=cA({impact:t,draggable:e,draggables:s,afterCritical:a,droppable:d||f,viewport:r});return Oa(p,e.client.borderBox.center)},bP=({draggables:t,reason:e,lastImpact:n,home:r,viewport:a,onLiftImpact:s})=>!n.at||e!=="DROP"?{impact:lA({draggables:t,impact:s,destination:r,viewport:a,forceShouldAnimate:!0}),didDropInsideDroppable:!1}:n.at.type==="REORDER"?{impact:n,didDropInsideDroppable:!0}:{impact:{...n,displaced:gh},didDropInsideDroppable:!0};const wP=({getState:t,dispatch:e})=>n=>r=>{if(!Nn(r,"DROP")){n(r);return}const a=t(),s=r.payload.reason;if(a.phase==="COLLECTING"){e(fP({reason:s}));return}if(a.phase==="IDLE")return;a.phase==="DROP_PENDING"&&a.isWaiting&&at(),a.phase==="DRAGGING"||a.phase==="DROP_PENDING"||at();const u=a.critical,d=a.dimensions,f=d.draggables[a.critical.draggable.id],{impact:p,didDropInsideDroppable:g}=bP({reason:s,lastImpact:a.impact,afterCritical:a.afterCritical,onLiftImpact:a.onLiftImpact,home:a.dimensions.droppables[a.critical.droppable.id],viewport:a.viewport,draggables:a.dimensions.draggables}),y=g?Oy(p):null,v=g?t0(p):null,N={index:u.draggable.index,droppableId:u.droppable.id},C={draggableId:f.descriptor.id,type:f.descriptor.type,source:N,reason:s,mode:a.movementMode,destination:y,combine:v},T=yP({impact:p,draggable:f,dimensions:d,viewport:a.viewport,afterCritical:a.afterCritical}),A={critical:a.critical,afterCritical:a.afterCritical,result:C,impact:p};if(!(!ac(a.current.client.offset,T)||!!C.combine)){e(Uy({completed:A}));return}const M=vP({current:a.current.client.offset,destination:T,reason:s});e(dP({newHomeClientOffset:T,dropDuration:M,completed:A}))};var vA=()=>({x:window.pageXOffset,y:window.pageYOffset});function xP(t){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:e=>{e.target!==window&&e.target!==window.document||t()}}}function _P({onWindowScroll:t}){function e(){t(vA())}const n=ph(e),r=xP(n);let a=ic;function s(){return a!==ic}function l(){s()&&at(),a=as(window,[r])}function u(){s()||at(),n.cancel(),a(),a=ic}return{start:l,stop:u,isActive:s}}const SP=t=>Nn(t,"DROP_COMPLETE")||Nn(t,"DROP_ANIMATE")||Nn(t,"FLUSH"),AP=t=>{const e=_P({onWindowScroll:n=>{t.dispatch(aP({newScroll:n}))}});return n=>r=>{!e.isActive()&&Nn(r,"INITIAL_PUBLISH")&&e.start(),e.isActive()&&SP(r)&&e.stop(),n(r)}};var NP=t=>{let e=!1,n=!1;const r=setTimeout(()=>{n=!0}),a=s=>{e||n||(e=!0,t(s),clearTimeout(r))};return a.wasCalled=()=>e,a},EP=()=>{const t=[],e=a=>{const s=t.findIndex(u=>u.timerId===a);s===-1&&at();const[l]=t.splice(s,1);l.callback()};return{add:a=>{const s=setTimeout(()=>e(s)),l={timerId:s,callback:a};t.push(l)},flush:()=>{if(!t.length)return;const a=[...t];t.length=0,a.forEach(s=>{clearTimeout(s.timerId),s.callback()})}}};const CP=(t,e)=>t==null&&e==null?!0:t==null||e==null?!1:t.droppableId===e.droppableId&&t.index===e.index,TP=(t,e)=>t==null&&e==null?!0:t==null||e==null?!1:t.draggableId===e.draggableId&&t.droppableId===e.droppableId,jP=(t,e)=>{if(t===e)return!0;const n=t.draggable.id===e.draggable.id&&t.draggable.droppableId===e.draggable.droppableId&&t.draggable.type===e.draggable.type&&t.draggable.index===e.draggable.index,r=t.droppable.id===e.droppable.id&&t.droppable.type===e.droppable.type;return n&&r},Ff=(t,e)=>{e()},Up=(t,e)=>({draggableId:t.draggable.id,type:t.droppable.type,source:{droppableId:t.droppable.id,index:t.draggable.index},mode:e});function Xg(t,e,n,r){if(!t){n(r(e));return}const a=NP(n);t(e,{announce:a}),a.wasCalled()||n(r(e))}var kP=(t,e)=>{const n=EP();let r=null;const a=(g,y)=>{r&&at(),Ff("onBeforeCapture",()=>{const v=t().onBeforeCapture;v&&v({draggableId:g,mode:y})})},s=(g,y)=>{r&&at(),Ff("onBeforeDragStart",()=>{const v=t().onBeforeDragStart;v&&v(Up(g,y))})},l=(g,y)=>{r&&at();const v=Up(g,y);r={mode:y,lastCritical:g,lastLocation:v.source,lastCombine:null},n.add(()=>{Ff("onDragStart",()=>Xg(t().onDragStart,v,e,om.onDragStart))})},u=(g,y)=>{const v=Oy(y),N=t0(y);r||at();const C=!jP(g,r.lastCritical);C&&(r.lastCritical=g);const T=!CP(r.lastLocation,v);T&&(r.lastLocation=v);const A=!TP(r.lastCombine,N);if(A&&(r.lastCombine=N),!C&&!T&&!A)return;const D={...Up(g,r.mode),combine:N,destination:v};n.add(()=>{Ff("onDragUpdate",()=>Xg(t().onDragUpdate,D,e,om.onDragUpdate))})},d=()=>{r||at(),n.flush()},f=g=>{r||at(),r=null,Ff("onDragEnd",()=>Xg(t().onDragEnd,g,e,om.onDragEnd))};return{beforeCapture:a,beforeStart:s,start:l,update:u,flush:d,drop:f,abort:()=>{if(!r)return;const g={...Up(r.lastCritical,r.mode),combine:null,destination:null,reason:"CANCEL"};f(g)}}},LP=(t,e)=>{const n=kP(t,e);return r=>a=>s=>{if(Nn(s,"BEFORE_INITIAL_CAPTURE")){n.beforeCapture(s.payload.draggableId,s.payload.movementMode);return}if(Nn(s,"INITIAL_PUBLISH")){const u=s.payload.critical;n.beforeStart(u,s.payload.movementMode),a(s),n.start(u,s.payload.movementMode);return}if(Nn(s,"DROP_COMPLETE")){const u=s.payload.completed.result;n.flush(),a(s),n.drop(u);return}if(a(s),Nn(s,"FLUSH")){n.abort();return}const l=r.getState();l.phase==="DRAGGING"&&n.update(l.critical,l.impact)}};const RP=t=>e=>n=>{if(!Nn(n,"DROP_ANIMATION_FINISHED")){e(n);return}const r=t.getState();r.phase!=="DROP_ANIMATING"&&at(),t.dispatch(Uy({completed:r.completed}))},OP=t=>{let e=null,n=null;function r(){n&&(cancelAnimationFrame(n),n=null),e&&(e(),e=null)}return a=>s=>{if((Nn(s,"FLUSH")||Nn(s,"DROP_COMPLETE")||Nn(s,"DROP_ANIMATION_FINISHED"))&&r(),a(s),!Nn(s,"DROP_ANIMATE"))return;const l={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){t.getState().phase==="DROP_ANIMATING"&&t.dispatch(pA())}};n=requestAnimationFrame(()=>{n=null,e=as(window,[l])})}};var DP=t=>()=>e=>n=>{(Nn(n,"DROP_COMPLETE")||Nn(n,"FLUSH")||Nn(n,"DROP_ANIMATE"))&&t.stopPublishing(),e(n)},PP=t=>{let e=!1;return()=>n=>r=>{if(Nn(r,"INITIAL_PUBLISH")){e=!0,t.tryRecordFocus(r.payload.critical.draggable.id),n(r),t.tryRestoreFocusRecorded();return}if(n(r),!!e){if(Nn(r,"FLUSH")){e=!1,t.tryRestoreFocusRecorded();return}if(Nn(r,"DROP_COMPLETE")){e=!1;const a=r.payload.completed.result;a.combine&&t.tryShiftRecord(a.draggableId,a.combine.draggableId),t.tryRestoreFocusRecorded()}}}};const MP=t=>Nn(t,"DROP_COMPLETE")||Nn(t,"DROP_ANIMATE")||Nn(t,"FLUSH");var BP=t=>e=>n=>r=>{if(MP(r)){t.stop(),n(r);return}if(Nn(r,"INITIAL_PUBLISH")){n(r);const a=e.getState();a.phase!=="DRAGGING"&&at(),t.start(a);return}n(r),t.scroll(e.getState())};const IP=t=>e=>n=>{if(e(n),!Nn(n,"PUBLISH_WHILE_DRAGGING"))return;const r=t.getState();r.phase==="DROP_PENDING"&&(r.isWaiting||t.dispatch(hA({reason:r.reason})))},FP=O3;var UP=({dimensionMarshal:t,focusMarshal:e,styleMarshal:n,getResponders:r,announce:a,autoScroller:s})=>R3(X7,FP(BO(pP(n),DP(t),hP(t),wP,RP,OP,IP,BP(s),AP,PP(e),LP(r,a))));const Jg=()=>({additions:{},removals:{},modified:{}});function zP({registry:t,callbacks:e}){let n=Jg(),r=null;const a=()=>{r||(e.collectionStarting(),r=requestAnimationFrame(()=>{r=null;const{additions:d,removals:f,modified:p}=n,g=Object.keys(d).map(N=>t.draggable.getById(N).getDimension(oi)).sort((N,C)=>N.descriptor.index-C.descriptor.index),y=Object.keys(p).map(N=>{const T=t.droppable.getById(N).callbacks.getScrollWhileDragging();return{droppableId:N,scroll:T}}),v={additions:g,removals:Object.keys(f),modified:y};n=Jg(),e.publish(v)}))};return{add:d=>{const f=d.descriptor.id;n.additions[f]=d,n.modified[d.descriptor.droppableId]=!0,n.removals[f]&&delete n.removals[f],a()},remove:d=>{const f=d.descriptor;n.removals[f.id]=!0,n.modified[f.droppableId]=!0,n.additions[f.id]&&delete n.additions[f.id],a()},stop:()=>{r&&(cancelAnimationFrame(r),r=null,n=Jg())}}}var yA=({scrollHeight:t,scrollWidth:e,height:n,width:r})=>{const a=Oa({x:e,y:t},{x:r,y:n});return{x:Math.max(0,a.x),y:Math.max(0,a.y)}},bA=()=>{const t=document.documentElement;return t||at(),t},wA=()=>{const t=bA();return yA({scrollHeight:t.scrollHeight,scrollWidth:t.scrollWidth,width:t.clientWidth,height:t.clientHeight})},qP=()=>{const t=vA(),e=wA(),n=t.y,r=t.x,a=bA(),s=a.clientWidth,l=a.clientHeight,u=r+s,d=n+l;return{frame:Gs({top:n,left:r,right:u,bottom:d}),scroll:{initial:t,current:t,max:e,diff:{value:oi,displacement:oi}}}},VP=({critical:t,scrollOptions:e,registry:n})=>{const r=qP(),a=r.scroll.current,s=t.droppable,l=n.droppable.getAllByType(s.type).map(p=>p.callbacks.getDimensionAndWatchScroll(a,e)),u=n.draggable.getAllByType(t.draggable.type).map(p=>p.getDimension(a));return{dimensions:{draggables:Y3(u),droppables:W3(l)},critical:t,viewport:r}};function yx(t,e,n){return!(n.descriptor.id===e.id||n.descriptor.type!==e.type||t.droppable.getById(n.descriptor.droppableId).descriptor.mode!=="virtual")}var HP=(t,e)=>{let n=null;const r=zP({callbacks:{publish:e.publishWhileDragging,collectionStarting:e.collectionStarting},registry:t}),a=(y,v)=>{t.droppable.exists(y)||at(),n&&e.updateDroppableIsEnabled({id:y,isEnabled:v})},s=(y,v)=>{n&&(t.droppable.exists(y)||at(),e.updateDroppableIsCombineEnabled({id:y,isCombineEnabled:v}))},l=(y,v)=>{n&&(t.droppable.exists(y)||at(),e.updateDroppableScroll({id:y,newScroll:v}))},u=(y,v)=>{n&&t.droppable.getById(y).callbacks.scroll(v)},d=()=>{if(!n)return;r.stop();const y=n.critical.droppable;t.droppable.getAllByType(y.type).forEach(v=>v.callbacks.dragStopped()),n.unsubscribe(),n=null},f=y=>{n||at();const v=n.critical.draggable;y.type==="ADDITION"&&yx(t,v,y.value)&&r.add(y.value),y.type==="REMOVAL"&&yx(t,v,y.value)&&r.remove(y.value)};return{updateDroppableIsEnabled:a,updateDroppableIsCombineEnabled:s,scrollDroppable:u,updateDroppableScroll:l,startPublishing:y=>{n&&at();const v=t.draggable.getById(y.draggableId),N=t.droppable.getById(v.descriptor.droppableId),C={draggable:v.descriptor,droppable:N.descriptor},T=t.subscribe(f);return n={critical:C,unsubscribe:T},VP({critical:C,registry:t,scrollOptions:y.scrollOptions})},stopPublishing:d}},xA=(t,e)=>t.phase==="IDLE"?!0:t.phase!=="DROP_ANIMATING"||t.completed.result.draggableId===e?!1:t.completed.result.reason==="DROP",$P=t=>{window.scrollBy(t.x,t.y)};const GP=si(t=>e0(t).filter(e=>!(!e.isEnabled||!e.frame))),WP=(t,e)=>GP(e).find(r=>(r.frame||at(),iA(r.frame.pageMarginBox)(t)))||null;var YP=({center:t,destination:e,droppables:n})=>{if(e){const a=n[e];return a.frame?a:null}return WP(t,n)};const bh={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:t=>t**2,durationDampening:{stopDampeningAt:1200,accelerateAt:360},disabled:!1};var KP=(t,e,n=()=>bh)=>{const r=n(),a=t[e.size]*r.startFromPercentage,s=t[e.size]*r.maxScrollAtPercentage;return{startScrollingFrom:a,maxScrollValueAt:s}},_A=({startOfRange:t,endOfRange:e,current:n})=>{const r=e-t;return r===0?0:(n-t)/r},qy=1,XP=(t,e,n=()=>bh)=>{const r=n();if(t>e.startScrollingFrom)return 0;if(t<=e.maxScrollValueAt)return r.maxPixelScroll;if(t===e.startScrollingFrom)return qy;const s=1-_A({startOfRange:e.maxScrollValueAt,endOfRange:e.startScrollingFrom,current:t}),l=r.maxPixelScroll*r.ease(s);return Math.ceil(l)},JP=(t,e,n)=>{const r=n(),a=r.durationDampening.accelerateAt,s=r.durationDampening.stopDampeningAt,l=e,u=s,f=Date.now()-l;if(f>=s)return t;if(f<a)return qy;const p=_A({startOfRange:a,endOfRange:u,current:f}),g=t*r.ease(p);return Math.ceil(g)},bx=({distanceToEdge:t,thresholds:e,dragStartTime:n,shouldUseTimeDampening:r,getAutoScrollerOptions:a})=>{const s=XP(t,e,a);return s===0?0:r?Math.max(JP(s,n,a),qy):s},wx=({container:t,distanceToEdges:e,dragStartTime:n,axis:r,shouldUseTimeDampening:a,getAutoScrollerOptions:s})=>{const l=KP(t,r,s);return e[r.end]<e[r.start]?bx({distanceToEdge:e[r.end],thresholds:l,dragStartTime:n,shouldUseTimeDampening:a,getAutoScrollerOptions:s}):-1*bx({distanceToEdge:e[r.start],thresholds:l,dragStartTime:n,shouldUseTimeDampening:a,getAutoScrollerOptions:s})},QP=({container:t,subject:e,proposedScroll:n})=>{const r=e.height>t.height,a=e.width>t.width;return!a&&!r?n:a&&r?null:{x:a?0:n.x,y:r?0:n.y}};const ZP=G3(t=>t===0?0:t);var SA=({dragStartTime:t,container:e,subject:n,center:r,shouldUseTimeDampening:a,getAutoScrollerOptions:s})=>{const l={top:r.y-e.top,right:e.right-r.x,bottom:e.bottom-r.y,left:r.x-e.left},u=wx({container:e,distanceToEdges:l,dragStartTime:t,axis:Dy,shouldUseTimeDampening:a,getAutoScrollerOptions:s}),d=wx({container:e,distanceToEdges:l,dragStartTime:t,axis:J3,shouldUseTimeDampening:a,getAutoScrollerOptions:s}),f=ZP({x:d,y:u});if(ac(f,oi))return null;const p=QP({container:e,subject:n,proposedScroll:f});return p?ac(p,oi)?null:p:null};const eM=G3(t=>t===0?0:t>0?1:-1),Vy=(()=>{const t=(e,n)=>e<0?e:e>n?e-n:0;return({current:e,max:n,change:r})=>{const a=wi(e,r),s={x:t(a.x,n.x),y:t(a.y,n.y)};return ac(s,oi)?null:s}})(),AA=({max:t,current:e,change:n})=>{const r={x:Math.max(e.x,t.x),y:Math.max(e.y,t.y)},a=eM(n),s=Vy({max:r,current:e,change:a});return!s||a.x!==0&&s.x===0||a.y!==0&&s.y===0},Hy=(t,e)=>AA({current:t.scroll.current,max:t.scroll.max,change:e}),tM=(t,e)=>{if(!Hy(t,e))return null;const n=t.scroll.max,r=t.scroll.current;return Vy({current:r,max:n,change:e})},$y=(t,e)=>{const n=t.frame;return n?AA({current:n.scroll.current,max:n.scroll.max,change:e}):!1},nM=(t,e)=>{const n=t.frame;return!n||!$y(t,e)?null:Vy({current:n.scroll.current,max:n.scroll.max,change:e})};var rM=({viewport:t,subject:e,center:n,dragStartTime:r,shouldUseTimeDampening:a,getAutoScrollerOptions:s})=>{const l=SA({dragStartTime:r,container:t.frame,subject:e,center:n,shouldUseTimeDampening:a,getAutoScrollerOptions:s});return l&&Hy(t,l)?l:null},iM=({droppable:t,subject:e,center:n,dragStartTime:r,shouldUseTimeDampening:a,getAutoScrollerOptions:s})=>{const l=t.frame;if(!l)return null;const u=SA({dragStartTime:r,container:l.pageMarginBox,subject:e,center:n,shouldUseTimeDampening:a,getAutoScrollerOptions:s});return u&&$y(t,u)?u:null},xx=({state:t,dragStartTime:e,shouldUseTimeDampening:n,scrollWindow:r,scrollDroppable:a,getAutoScrollerOptions:s})=>{const l=t.current.page.borderBoxCenter,d=t.dimensions.draggables[t.critical.draggable.id].page.marginBox;if(t.isWindowScrollAllowed){const g=t.viewport,y=rM({dragStartTime:e,viewport:g,subject:d,center:l,shouldUseTimeDampening:n,getAutoScrollerOptions:s});if(y){r(y);return}}const f=YP({center:l,destination:Pa(t.impact),droppables:t.dimensions.droppables});if(!f)return;const p=iM({dragStartTime:e,droppable:f,subject:d,center:l,shouldUseTimeDampening:n,getAutoScrollerOptions:s});p&&a(f.descriptor.id,p)},aM=({scrollWindow:t,scrollDroppable:e,getAutoScrollerOptions:n=()=>bh})=>{const r=ph(t),a=ph(e);let s=null;const l=f=>{s||at();const{shouldUseTimeDampening:p,dragStartTime:g}=s;xx({state:f,scrollWindow:r,scrollDroppable:a,dragStartTime:g,shouldUseTimeDampening:p,getAutoScrollerOptions:n})};return{start:f=>{s&&at();const p=Date.now();let g=!1;const y=()=>{g=!0};xx({state:f,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:y,scrollDroppable:y,getAutoScrollerOptions:n}),s={dragStartTime:p,shouldUseTimeDampening:g},g&&l(f)},stop:()=>{s&&(r.cancel(),a.cancel(),s=null)},scroll:l}},sM=({move:t,scrollDroppable:e,scrollWindow:n})=>{const r=(u,d)=>{const f=wi(u.current.client.selection,d);t({client:f})},a=(u,d)=>{if(!$y(u,d))return d;const f=nM(u,d);if(!f)return e(u.descriptor.id,d),null;const p=Oa(d,f);return e(u.descriptor.id,p),Oa(d,p)},s=(u,d,f)=>{if(!u||!Hy(d,f))return f;const p=tM(d,f);if(!p)return n(f),null;const g=Oa(f,p);return n(g),Oa(f,g)};return u=>{const d=u.scrollJumpRequest;if(!d)return;const f=Pa(u.impact);f||at();const p=a(u.dimensions.droppables[f],d);if(!p)return;const g=u.viewport,y=s(u.isWindowScrollAllowed,g,p);y&&r(u,y)}},oM=({scrollDroppable:t,scrollWindow:e,move:n,getAutoScrollerOptions:r})=>{const a=aM({scrollWindow:e,scrollDroppable:t,getAutoScrollerOptions:r}),s=sM({move:n,scrollWindow:e,scrollDroppable:t});return{scroll:d=>{if(!(r().disabled||d.phase!=="DRAGGING")){if(d.movementMode==="FLUID"){a.scroll(d);return}d.scrollJumpRequest&&s(d)}},start:a.start,stop:a.stop}};const Ud="data-rfd",zd=(()=>{const t=`${Ud}-drag-handle`;return{base:t,draggableId:`${t}-draggable-id`,contextId:`${t}-context-id`}})(),Rv=(()=>{const t=`${Ud}-draggable`;return{base:t,contextId:`${t}-context-id`,id:`${t}-id`}})(),lM=(()=>{const t=`${Ud}-droppable`;return{base:t,contextId:`${t}-context-id`,id:`${t}-id`}})(),_x={contextId:`${Ud}-scroll-container-context-id`},cM=t=>e=>`[${e}="${t}"]`,Uf=(t,e)=>t.map(n=>{const r=n.styles[e];return r?`${n.selector} { ${r} }`:""}).join(" "),uM="pointer-events: none;";var dM=t=>{const e=cM(t),n=(()=>{const u=`
      cursor: -webkit-grab;
      cursor: grab;
    `;return{selector:e(zd.contextId),styles:{always:`
          -webkit-touch-callout: none;
          -webkit-tap-highlight-color: rgba(0,0,0,0);
          touch-action: manipulation;
        `,resting:u,dragging:uM,dropAnimating:u}}})(),r=(()=>{const u=`
      transition: ${Qf.outOfTheWay};
    `;return{selector:e(Rv.contextId),styles:{dragging:u,dropAnimating:u,userCancel:u}}})(),a={selector:e(lM.contextId),styles:{always:"overflow-anchor: none;"}},l=[r,n,a,{selector:"body",styles:{dragging:`
        cursor: grabbing;
        cursor: -webkit-grabbing;
        user-select: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        overflow-anchor: none;
      `}}];return{always:Uf(l,"always"),resting:Uf(l,"resting"),dragging:Uf(l,"dragging"),dropAnimating:Uf(l,"dropAnimating"),userCancel:Uf(l,"userCancel")}};const Ma=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?X.useLayoutEffect:X.useEffect,Qg=()=>{const t=document.querySelector("head");return t||at(),t},Sx=t=>{const e=document.createElement("style");return t&&e.setAttribute("nonce",t),e.type="text/css",e};function fM(t,e){const n=gn(()=>dM(t),[t]),r=X.useRef(null),a=X.useRef(null),s=Ct(si(g=>{const y=a.current;y||at(),y.textContent=g}),[]),l=Ct(g=>{const y=r.current;y||at(),y.textContent=g},[]);Ma(()=>{!r.current&&!a.current||at();const g=Sx(e),y=Sx(e);return r.current=g,a.current=y,g.setAttribute(`${Ud}-always`,t),y.setAttribute(`${Ud}-dynamic`,t),Qg().appendChild(g),Qg().appendChild(y),l(n.always),s(n.resting),()=>{const v=N=>{const C=N.current;C||at(),Qg().removeChild(C),N.current=null};v(r),v(a)}},[e,l,s,n.always,n.resting,t]);const u=Ct(()=>s(n.dragging),[s,n.dragging]),d=Ct(g=>{if(g==="DROP"){s(n.dropAnimating);return}s(n.userCancel)},[s,n.dropAnimating,n.userCancel]),f=Ct(()=>{a.current&&s(n.resting)},[s,n.resting]);return gn(()=>({dragging:u,dropping:d,resting:f}),[u,d,f])}function NA(t,e){return Array.from(t.querySelectorAll(e))}var EA=t=>t&&t.ownerDocument&&t.ownerDocument.defaultView?t.ownerDocument.defaultView:window;function i0(t){return t instanceof EA(t).HTMLElement}function hM(t,e){const n=`[${zd.contextId}="${t}"]`,r=NA(document,n);if(!r.length)return null;const a=r.find(s=>s.getAttribute(zd.draggableId)===e);return!a||!i0(a)?null:a}function pM(t){const e=X.useRef({}),n=X.useRef(null),r=X.useRef(null),a=X.useRef(!1),s=Ct(function(y,v){const N={id:y,focus:v};return e.current[y]=N,function(){const T=e.current;T[y]!==N&&delete T[y]}},[]),l=Ct(function(y){const v=hM(t,y);v&&v!==document.activeElement&&v.focus()},[t]),u=Ct(function(y,v){n.current===y&&(n.current=v)},[]),d=Ct(function(){r.current||a.current&&(r.current=requestAnimationFrame(()=>{r.current=null;const y=n.current;y&&l(y)}))},[l]),f=Ct(function(y){n.current=null;const v=document.activeElement;v&&v.getAttribute(zd.draggableId)===y&&(n.current=y)},[]);return Ma(()=>(a.current=!0,function(){a.current=!1;const y=r.current;y&&cancelAnimationFrame(y)}),[]),gn(()=>({register:s,tryRecordFocus:f,tryRestoreFocusRecorded:d,tryShiftRecord:u}),[s,f,d,u])}function mM(){const t={draggables:{},droppables:{}},e=[];function n(g){return e.push(g),function(){const v=e.indexOf(g);v!==-1&&e.splice(v,1)}}function r(g){e.length&&e.forEach(y=>y(g))}function a(g){return t.draggables[g]||null}function s(g){const y=a(g);return y||at(),y}const l={register:g=>{t.draggables[g.descriptor.id]=g,r({type:"ADDITION",value:g})},update:(g,y)=>{const v=t.draggables[y.descriptor.id];v&&v.uniqueId===g.uniqueId&&(delete t.draggables[y.descriptor.id],t.draggables[g.descriptor.id]=g)},unregister:g=>{const y=g.descriptor.id,v=a(y);v&&g.uniqueId===v.uniqueId&&(delete t.draggables[y],t.droppables[g.descriptor.droppableId]&&r({type:"REMOVAL",value:g}))},getById:s,findById:a,exists:g=>!!a(g),getAllByType:g=>Object.values(t.draggables).filter(y=>y.descriptor.type===g)};function u(g){return t.droppables[g]||null}function d(g){const y=u(g);return y||at(),y}const f={register:g=>{t.droppables[g.descriptor.id]=g},unregister:g=>{const y=u(g.descriptor.id);y&&g.uniqueId===y.uniqueId&&delete t.droppables[g.descriptor.id]},getById:d,findById:u,exists:g=>!!u(g),getAllByType:g=>Object.values(t.droppables).filter(y=>y.descriptor.type===g)};function p(){t.draggables={},t.droppables={},e.length=0}return{draggable:l,droppable:f,subscribe:n,clean:p}}function gM(){const t=gn(mM,[]);return X.useEffect(()=>function(){t.clean()},[t]),t}var Gy=Ar.createContext(null),Om=()=>{const t=document.body;return t||at(),t};const vM={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"},yM=t=>`rfd-announcement-${t}`;function bM(t){const e=gn(()=>yM(t),[t]),n=X.useRef(null);return X.useEffect(function(){const s=document.createElement("div");return n.current=s,s.id=e,s.setAttribute("aria-live","assertive"),s.setAttribute("aria-atomic","true"),jm(s.style,vM),Om().appendChild(s),function(){setTimeout(function(){const d=Om();d.contains(s)&&d.removeChild(s),s===n.current&&(n.current=null)})}},[e]),Ct(a=>{const s=n.current;if(s){s.textContent=a;return}},[])}const wM={separator:"::"};function Wy(t,e=wM){const n=Ar.useId();return gn(()=>`${t}${e.separator}${n}`,[e.separator,t,n])}function xM({contextId:t,uniqueId:e}){return`rfd-hidden-text-${t}-${e}`}function _M({contextId:t,text:e}){const n=Wy("hidden-text",{separator:"-"}),r=gn(()=>xM({contextId:t,uniqueId:n}),[n,t]);return X.useEffect(function(){const s=document.createElement("div");return s.id=r,s.textContent=e,s.style.display="none",Om().appendChild(s),function(){const u=Om();u.contains(s)&&u.removeChild(s)}},[r,e]),r}var a0=Ar.createContext(null);function CA(t){const e=X.useRef(t);return X.useEffect(()=>{e.current=t}),e}function SM(){let t=null;function e(){return!!t}function n(l){return l===t}function r(l){t&&at();const u={abandon:l};return t=u,u}function a(){t||at(),t=null}function s(){t&&(t.abandon(),a())}return{isClaimed:e,isActive:n,claim:r,release:a,tryAbandon:s}}function wh(t){return t.phase==="IDLE"||t.phase==="DROP_ANIMATING"?!1:t.isDragging}const AM=9,NM=13,Yy=27,TA=32,EM=33,CM=34,TM=35,jM=36,kM=37,LM=38,RM=39,OM=40,DM={[NM]:!0,[AM]:!0};var jA=t=>{DM[t.keyCode]&&t.preventDefault()};const s0=(()=>{const t="visibilitychange";return typeof document>"u"?t:[t,`ms${t}`,`webkit${t}`,`moz${t}`,`o${t}`].find(r=>`on${r}`in document)||t})(),kA=0,Ax=5;function PM(t,e){return Math.abs(e.x-t.x)>=Ax||Math.abs(e.y-t.y)>=Ax}const Nx={type:"IDLE"};function MM({cancel:t,completed:e,getPhase:n,setPhase:r}){return[{eventName:"mousemove",fn:a=>{const{button:s,clientX:l,clientY:u}=a;if(s!==kA)return;const d={x:l,y:u},f=n();if(f.type==="DRAGGING"){a.preventDefault(),f.actions.move(d);return}f.type!=="PENDING"&&at();const p=f.point;if(!PM(p,d))return;a.preventDefault();const g=f.actions.fluidLift(d);r({type:"DRAGGING",actions:g})}},{eventName:"mouseup",fn:a=>{const s=n();if(s.type!=="DRAGGING"){t();return}a.preventDefault(),s.actions.drop({shouldBlockNextClick:!0}),e()}},{eventName:"mousedown",fn:a=>{n().type==="DRAGGING"&&a.preventDefault(),t()}},{eventName:"keydown",fn:a=>{if(n().type==="PENDING"){t();return}if(a.keyCode===Yy){a.preventDefault(),t();return}jA(a)}},{eventName:"resize",fn:t},{eventName:"scroll",options:{passive:!0,capture:!1},fn:()=>{n().type==="PENDING"&&t()}},{eventName:"webkitmouseforcedown",fn:a=>{const s=n();if(s.type==="IDLE"&&at(),s.actions.shouldRespectForcePress()){t();return}a.preventDefault()}},{eventName:s0,fn:t}]}function BM(t){const e=X.useRef(Nx),n=X.useRef(ic),r=gn(()=>({eventName:"mousedown",fn:function(g){if(g.defaultPrevented||g.button!==kA||g.ctrlKey||g.metaKey||g.shiftKey||g.altKey)return;const y=t.findClosestDraggableId(g);if(!y)return;const v=t.tryGetLock(y,l,{sourceEvent:g});if(!v)return;g.preventDefault();const N={x:g.clientX,y:g.clientY};n.current(),f(v,N)}}),[t]),a=gn(()=>({eventName:"webkitmouseforcewillbegin",fn:p=>{if(p.defaultPrevented)return;const g=t.findClosestDraggableId(p);if(!g)return;const y=t.findOptionsForDraggable(g);y&&(y.shouldRespectForcePress||t.canGetLock(g)&&p.preventDefault())}}),[t]),s=Ct(function(){const g={passive:!1,capture:!0};n.current=as(window,[a,r],g)},[a,r]),l=Ct(()=>{e.current.type!=="IDLE"&&(e.current=Nx,n.current(),s())},[s]),u=Ct(()=>{const p=e.current;l(),p.type==="DRAGGING"&&p.actions.cancel({shouldBlockNextClick:!0}),p.type==="PENDING"&&p.actions.abort()},[l]),d=Ct(function(){const g={capture:!0,passive:!1},y=MM({cancel:u,completed:l,getPhase:()=>e.current,setPhase:v=>{e.current=v}});n.current=as(window,y,g)},[u,l]),f=Ct(function(g,y){e.current.type!=="IDLE"&&at(),e.current={type:"PENDING",point:y,actions:g},d()},[d]);Ma(function(){return s(),function(){n.current()}},[s])}function IM(){}const FM={[CM]:!0,[EM]:!0,[jM]:!0,[TM]:!0};function UM(t,e){function n(){e(),t.cancel()}function r(){e(),t.drop()}return[{eventName:"keydown",fn:a=>{if(a.keyCode===Yy){a.preventDefault(),n();return}if(a.keyCode===TA){a.preventDefault(),r();return}if(a.keyCode===OM){a.preventDefault(),t.moveDown();return}if(a.keyCode===LM){a.preventDefault(),t.moveUp();return}if(a.keyCode===RM){a.preventDefault(),t.moveRight();return}if(a.keyCode===kM){a.preventDefault(),t.moveLeft();return}if(FM[a.keyCode]){a.preventDefault();return}jA(a)}},{eventName:"mousedown",fn:n},{eventName:"mouseup",fn:n},{eventName:"click",fn:n},{eventName:"touchstart",fn:n},{eventName:"resize",fn:n},{eventName:"wheel",fn:n,options:{passive:!0}},{eventName:s0,fn:n}]}function zM(t){const e=X.useRef(IM),n=gn(()=>({eventName:"keydown",fn:function(s){if(s.defaultPrevented||s.keyCode!==TA)return;const l=t.findClosestDraggableId(s);if(!l)return;const u=t.tryGetLock(l,p,{sourceEvent:s});if(!u)return;s.preventDefault();let d=!0;const f=u.snapLift();e.current();function p(){d||at(),d=!1,e.current(),r()}e.current=as(window,UM(f,p),{capture:!0,passive:!1})}}),[t]),r=Ct(function(){const s={passive:!1,capture:!0};e.current=as(window,[n],s)},[n]);Ma(function(){return r(),function(){e.current()}},[r])}const Zg={type:"IDLE"},qM=120,VM=.15;function HM({cancel:t,getPhase:e}){return[{eventName:"orientationchange",fn:t},{eventName:"resize",fn:t},{eventName:"contextmenu",fn:n=>{n.preventDefault()}},{eventName:"keydown",fn:n=>{if(e().type!=="DRAGGING"){t();return}n.keyCode===Yy&&n.preventDefault(),t()}},{eventName:s0,fn:t}]}function $M({cancel:t,completed:e,getPhase:n}){return[{eventName:"touchmove",options:{capture:!1},fn:r=>{const a=n();if(a.type!=="DRAGGING"){t();return}a.hasMoved=!0;const{clientX:s,clientY:l}=r.touches[0],u={x:s,y:l};r.preventDefault(),a.actions.move(u)}},{eventName:"touchend",fn:r=>{const a=n();if(a.type!=="DRAGGING"){t();return}r.preventDefault(),a.actions.drop({shouldBlockNextClick:!0}),e()}},{eventName:"touchcancel",fn:r=>{if(n().type!=="DRAGGING"){t();return}r.preventDefault(),t()}},{eventName:"touchforcechange",fn:r=>{const a=n();a.type==="IDLE"&&at();const s=r.touches[0];if(!s||!(s.force>=VM))return;const u=a.actions.shouldRespectForcePress();if(a.type==="PENDING"){u&&t();return}if(u){if(a.hasMoved){r.preventDefault();return}t();return}r.preventDefault()}},{eventName:s0,fn:t}]}function GM(t){const e=X.useRef(Zg),n=X.useRef(ic),r=Ct(function(){return e.current},[]),a=Ct(function(v){e.current=v},[]),s=gn(()=>({eventName:"touchstart",fn:function(v){if(v.defaultPrevented)return;const N=t.findClosestDraggableId(v);if(!N)return;const C=t.tryGetLock(N,u,{sourceEvent:v});if(!C)return;const T=v.touches[0],{clientX:A,clientY:D}=T,M={x:A,y:D};n.current(),g(C,M)}}),[t]),l=Ct(function(){const v={capture:!0,passive:!1};n.current=as(window,[s],v)},[s]),u=Ct(()=>{const y=e.current;y.type!=="IDLE"&&(y.type==="PENDING"&&clearTimeout(y.longPressTimerId),a(Zg),n.current(),l())},[l,a]),d=Ct(()=>{const y=e.current;u(),y.type==="DRAGGING"&&y.actions.cancel({shouldBlockNextClick:!0}),y.type==="PENDING"&&y.actions.abort()},[u]),f=Ct(function(){const v={capture:!0,passive:!1},N={cancel:d,completed:u,getPhase:r},C=as(window,$M(N),v),T=as(window,HM(N),v);n.current=function(){C(),T()}},[d,r,u]),p=Ct(function(){const v=r();v.type!=="PENDING"&&at();const N=v.actions.fluidLift(v.point);a({type:"DRAGGING",actions:N,hasMoved:!1})},[r,a]),g=Ct(function(v,N){r().type!=="IDLE"&&at();const C=setTimeout(p,qM);a({type:"PENDING",point:N,actions:v,longPressTimerId:C}),f()},[f,r,a,p]);Ma(function(){return l(),function(){n.current();const N=r();N.type==="PENDING"&&(clearTimeout(N.longPressTimerId),a(Zg))}},[r,l,a]),Ma(function(){return as(window,[{eventName:"touchmove",fn:()=>{},options:{capture:!1,passive:!1}}])},[])}const WM=["input","button","textarea","select","option","optgroup","video","audio"];function LA(t,e){if(e==null)return!1;if(WM.includes(e.tagName.toLowerCase()))return!0;const r=e.getAttribute("contenteditable");return r==="true"||r===""?!0:e===t?!1:LA(t,e.parentElement)}function YM(t,e){const n=e.target;return i0(n)?LA(t,n):!1}var KM=t=>Gs(t.getBoundingClientRect()).center;function XM(t){return t instanceof EA(t).Element}const JM=(()=>{const t="matches";return typeof document>"u"?t:[t,"msMatchesSelector","webkitMatchesSelector"].find(r=>r in Element.prototype)||t})();function RA(t,e){return t==null?null:t[JM](e)?t:RA(t.parentElement,e)}function QM(t,e){return t.closest?t.closest(e):RA(t,e)}function ZM(t){return`[${zd.contextId}="${t}"]`}function eB(t,e){const n=e.target;if(!XM(n))return null;const r=ZM(t),a=QM(n,r);return!a||!i0(a)?null:a}function tB(t,e){const n=eB(t,e);return n?n.getAttribute(zd.draggableId):null}function nB(t,e){const n=`[${Rv.contextId}="${t}"]`,a=NA(document,n).find(s=>s.getAttribute(Rv.id)===e);return!a||!i0(a)?null:a}function rB(t){t.preventDefault()}function zp({expected:t,phase:e,isLockActive:n,shouldWarn:r}){return!(!n()||t!==e)}function OA({lockAPI:t,store:e,registry:n,draggableId:r}){if(t.isClaimed())return!1;const a=n.draggable.findById(r);return!(!a||!a.options.isEnabled||!xA(e.getState(),r))}function iB({lockAPI:t,contextId:e,store:n,registry:r,draggableId:a,forceSensorStop:s,sourceEvent:l}){if(!OA({lockAPI:t,store:n,registry:r,draggableId:a}))return null;const d=r.draggable.getById(a),f=nB(e,d.descriptor.id);if(!f||l&&!d.options.canDragInteractiveElements&&YM(f,l))return null;const p=t.claim(s||ic);let g="PRE_DRAG";function y(){return d.options.shouldRespectForcePress}function v(){return t.isActive(p)}function N(q,V){zp({expected:q,phase:g,isLockActive:v,shouldWarn:!0})&&n.dispatch(V())}const C=N.bind(null,"DRAGGING");function T(q){function V(){t.release(),g="COMPLETED"}g!=="PRE_DRAG"&&(V(),at()),n.dispatch(Q7(q.liftActionArgs)),g="DRAGGING";function W(R,L={shouldBlockNextClick:!1}){if(q.cleanup(),L.shouldBlockNextClick){const $=as(window,[{eventName:"click",fn:rB,options:{once:!0,passive:!1,capture:!0}}]);setTimeout($)}V(),n.dispatch(hA({reason:R}))}return{isActive:()=>zp({expected:"DRAGGING",phase:g,isLockActive:v,shouldWarn:!1}),shouldRespectForcePress:y,drop:R=>W("DROP",R),cancel:R=>W("CANCEL",R),...q.actions}}function A(q){const V=ph(R=>{C(()=>fA({client:R}))});return{...T({liftActionArgs:{id:a,clientSelection:q,movementMode:"FLUID"},cleanup:()=>V.cancel(),actions:{move:V}}),move:V}}function D(){const q={moveUp:()=>C(oP),moveRight:()=>C(cP),moveDown:()=>C(lP),moveLeft:()=>C(uP)};return T({liftActionArgs:{id:a,clientSelection:KM(f),movementMode:"SNAP"},cleanup:ic,actions:q})}function M(){zp({expected:"PRE_DRAG",phase:g,isLockActive:v,shouldWarn:!0})&&t.release()}return{isActive:()=>zp({expected:"PRE_DRAG",phase:g,isLockActive:v,shouldWarn:!1}),shouldRespectForcePress:y,fluidLift:A,snapLift:D,abort:M}}const aB=[BM,zM,GM];function sB({contextId:t,store:e,registry:n,customSensors:r,enableDefaultSensors:a}){const s=[...a?aB:[],...r||[]],l=X.useState(()=>SM())[0],u=Ct(function(T,A){wh(T)&&!wh(A)&&l.tryAbandon()},[l]);Ma(function(){let T=e.getState();return e.subscribe(()=>{const D=e.getState();u(T,D),T=D})},[l,e,u]),Ma(()=>l.tryAbandon,[l.tryAbandon]);const d=Ct(C=>OA({lockAPI:l,registry:n,store:e,draggableId:C}),[l,n,e]),f=Ct((C,T,A)=>iB({lockAPI:l,registry:n,contextId:t,store:e,draggableId:C,forceSensorStop:T||null,sourceEvent:A&&A.sourceEvent?A.sourceEvent:null}),[t,l,n,e]),p=Ct(C=>tB(t,C),[t]),g=Ct(C=>{const T=n.draggable.findById(C);return T?T.options:null},[n.draggable]),y=Ct(function(){l.isClaimed()&&(l.tryAbandon(),e.getState().phase!=="IDLE"&&e.dispatch(Fy()))},[l,e]),v=Ct(()=>l.isClaimed(),[l]),N=gn(()=>({canGetLock:d,tryGetLock:f,findClosestDraggableId:p,findOptionsForDraggable:g,tryReleaseLock:y,isLockClaimed:v}),[d,f,p,g,y,v]);for(let C=0;C<s.length;C++)s[C](N)}const oB=t=>({onBeforeCapture:e=>{const n=()=>{t.onBeforeCapture&&t.onBeforeCapture(e)};wy.flushSync(n)},onBeforeDragStart:t.onBeforeDragStart,onDragStart:t.onDragStart,onDragEnd:t.onDragEnd,onDragUpdate:t.onDragUpdate}),lB=t=>({...bh,...t.autoScrollerOptions,durationDampening:{...bh.durationDampening,...t.autoScrollerOptions}});function zf(t){return t.current||at(),t.current}function cB(t){const{contextId:e,setCallbacks:n,sensors:r,nonce:a,dragHandleUsageInstructions:s}=t,l=X.useRef(null),u=CA(t),d=Ct(()=>oB(u.current),[u]),f=Ct(()=>lB(u.current),[u]),p=bM(e),g=_M({contextId:e,text:s}),y=fM(e,a),v=Ct($=>{zf(l).dispatch($)},[]),N=gn(()=>Jw({publishWhileDragging:eP,updateDroppableScroll:nP,updateDroppableIsEnabled:rP,updateDroppableIsCombineEnabled:iP,collectionStarting:tP},v),[v]),C=gM(),T=gn(()=>HP(C,N),[C,N]),A=gn(()=>oM({scrollWindow:$P,scrollDroppable:T.scrollDroppable,getAutoScrollerOptions:f,...Jw({move:fA},v)}),[T.scrollDroppable,v,f]),D=pM(e),M=gn(()=>UP({announce:p,autoScroller:A,dimensionMarshal:T,focusMarshal:D,getResponders:d,styleMarshal:y}),[p,A,T,D,d,y]);l.current=M;const B=Ct(()=>{const $=zf(l);$.getState().phase!=="IDLE"&&$.dispatch(Fy())},[]),q=Ct(()=>{const $=zf(l).getState();return $.phase==="DROP_ANIMATING"?!0:$.phase==="IDLE"?!1:$.isDragging},[]),V=gn(()=>({isDragging:q,tryAbort:B}),[q,B]);n(V);const W=Ct($=>xA(zf(l).getState(),$),[]),R=Ct(()=>Qc(zf(l).getState()),[]),L=gn(()=>({marshal:T,focus:D,contextId:e,canLift:W,isMovementAllowed:R,dragHandleUsageInstructionsId:g,registry:C}),[e,T,g,D,W,R,C]);return sB({contextId:e,store:M,registry:C,customSensors:r||null,enableDefaultSensors:t.enableDefaultSensors!==!1}),X.useEffect(()=>B,[B]),Ar.createElement(a0.Provider,{value:L},Ar.createElement(DD,{context:Gy,store:M},t.children))}function uB(){return Ar.useId()}function dB(t){const e=uB(),n=t.dragHandleUsageInstructions||om.dragHandleUsageInstructions;return Ar.createElement(zD,null,r=>Ar.createElement(cB,{nonce:t.nonce,contextId:e,setCallbacks:r,dragHandleUsageInstructions:n,enableDefaultSensors:t.enableDefaultSensors,sensors:t.sensors,onBeforeCapture:t.onBeforeCapture,onBeforeDragStart:t.onBeforeDragStart,onDragStart:t.onDragStart,onDragUpdate:t.onDragUpdate,onDragEnd:t.onDragEnd,autoScrollerOptions:t.autoScrollerOptions},t.children))}const Ex={dragging:5e3,dropAnimating:4500},fB=(t,e)=>e?Qf.drop(e.duration):t?Qf.snap:Qf.fluid,hB=(t,e)=>{if(t)return e?yh.opacity.drop:yh.opacity.combining},pB=t=>t.forceShouldAnimate!=null?t.forceShouldAnimate:t.mode==="SNAP";function mB(t){const n=t.dimension.client,{offset:r,combineWith:a,dropping:s}=t,l=!!a,u=pB(t),d=!!s,f=d?kv.drop(r,l):kv.moveTo(r);return{position:"fixed",top:n.marginBox.top,left:n.marginBox.left,boxSizing:"border-box",width:n.borderBox.width,height:n.borderBox.height,transition:fB(u,s),transform:f,opacity:hB(l,d),zIndex:d?Ex.dropAnimating:Ex.dragging,pointerEvents:"none"}}function gB(t){return{transform:kv.moveTo(t.offset),transition:t.shouldAnimateDisplacement?void 0:"none"}}function vB(t){return t.type==="DRAGGING"?mB(t):gB(t)}function yB(t,e,n=oi){const r=window.getComputedStyle(e),a=e.getBoundingClientRect(),s=U3(a,r),l=Tm(s,n),u={client:s,tagName:e.tagName.toLowerCase(),display:r.display},d={x:s.marginBox.width,y:s.marginBox.height};return{descriptor:t,placeholder:u,displaceBy:d,client:s,page:l}}function bB(t){const e=Wy("draggable"),{descriptor:n,registry:r,getDraggableRef:a,canDragInteractiveElements:s,shouldRespectForcePress:l,isEnabled:u}=t,d=gn(()=>({canDragInteractiveElements:s,shouldRespectForcePress:l,isEnabled:u}),[s,u,l]),f=Ct(v=>{const N=a();return N||at(),yB(n,N,v)},[n,a]),p=gn(()=>({uniqueId:e,descriptor:n,options:d,getDimension:f}),[n,f,d,e]),g=X.useRef(p),y=X.useRef(!0);Ma(()=>(r.draggable.register(g.current),()=>r.draggable.unregister(g.current)),[r.draggable]),Ma(()=>{if(y.current){y.current=!1;return}const v=g.current;g.current=p,r.draggable.update(p,v)},[p,r.draggable])}var Ky=Ar.createContext(null);function Dm(t){const e=X.useContext(t);return e||at(),e}function wB(t){t.preventDefault()}const xB=t=>{const e=X.useRef(null),n=Ct((V=null)=>{e.current=V},[]),r=Ct(()=>e.current,[]),{contextId:a,dragHandleUsageInstructionsId:s,registry:l}=Dm(a0),{type:u,droppableId:d}=Dm(Ky),f=gn(()=>({id:t.draggableId,index:t.index,type:u,droppableId:d}),[t.draggableId,t.index,u,d]),{children:p,draggableId:g,isEnabled:y,shouldRespectForcePress:v,canDragInteractiveElements:N,isClone:C,mapped:T,dropAnimationFinished:A}=t;if(!C){const V=gn(()=>({descriptor:f,registry:l,getDraggableRef:r,canDragInteractiveElements:N,shouldRespectForcePress:v,isEnabled:y}),[f,l,r,N,v,y]);bB(V)}const D=gn(()=>y?{tabIndex:0,role:"button","aria-describedby":s,"data-rfd-drag-handle-draggable-id":g,"data-rfd-drag-handle-context-id":a,draggable:!1,onDragStart:wB}:null,[a,s,g,y]),M=Ct(V=>{T.type==="DRAGGING"&&T.dropping&&V.propertyName==="transform"&&wy.flushSync(A)},[A,T]),B=gn(()=>{const V=vB(T),W=T.type==="DRAGGING"&&T.dropping?M:void 0;return{innerRef:n,draggableProps:{"data-rfd-draggable-context-id":a,"data-rfd-draggable-id":g,style:V,onTransitionEnd:W},dragHandleProps:D}},[a,D,g,T,M,n]),q=gn(()=>({draggableId:f.id,type:f.type,source:{index:f.index,droppableId:f.droppableId}}),[f.droppableId,f.id,f.index,f.type]);return Ar.createElement(Ar.Fragment,null,p(B,T.snapshot,q))};var DA=(t,e)=>t===e,PA=t=>{const{combine:e,destination:n}=t;return n?n.droppableId:e?e.droppableId:null};const _B=t=>t.combine?t.combine.draggableId:null,SB=t=>t.at&&t.at.type==="COMBINE"?t.at.combine.draggableId:null;function AB(){const t=si((a,s)=>({x:a,y:s})),e=si((a,s,l=null,u=null,d=null)=>({isDragging:!0,isClone:s,isDropAnimating:!!d,dropAnimation:d,mode:a,draggingOver:l,combineWith:u,combineTargetFor:null})),n=si((a,s,l,u,d=null,f=null,p=null)=>({mapped:{type:"DRAGGING",dropping:null,draggingOver:d,combineWith:f,mode:s,offset:a,dimension:l,forceShouldAnimate:p,snapshot:e(s,u,d,f,null)}}));return(a,s)=>{if(wh(a)){if(a.critical.draggable.id!==s.draggableId)return null;const l=a.current.client.offset,u=a.dimensions.draggables[s.draggableId],d=Pa(a.impact),f=SB(a.impact),p=a.forceShouldAnimate;return n(t(l.x,l.y),a.movementMode,u,s.isClone,d,f,p)}if(a.phase==="DROP_ANIMATING"){const l=a.completed;if(l.result.draggableId!==s.draggableId)return null;const u=s.isClone,d=a.dimensions.draggables[s.draggableId],f=l.result,p=f.mode,g=PA(f),y=_B(f),N={duration:a.dropDuration,curve:zy.drop,moveTo:a.newHomeClientOffset,opacity:y?yh.opacity.drop:null,scale:y?yh.scale.drop:null};return{mapped:{type:"DRAGGING",offset:a.newHomeClientOffset,dimension:d,dropping:N,draggingOver:g,combineWith:y,mode:p,forceShouldAnimate:null,snapshot:e(p,u,g,y,N)}}}return null}}function MA(t=null){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:t,combineWith:null}}const NB={mapped:{type:"SECONDARY",offset:oi,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:MA(null)}};function EB(){const t=si((l,u)=>({x:l,y:u})),e=si(MA),n=si((l,u=null,d)=>({mapped:{type:"SECONDARY",offset:l,combineTargetFor:u,shouldAnimateDisplacement:d,snapshot:e(u)}})),r=l=>l?n(oi,l,!0):null,a=(l,u,d,f)=>{const p=d.displaced.visible[l],g=!!(f.inVirtualList&&f.effected[l]),y=t0(d),v=y&&y.draggableId===l?u:null;if(!p){if(!g)return r(v);if(d.displaced.invisible[l])return null;const T=Wd(f.displacedBy.point),A=t(T.x,T.y);return n(A,v,!0)}if(g)return r(v);const N=d.displacedBy.point,C=t(N.x,N.y);return n(C,v,p.shouldAnimate)};return(l,u)=>{if(wh(l))return l.critical.draggable.id===u.draggableId?null:a(u.draggableId,l.critical.draggable.id,l.impact,l.afterCritical);if(l.phase==="DROP_ANIMATING"){const d=l.completed;return d.result.draggableId===u.draggableId?null:a(u.draggableId,d.result.draggableId,d.impact,d.afterCritical)}return null}}const CB=()=>{const t=AB(),e=EB();return(r,a)=>t(r,a)||e(r,a)||NB},TB={dropAnimationFinished:pA},jB=F3(CB,TB,null,{context:Gy,areStatePropsEqual:DA})(xB);function BA(t){return Dm(Ky).isUsingCloneFor===t.draggableId&&!t.isClone?null:Ar.createElement(jB,t)}function Cx(t){const e=typeof t.isDragDisabled=="boolean"?!t.isDragDisabled:!0,n=!!t.disableInteractiveElementBlocking,r=!!t.shouldRespectForcePress;return Ar.createElement(BA,jm({},t,{isClone:!1,isEnabled:e,canDragInteractiveElements:n,shouldRespectForcePress:r}))}const IA=t=>e=>t===e,kB=IA("scroll"),LB=IA("auto"),Tx=(t,e)=>e(t.overflowX)||e(t.overflowY),RB=t=>{const e=window.getComputedStyle(t),n={overflowX:e.overflowX,overflowY:e.overflowY};return Tx(n,kB)||Tx(n,LB)},OB=()=>!1,FA=t=>t==null?null:t===document.body?OB()?t:null:t===document.documentElement?null:RB(t)?t:FA(t.parentElement);var Ov=t=>({x:t.scrollLeft,y:t.scrollTop});const UA=t=>t?window.getComputedStyle(t).position==="fixed"?!0:UA(t.parentElement):!1;var DB=t=>{const e=FA(t),n=UA(t);return{closestScrollable:e,isFixedOnPage:n}},PB=({descriptor:t,isEnabled:e,isCombineEnabled:n,isFixedOnPage:r,direction:a,client:s,page:l,closest:u})=>{const d=(()=>{if(!u)return null;const{scrollSize:y,client:v}=u,N=yA({scrollHeight:y.scrollHeight,scrollWidth:y.scrollWidth,height:v.paddingBox.height,width:v.paddingBox.width});return{pageMarginBox:u.page.marginBox,frameClient:v,scrollSize:y,shouldClipSubject:u.shouldClipSubject,scroll:{initial:u.scroll,current:u.scroll,max:N,diff:{value:oi,displacement:oi}}}})(),f=a==="vertical"?Dy:J3,p=Fd({page:l,withPlaceholder:null,axis:f,frame:d});return{descriptor:t,isCombineEnabled:n,isFixedOnPage:r,axis:f,isEnabled:e,client:s,page:l,frame:d,subject:p}};const MB=(t,e)=>{const n=z3(t);if(!e||t!==e)return n;const r=n.paddingBox.top-e.scrollTop,a=n.paddingBox.left-e.scrollLeft,s=r+e.scrollHeight,l=a+e.scrollWidth,d=ky({top:r,right:l,bottom:s,left:a},n.border);return Ly({borderBox:d,margin:n.margin,border:n.border,padding:n.padding})};var BB=({ref:t,descriptor:e,env:n,windowScroll:r,direction:a,isDropDisabled:s,isCombineEnabled:l,shouldClipSubject:u})=>{const d=n.closestScrollable,f=MB(t,d),p=Tm(f,r),g=(()=>{if(!d)return null;const v=z3(d),N={scrollHeight:d.scrollHeight,scrollWidth:d.scrollWidth};return{client:v,page:Tm(v,r),scroll:Ov(d),scrollSize:N,shouldClipSubject:u}})();return PB({descriptor:e,isEnabled:!s,isCombineEnabled:l,isFixedOnPage:n.isFixedOnPage,direction:a,client:f,page:p,closest:g})};const IB={passive:!1},FB={passive:!0};var jx=t=>t.shouldPublishImmediately?IB:FB;const qp=t=>t&&t.env.closestScrollable||null;function UB(t){const e=X.useRef(null),n=Dm(a0),r=Wy("droppable"),{registry:a,marshal:s}=n,l=CA(t),u=gn(()=>({id:t.droppableId,type:t.type,mode:t.mode}),[t.droppableId,t.mode,t.type]),d=X.useRef(u),f=gn(()=>si((B,q)=>{e.current||at();const V={x:B,y:q};s.updateDroppableScroll(u.id,V)}),[u.id,s]),p=Ct(()=>{const B=e.current;return!B||!B.env.closestScrollable?oi:Ov(B.env.closestScrollable)},[]),g=Ct(()=>{const B=p();f(B.x,B.y)},[p,f]),y=gn(()=>ph(g),[g]),v=Ct(()=>{const B=e.current,q=qp(B);if(B&&q||at(),B.scrollOptions.shouldPublishImmediately){g();return}y()},[y,g]),N=Ct((B,q)=>{e.current&&at();const V=l.current,W=V.getDroppableRef();W||at();const R=DB(W),L={ref:W,descriptor:u,env:R,scrollOptions:q};e.current=L;const $=BB({ref:W,descriptor:u,env:R,windowScroll:B,direction:V.direction,isDropDisabled:V.isDropDisabled,isCombineEnabled:V.isCombineEnabled,shouldClipSubject:!V.ignoreContainerClipping}),k=R.closestScrollable;return k&&(k.setAttribute(_x.contextId,n.contextId),k.addEventListener("scroll",v,jx(L.scrollOptions))),$},[n.contextId,u,v,l]),C=Ct(()=>{const B=e.current,q=qp(B);return B&&q||at(),Ov(q)},[]),T=Ct(()=>{const B=e.current;B||at();const q=qp(B);e.current=null,q&&(y.cancel(),q.removeAttribute(_x.contextId),q.removeEventListener("scroll",v,jx(B.scrollOptions)))},[v,y]),A=Ct(B=>{const q=e.current;q||at();const V=qp(q);V||at(),V.scrollTop+=B.y,V.scrollLeft+=B.x},[]),D=gn(()=>({getDimensionAndWatchScroll:N,getScrollWhileDragging:C,dragStopped:T,scroll:A}),[T,N,C,A]),M=gn(()=>({uniqueId:r,descriptor:u,callbacks:D}),[D,u,r]);Ma(()=>(d.current=M.descriptor,a.droppable.register(M),()=>{e.current&&T(),a.droppable.unregister(M)}),[D,u,T,M,s,a.droppable]),Ma(()=>{e.current&&s.updateDroppableIsEnabled(d.current.id,!t.isDropDisabled)},[t.isDropDisabled,s]),Ma(()=>{e.current&&s.updateDroppableIsCombineEnabled(d.current.id,t.isCombineEnabled)},[t.isCombineEnabled,s])}function e1(){}const kx={width:0,height:0,margin:YD},zB=({isAnimatingOpenOnMount:t,placeholder:e,animate:n})=>t||n==="close"?kx:{height:e.client.borderBox.height,width:e.client.borderBox.width,margin:e.client.margin},qB=({isAnimatingOpenOnMount:t,placeholder:e,animate:n})=>{const r=zB({isAnimatingOpenOnMount:t,placeholder:e,animate:n});return{display:e.display,boxSizing:"border-box",width:r.width,height:r.height,marginTop:r.margin.top,marginRight:r.margin.right,marginBottom:r.margin.bottom,marginLeft:r.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:n!=="none"?Qf.placeholder:null}},VB=t=>{const e=X.useRef(null),n=Ct(()=>{e.current&&(clearTimeout(e.current),e.current=null)},[]),{animate:r,onTransitionEnd:a,onClose:s,contextId:l}=t,[u,d]=X.useState(t.animate==="open");X.useEffect(()=>u?r!=="open"?(n(),d(!1),e1):e.current?e1:(e.current=setTimeout(()=>{e.current=null,d(!1)}),n):e1,[r,u,n]);const f=Ct(g=>{g.propertyName==="height"&&(a(),r==="close"&&s())},[r,s,a]),p=qB({isAnimatingOpenOnMount:u,animate:t.animate,placeholder:t.placeholder});return Ar.createElement(t.placeholder.tagName,{style:p,"data-rfd-placeholder-context-id":l,onTransitionEnd:f,ref:t.innerRef})};var HB=Ar.memo(VB);class $B extends Ar.PureComponent{constructor(...e){super(...e),this.state={isVisible:!!this.props.on,data:this.props.on,animate:this.props.shouldAnimate&&this.props.on?"open":"none"},this.onClose=()=>{this.state.animate==="close"&&this.setState({isVisible:!1})}}static getDerivedStateFromProps(e,n){return e.shouldAnimate?e.on?{isVisible:!0,data:e.on,animate:"open"}:n.isVisible?{isVisible:!0,data:n.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:!!e.on,data:e.on,animate:"none"}}render(){if(!this.state.isVisible)return null;const e={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(e)}}const GB=t=>{const e=X.useContext(a0);e||at();const{contextId:n,isMovementAllowed:r}=e,a=X.useRef(null),s=X.useRef(null),{children:l,droppableId:u,type:d,mode:f,direction:p,ignoreContainerClipping:g,isDropDisabled:y,isCombineEnabled:v,snapshot:N,useClone:C,updateViewportMaxScroll:T,getContainerForClone:A}=t,D=Ct(()=>a.current,[]),M=Ct((k=null)=>{a.current=k},[]);Ct(()=>s.current,[]);const B=Ct((k=null)=>{s.current=k},[]),q=Ct(()=>{r()&&T({maxScroll:wA()})},[r,T]);UB({droppableId:u,type:d,mode:f,direction:p,isDropDisabled:y,isCombineEnabled:v,ignoreContainerClipping:g,getDroppableRef:D});const V=gn(()=>Ar.createElement($B,{on:t.placeholder,shouldAnimate:t.shouldAnimatePlaceholder},({onClose:k,data:I,animate:J})=>Ar.createElement(HB,{placeholder:I,onClose:k,innerRef:B,animate:J,contextId:n,onTransitionEnd:q})),[n,q,t.placeholder,t.shouldAnimatePlaceholder,B]),W=gn(()=>({innerRef:M,placeholder:V,droppableProps:{"data-rfd-droppable-id":u,"data-rfd-droppable-context-id":n}}),[n,u,V,M]),R=C?C.dragging.draggableId:null,L=gn(()=>({droppableId:u,type:d,isUsingCloneFor:R}),[u,R,d]);function $(){if(!C)return null;const{dragging:k,render:I}=C,J=Ar.createElement(BA,{draggableId:k.draggableId,index:k.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},(ne,we)=>I(ne,we,k));return hT.createPortal(J,A())}return Ar.createElement(Ky.Provider,{value:L},l(W,N),$())};function WB(){return document.body||at(),document.body}const Lx={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:WB},zA=t=>{let e={...t},n;for(n in Lx)t[n]===void 0&&(e={...e,[n]:Lx[n]});return e},t1=(t,e)=>t===e.droppable.type,Rx=(t,e)=>e.draggables[t.draggable.id],YB=()=>{const t={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},e={...t,shouldAnimatePlaceholder:!1},n=si(s=>({draggableId:s.id,type:s.type,source:{index:s.index,droppableId:s.droppableId}})),r=si((s,l,u,d,f,p)=>{const g=f.descriptor.id;if(f.descriptor.droppableId===s){const N=p?{render:p,dragging:n(f.descriptor)}:null,C={isDraggingOver:u,draggingOverWith:u?g:null,draggingFromThisWith:g,isUsingPlaceholder:!0};return{placeholder:f.placeholder,shouldAnimatePlaceholder:!1,snapshot:C,useClone:N}}if(!l)return e;if(!d)return t;const v={isDraggingOver:u,draggingOverWith:g,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:f.placeholder,shouldAnimatePlaceholder:!0,snapshot:v,useClone:null}});return(s,l)=>{const u=zA(l),d=u.droppableId,f=u.type,p=!u.isDropDisabled,g=u.renderClone;if(wh(s)){const y=s.critical;if(!t1(f,y))return e;const v=Rx(y,s.dimensions),N=Pa(s.impact)===d;return r(d,p,N,N,v,g)}if(s.phase==="DROP_ANIMATING"){const y=s.completed;if(!t1(f,y.critical))return e;const v=Rx(y.critical,s.dimensions);return r(d,p,PA(y.result)===d,Pa(y.impact)===d,v,g)}if(s.phase==="IDLE"&&s.completed&&!s.shouldFlush){const y=s.completed;if(!t1(f,y.critical))return e;const v=Pa(y.impact)===d,N=!!(y.impact.at&&y.impact.at.type==="COMBINE"),C=y.critical.droppable.id===d;return v?N?t:e:C?t:e}return e}},KB={updateViewportMaxScroll:sP},Ox=F3(YB,KB,(t,e,n)=>({...zA(n),...t,...e}),{context:Gy,areStatePropsEqual:DA})(GB);var lm={exports:{}};var XB=lm.exports,Dx;function JB(){return Dx||(Dx=1,(function(t,e){((n,r)=>{t.exports=r()})(XB,function n(){var r=typeof self<"u"?self:typeof window<"u"?window:r!==void 0?r:{},a,s=!r.document&&!!r.postMessage,l=r.IS_PAPA_WORKER||!1,u={},d=0,f={};function p(R){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(L){var $=q(L);$.chunkSize=parseInt($.chunkSize),L.step||L.chunk||($.chunkSize=null),this._handle=new C($),(this._handle.streamer=this)._config=$}).call(this,R),this.parseChunk=function(L,$){var k=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<k){let J=this._config.newline;J||(I=this._config.quoteChar||'"',J=this._handle.guessLineEndings(L,I)),L=[...L.split(J).slice(k)].join(J)}this.isFirstChunk&&W(this._config.beforeFirstChunk)&&(I=this._config.beforeFirstChunk(L))!==void 0&&(L=I),this.isFirstChunk=!1,this._halted=!1;var k=this._partialLine+L,I=(this._partialLine="",this._handle.parse(k,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(L=I.meta.cursor,k=(this._finished||(this._partialLine=k.substring(L-this._baseIndex),this._baseIndex=L),I&&I.data&&(this._rowCount+=I.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),l)r.postMessage({results:I,workerId:f.WORKER_ID,finished:k});else if(W(this._config.chunk)&&!$){if(this._config.chunk(I,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=I=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(I.data),this._completeResults.errors=this._completeResults.errors.concat(I.errors),this._completeResults.meta=I.meta),this._completed||!k||!W(this._config.complete)||I&&I.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),k||I&&I.meta.paused||this._nextChunk(),I}this._halted=!0},this._sendError=function(L){W(this._config.error)?this._config.error(L):l&&this._config.error&&r.postMessage({workerId:f.WORKER_ID,error:L,finished:!1})}}function g(R){var L;(R=R||{}).chunkSize||(R.chunkSize=f.RemoteChunkSize),p.call(this,R),this._nextChunk=s?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function($){this._input=$,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(L=new XMLHttpRequest,this._config.withCredentials&&(L.withCredentials=this._config.withCredentials),s||(L.onload=V(this._chunkLoaded,this),L.onerror=V(this._chunkError,this)),L.open(this._config.downloadRequestBody?"POST":"GET",this._input,!s),this._config.downloadRequestHeaders){var $,k=this._config.downloadRequestHeaders;for($ in k)L.setRequestHeader($,k[$])}var I;this._config.chunkSize&&(I=this._start+this._config.chunkSize-1,L.setRequestHeader("Range","bytes="+this._start+"-"+I));try{L.send(this._config.downloadRequestBody)}catch(J){this._chunkError(J.message)}s&&L.status===0&&this._chunkError()}},this._chunkLoaded=function(){L.readyState===4&&(L.status<200||400<=L.status?this._chunkError():(this._start+=this._config.chunkSize||L.responseText.length,this._finished=!this._config.chunkSize||this._start>=($=>($=$.getResponseHeader("Content-Range"))!==null?parseInt($.substring($.lastIndexOf("/")+1)):-1)(L),this.parseChunk(L.responseText)))},this._chunkError=function($){$=L.statusText||$,this._sendError(new Error($))}}function y(R){(R=R||{}).chunkSize||(R.chunkSize=f.LocalChunkSize),p.call(this,R);var L,$,k=typeof FileReader<"u";this.stream=function(I){this._input=I,$=I.slice||I.webkitSlice||I.mozSlice,k?((L=new FileReader).onload=V(this._chunkLoaded,this),L.onerror=V(this._chunkError,this)):L=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var I=this._input,J=(this._config.chunkSize&&(J=Math.min(this._start+this._config.chunkSize,this._input.size),I=$.call(I,this._start,J)),L.readAsText(I,this._config.encoding));k||this._chunkLoaded({target:{result:J}})},this._chunkLoaded=function(I){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(I.target.result)},this._chunkError=function(){this._sendError(L.error)}}function v(R){var L;p.call(this,R=R||{}),this.stream=function($){return L=$,this._nextChunk()},this._nextChunk=function(){var $,k;if(!this._finished)return $=this._config.chunkSize,L=$?(k=L.substring(0,$),L.substring($)):(k=L,""),this._finished=!L,this.parseChunk(k)}}function N(R){p.call(this,R=R||{});var L=[],$=!0,k=!1;this.pause=function(){p.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){p.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(I){this._input=I,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){k&&L.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),L.length?this.parseChunk(L.shift()):$=!0},this._streamData=V(function(I){try{L.push(typeof I=="string"?I:I.toString(this._config.encoding)),$&&($=!1,this._checkIsFinished(),this.parseChunk(L.shift()))}catch(J){this._streamError(J)}},this),this._streamError=V(function(I){this._streamCleanUp(),this._sendError(I)},this),this._streamEnd=V(function(){this._streamCleanUp(),k=!0,this._streamData("")},this),this._streamCleanUp=V(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function C(R){var L,$,k,I,J=Math.pow(2,53),ne=-J,we=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,re=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,le=this,ce=0,me=0,Re=!1,Y=!1,P=[],z={data:[],errors:[],meta:{}};function Z(ve){return R.skipEmptyLines==="greedy"?ve.join("").trim()==="":ve.length===1&&ve[0].length===0}function se(){if(z&&k&&(he("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+f.DefaultDelimiter+"'"),k=!1),R.skipEmptyLines&&(z.data=z.data.filter(function(Oe){return!Z(Oe)})),ue()){let Oe=function(qe,Qe){W(R.transformHeader)&&(qe=R.transformHeader(qe,Qe)),P.push(qe)};if(z)if(Array.isArray(z.data[0])){for(var ve=0;ue()&&ve<z.data.length;ve++)z.data[ve].forEach(Oe);z.data.splice(0,1)}else z.data.forEach(Oe)}function be(Oe,qe){for(var Qe=R.header?{}:[],nt=0;nt<Oe.length;nt++){var ee=nt,$e=Oe[nt],$e=((St,tt)=>(Me=>(R.dynamicTypingFunction&&R.dynamicTyping[Me]===void 0&&(R.dynamicTyping[Me]=R.dynamicTypingFunction(Me)),(R.dynamicTyping[Me]||R.dynamicTyping)===!0))(St)?tt==="true"||tt==="TRUE"||tt!=="false"&&tt!=="FALSE"&&((Me=>{if(we.test(Me)&&(Me=parseFloat(Me),ne<Me&&Me<J))return 1})(tt)?parseFloat(tt):re.test(tt)?new Date(tt):tt===""?null:tt):tt)(ee=R.header?nt>=P.length?"__parsed_extra":P[nt]:ee,$e=R.transform?R.transform($e,ee):$e);ee==="__parsed_extra"?(Qe[ee]=Qe[ee]||[],Qe[ee].push($e)):Qe[ee]=$e}return R.header&&(nt>P.length?he("FieldMismatch","TooManyFields","Too many fields: expected "+P.length+" fields but parsed "+nt,me+qe):nt<P.length&&he("FieldMismatch","TooFewFields","Too few fields: expected "+P.length+" fields but parsed "+nt,me+qe)),Qe}var je;z&&(R.header||R.dynamicTyping||R.transform)&&(je=1,!z.data.length||Array.isArray(z.data[0])?(z.data=z.data.map(be),je=z.data.length):z.data=be(z.data,0),R.header&&z.meta&&(z.meta.fields=P),me+=je)}function ue(){return R.header&&P.length===0}function he(ve,be,je,Oe){ve={type:ve,code:be,message:je},Oe!==void 0&&(ve.row=Oe),z.errors.push(ve)}W(R.step)&&(I=R.step,R.step=function(ve){z=ve,ue()?se():(se(),z.data.length!==0&&(ce+=ve.data.length,R.preview&&ce>R.preview?$.abort():(z.data=z.data[0],I(z,le))))}),this.parse=function(ve,be,je){var Oe=R.quoteChar||'"',Oe=(R.newline||(R.newline=this.guessLineEndings(ve,Oe)),k=!1,R.delimiter?W(R.delimiter)&&(R.delimiter=R.delimiter(ve),z.meta.delimiter=R.delimiter):((Oe=((qe,Qe,nt,ee,$e)=>{var St,tt,Me,de;$e=$e||[",","	","|",";",f.RECORD_SEP,f.UNIT_SEP];for(var Ne=0;Ne<$e.length;Ne++){for(var Ke,Ge=$e[Ne],He=0,Ie=0,Je=0,ot=(Me=void 0,new A({comments:ee,delimiter:Ge,newline:Qe,preview:10}).parse(qe)),ct=0;ct<ot.data.length;ct++)nt&&Z(ot.data[ct])?Je++:(Ke=ot.data[ct].length,Ie+=Ke,Me===void 0?Me=Ke:0<Ke&&(He+=Math.abs(Ke-Me),Me=Ke));0<ot.data.length&&(Ie/=ot.data.length-Je),(tt===void 0||He<=tt)&&(de===void 0||de<Ie)&&1.99<Ie&&(tt=He,St=Ge,de=Ie)}return{successful:!!(R.delimiter=St),bestDelimiter:St}})(ve,R.newline,R.skipEmptyLines,R.comments,R.delimitersToGuess)).successful?R.delimiter=Oe.bestDelimiter:(k=!0,R.delimiter=f.DefaultDelimiter),z.meta.delimiter=R.delimiter),q(R));return R.preview&&R.header&&Oe.preview++,L=ve,$=new A(Oe),z=$.parse(L,be,je),se(),Re?{meta:{paused:!0}}:z||{meta:{paused:!1}}},this.paused=function(){return Re},this.pause=function(){Re=!0,$.abort(),L=W(R.chunk)?"":L.substring($.getCharIndex())},this.resume=function(){le.streamer._halted?(Re=!1,le.streamer.parseChunk(L,!0)):setTimeout(le.resume,3)},this.aborted=function(){return Y},this.abort=function(){Y=!0,$.abort(),z.meta.aborted=!0,W(R.complete)&&R.complete(z),L=""},this.guessLineEndings=function(qe,Oe){qe=qe.substring(0,1048576);var Oe=new RegExp(T(Oe)+"([^]*?)"+T(Oe),"gm"),je=(qe=qe.replace(Oe,"")).split("\r"),Oe=qe.split(`
`),qe=1<Oe.length&&Oe[0].length<je[0].length;if(je.length===1||qe)return`
`;for(var Qe=0,nt=0;nt<je.length;nt++)je[nt][0]===`
`&&Qe++;return Qe>=je.length/2?`\r
`:"\r"}}function T(R){return R.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function A(R){var L=(R=R||{}).delimiter,$=R.newline,k=R.comments,I=R.step,J=R.preview,ne=R.fastMode,we=null,re=!1,le=R.quoteChar==null?'"':R.quoteChar,ce=le;if(R.escapeChar!==void 0&&(ce=R.escapeChar),(typeof L!="string"||-1<f.BAD_DELIMITERS.indexOf(L))&&(L=","),k===L)throw new Error("Comment character same as delimiter");k===!0?k="#":(typeof k!="string"||-1<f.BAD_DELIMITERS.indexOf(k))&&(k=!1),$!==`
`&&$!=="\r"&&$!==`\r
`&&($=`
`);var me=0,Re=!1;this.parse=function(Y,P,z){if(typeof Y!="string")throw new Error("Input must be a string");var Z=Y.length,se=L.length,ue=$.length,he=k.length,ve=W(I),be=[],je=[],Oe=[],qe=me=0;if(!Y)return He();if(ne||ne!==!1&&Y.indexOf(le)===-1){for(var Qe=Y.split($),nt=0;nt<Qe.length;nt++){if(Oe=Qe[nt],me+=Oe.length,nt!==Qe.length-1)me+=$.length;else if(z)return He();if(!k||Oe.substring(0,he)!==k){if(ve){if(be=[],de(Oe.split(L)),Ie(),Re)return He()}else de(Oe.split(L));if(J&&J<=nt)return be=be.slice(0,J),He(!0)}}return He()}for(var ee=Y.indexOf(L,me),$e=Y.indexOf($,me),St=new RegExp(T(ce)+T(le),"g"),tt=Y.indexOf(le,me);;)if(Y[me]===le)for(tt=me,me++;;){if((tt=Y.indexOf(le,tt+1))===-1)return z||je.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:be.length,index:me}),Ke();if(tt===Z-1)return Ke(Y.substring(me,tt).replace(St,le));if(le===ce&&Y[tt+1]===ce)tt++;else if(le===ce||tt===0||Y[tt-1]!==ce){ee!==-1&&ee<tt+1&&(ee=Y.indexOf(L,tt+1));var Me=Ne(($e=$e!==-1&&$e<tt+1?Y.indexOf($,tt+1):$e)===-1?ee:Math.min(ee,$e));if(Y.substr(tt+1+Me,se)===L){Oe.push(Y.substring(me,tt).replace(St,le)),Y[me=tt+1+Me+se]!==le&&(tt=Y.indexOf(le,me)),ee=Y.indexOf(L,me),$e=Y.indexOf($,me);break}if(Me=Ne($e),Y.substring(tt+1+Me,tt+1+Me+ue)===$){if(Oe.push(Y.substring(me,tt).replace(St,le)),Ge(tt+1+Me+ue),ee=Y.indexOf(L,me),tt=Y.indexOf(le,me),ve&&(Ie(),Re))return He();if(J&&be.length>=J)return He(!0);break}je.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:be.length,index:me}),tt++}}else if(k&&Oe.length===0&&Y.substring(me,me+he)===k){if($e===-1)return He();me=$e+ue,$e=Y.indexOf($,me),ee=Y.indexOf(L,me)}else if(ee!==-1&&(ee<$e||$e===-1))Oe.push(Y.substring(me,ee)),me=ee+se,ee=Y.indexOf(L,me);else{if($e===-1)break;if(Oe.push(Y.substring(me,$e)),Ge($e+ue),ve&&(Ie(),Re))return He();if(J&&be.length>=J)return He(!0)}return Ke();function de(Je){be.push(Je),qe=me}function Ne(Je){var ot=0;return ot=Je!==-1&&(Je=Y.substring(tt+1,Je))&&Je.trim()===""?Je.length:ot}function Ke(Je){return z||(Je===void 0&&(Je=Y.substring(me)),Oe.push(Je),me=Z,de(Oe),ve&&Ie()),He()}function Ge(Je){me=Je,de(Oe),Oe=[],$e=Y.indexOf($,me)}function He(Je){if(R.header&&!P&&be.length&&!re){var ot=be[0],ct=Object.create(null),Ze=new Set(ot);let ht=!1;for(let it=0;it<ot.length;it++){let Qt=ot[it];if(ct[Qt=W(R.transformHeader)?R.transformHeader(Qt,it):Qt]){let kt,rt=ct[Qt];for(;kt=Qt+"_"+rt,rt++,Ze.has(kt););Ze.add(kt),ot[it]=kt,ct[Qt]++,ht=!0,(we=we===null?{}:we)[kt]=Qt}else ct[Qt]=1,ot[it]=Qt;Ze.add(Qt)}ht&&console.warn("Duplicate headers found and renamed."),re=!0}return{data:be,errors:je,meta:{delimiter:L,linebreak:$,aborted:Re,truncated:!!Je,cursor:qe+(P||0),renamedHeaders:we}}}function Ie(){I(He()),be=[],je=[]}},this.abort=function(){Re=!0},this.getCharIndex=function(){return me}}function D(R){var L=R.data,$=u[L.workerId],k=!1;if(L.error)$.userError(L.error,L.file);else if(L.results&&L.results.data){var I={abort:function(){k=!0,M(L.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:B,resume:B};if(W($.userStep)){for(var J=0;J<L.results.data.length&&($.userStep({data:L.results.data[J],errors:L.results.errors,meta:L.results.meta},I),!k);J++);delete L.results}else W($.userChunk)&&($.userChunk(L.results,I,L.file),delete L.results)}L.finished&&!k&&M(L.workerId,L.results)}function M(R,L){var $=u[R];W($.userComplete)&&$.userComplete(L),$.terminate(),delete u[R]}function B(){throw new Error("Not implemented.")}function q(R){if(typeof R!="object"||R===null)return R;var L,$=Array.isArray(R)?[]:{};for(L in R)$[L]=q(R[L]);return $}function V(R,L){return function(){R.apply(L,arguments)}}function W(R){return typeof R=="function"}return f.parse=function(R,L){var $=(L=L||{}).dynamicTyping||!1;if(W($)&&(L.dynamicTypingFunction=$,$={}),L.dynamicTyping=$,L.transform=!!W(L.transform)&&L.transform,!L.worker||!f.WORKERS_SUPPORTED)return $=null,f.NODE_STREAM_INPUT,typeof R=="string"?(R=(k=>k.charCodeAt(0)!==65279?k:k.slice(1))(R),$=new(L.download?g:v)(L)):R.readable===!0&&W(R.read)&&W(R.on)?$=new N(L):(r.File&&R instanceof File||R instanceof Object)&&($=new y(L)),$.stream(R);($=(()=>{var k;return!!f.WORKERS_SUPPORTED&&(k=(()=>{var I=r.URL||r.webkitURL||null,J=n.toString();return f.BLOB_URL||(f.BLOB_URL=I.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",J,")();"],{type:"text/javascript"})))})(),(k=new r.Worker(k)).onmessage=D,k.id=d++,u[k.id]=k)})()).userStep=L.step,$.userChunk=L.chunk,$.userComplete=L.complete,$.userError=L.error,L.step=W(L.step),L.chunk=W(L.chunk),L.complete=W(L.complete),L.error=W(L.error),delete L.worker,$.postMessage({input:R,config:L,workerId:$.id})},f.unparse=function(R,L){var $=!1,k=!0,I=",",J=`\r
`,ne='"',we=ne+ne,re=!1,le=null,ce=!1,me=((()=>{if(typeof L=="object"){if(typeof L.delimiter!="string"||f.BAD_DELIMITERS.filter(function(P){return L.delimiter.indexOf(P)!==-1}).length||(I=L.delimiter),typeof L.quotes!="boolean"&&typeof L.quotes!="function"&&!Array.isArray(L.quotes)||($=L.quotes),typeof L.skipEmptyLines!="boolean"&&typeof L.skipEmptyLines!="string"||(re=L.skipEmptyLines),typeof L.newline=="string"&&(J=L.newline),typeof L.quoteChar=="string"&&(ne=L.quoteChar),typeof L.header=="boolean"&&(k=L.header),Array.isArray(L.columns)){if(L.columns.length===0)throw new Error("Option columns is empty");le=L.columns}L.escapeChar!==void 0&&(we=L.escapeChar+ne),L.escapeFormulae instanceof RegExp?ce=L.escapeFormulae:typeof L.escapeFormulae=="boolean"&&L.escapeFormulae&&(ce=/^[=+\-@\t\r].*$/)}})(),new RegExp(T(ne),"g"));if(typeof R=="string"&&(R=JSON.parse(R)),Array.isArray(R)){if(!R.length||Array.isArray(R[0]))return Re(null,R,re);if(typeof R[0]=="object")return Re(le||Object.keys(R[0]),R,re)}else if(typeof R=="object")return typeof R.data=="string"&&(R.data=JSON.parse(R.data)),Array.isArray(R.data)&&(R.fields||(R.fields=R.meta&&R.meta.fields||le),R.fields||(R.fields=Array.isArray(R.data[0])?R.fields:typeof R.data[0]=="object"?Object.keys(R.data[0]):[]),Array.isArray(R.data[0])||typeof R.data[0]=="object"||(R.data=[R.data])),Re(R.fields||[],R.data||[],re);throw new Error("Unable to serialize unrecognized input");function Re(P,z,Z){var se="",ue=(typeof P=="string"&&(P=JSON.parse(P)),typeof z=="string"&&(z=JSON.parse(z)),Array.isArray(P)&&0<P.length),he=!Array.isArray(z[0]);if(ue&&k){for(var ve=0;ve<P.length;ve++)0<ve&&(se+=I),se+=Y(P[ve],ve);0<z.length&&(se+=J)}for(var be=0;be<z.length;be++){var je=(ue?P:z[be]).length,Oe=!1,qe=ue?Object.keys(z[be]).length===0:z[be].length===0;if(Z&&!ue&&(Oe=Z==="greedy"?z[be].join("").trim()==="":z[be].length===1&&z[be][0].length===0),Z==="greedy"&&ue){for(var Qe=[],nt=0;nt<je;nt++){var ee=he?P[nt]:nt;Qe.push(z[be][ee])}Oe=Qe.join("").trim()===""}if(!Oe){for(var $e=0;$e<je;$e++){0<$e&&!qe&&(se+=I);var St=ue&&he?P[$e]:$e;se+=Y(z[be][St],$e)}be<z.length-1&&(!Z||0<je&&!qe)&&(se+=J)}}return se}function Y(P,z){var Z,se;return P==null?"":P.constructor===Date?JSON.stringify(P).slice(1,25):(se=!1,ce&&typeof P=="string"&&ce.test(P)&&(P="'"+P,se=!0),Z=P.toString().replace(me,we),(se=se||$===!0||typeof $=="function"&&$(P,z)||Array.isArray($)&&$[z]||((ue,he)=>{for(var ve=0;ve<he.length;ve++)if(-1<ue.indexOf(he[ve]))return!0;return!1})(Z,f.BAD_DELIMITERS)||-1<Z.indexOf(I)||Z.charAt(0)===" "||Z.charAt(Z.length-1)===" ")?ne+Z+ne:Z)}},f.RECORD_SEP="",f.UNIT_SEP="",f.BYTE_ORDER_MARK="\uFEFF",f.BAD_DELIMITERS=["\r",`
`,'"',f.BYTE_ORDER_MARK],f.WORKERS_SUPPORTED=!s&&!!r.Worker,f.NODE_STREAM_INPUT=1,f.LocalChunkSize=10485760,f.RemoteChunkSize=5242880,f.DefaultDelimiter=",",f.Parser=A,f.ParserHandle=C,f.NetworkStreamer=g,f.FileStreamer=y,f.StringStreamer=v,f.ReadableStreamStreamer=N,r.jQuery&&((a=r.jQuery).fn.parse=function(R){var L=R.config||{},$=[];return this.each(function(J){if(!(a(this).prop("tagName").toUpperCase()==="INPUT"&&a(this).attr("type").toLowerCase()==="file"&&r.FileReader)||!this.files||this.files.length===0)return!0;for(var ne=0;ne<this.files.length;ne++)$.push({file:this.files[ne],inputElem:this,instanceConfig:a.extend({},L)})}),k(),this;function k(){if($.length===0)W(R.complete)&&R.complete();else{var J,ne,we,re,le=$[0];if(W(R.before)){var ce=R.before(le.file,le.inputElem);if(typeof ce=="object"){if(ce.action==="abort")return J="AbortError",ne=le.file,we=le.inputElem,re=ce.reason,void(W(R.error)&&R.error({name:J},ne,we,re));if(ce.action==="skip")return void I();typeof ce.config=="object"&&(le.instanceConfig=a.extend(le.instanceConfig,ce.config))}else if(ce==="skip")return void I()}var me=le.instanceConfig.complete;le.instanceConfig.complete=function(Re){W(me)&&me(Re,le.file,le.inputElem),I()},f.parse(le.file,le.instanceConfig)}}function I(){$.splice(0,1),k()}}),l&&(r.onmessage=function(R){R=R.data,f.WORKER_ID===void 0&&R&&(f.WORKER_ID=R.workerId),typeof R.input=="string"?r.postMessage({workerId:f.WORKER_ID,results:f.parse(R.input,R.config),finished:!0}):(r.File&&R.input instanceof File||R.input instanceof Object)&&(R=f.parse(R.input,R.config))&&r.postMessage({workerId:f.WORKER_ID,results:R,finished:!0})}),(g.prototype=Object.create(p.prototype)).constructor=g,(y.prototype=Object.create(p.prototype)).constructor=y,(v.prototype=Object.create(v.prototype)).constructor=v,(N.prototype=Object.create(p.prototype)).constructor=N,f})})(lm)),lm.exports}var QB=JB();const ZB=Th(QB);function eI({isOpen:t,onClose:e,event:n,onImportComplete:r}){const a=X.useRef(null),[s,l]=X.useState("upload"),[u,d]=X.useState([]),[f,p]=X.useState(null);if(!t)return null;const g=A=>{const D=A.target.files?.[0];D&&y(D)},y=A=>{p(null),ZB.parse(A,{header:!0,skipEmptyLines:!0,complete:D=>{if(D.errors.length>0){p("Error al leer el archivo CSV. Verifique el formato.");return}const q=D.data.map(V=>{const W={};return Object.keys(V).forEach(R=>{W[R.toLowerCase().trim()]=V[R]}),W}).map(V=>{const W=V.nombre||V.first_name||V.name||"",R=V.apellido||V.last_name||V.surname||"",L=V.mesa||V.table||"";return{nombre:W,apellido:R,mesa:L,isValid:!!W&&!!R}});if(q.length===0){p("No se encontraron datos vlidos en el archivo.");return}d(q),l("preview")},error:D=>{p("Error al procesar el archivo: "+D.message)}})},v=()=>{d([{nombre:"Lionel",apellido:"Messi",mesa:"Mesa 10",isValid:!0},{nombre:"Antonela",apellido:"Roccuzzo",mesa:"Mesa 10",isValid:!0},{nombre:"Sergio",apellido:"Aguero",mesa:"Mesa 9",isValid:!0},{nombre:"Diego",apellido:"Maradona",mesa:"Cielo",isValid:!0},{nombre:"",apellido:"Incompleto",mesa:"",isValid:!1,error:"Falta nombre"}]),l("preview")},N=async()=>{if(l("uploading"),n.id==="123"){setTimeout(()=>{const A=u.filter(D=>D.isValid).map((D,M)=>({id:`mock-${Date.now()}-${M}`,event_id:"123",first_name:D.nombre,last_name:D.apellido,display_name:`${D.nombre} ${D.apellido}`,table_info:D.mesa||null,status:"pending",created_at:new Date().toISOString()}));r(A),C()},1500);return}try{const A=u.filter(M=>M.isValid).map(M=>({event_id:n.id,first_name:M.nombre,last_name:M.apellido,display_name:`${M.nombre} ${M.apellido}`,table_info:M.mesa||null,status:"pending"}));if(A.length===0)throw new Error("No hay invitados vlidos para importar.");const{error:D}=await cn.from("guests").insert(A);if(D)throw D;r(),C()}catch(A){console.error(A),p(A.message||"Error al guardar los invitados."),l("preview")}},C=()=>{d([]),l("upload"),p(null),e()},T=()=>{let A=`data:text/csv;charset=utf-8,Mesa,Nombre,Apellido
`;const D=n.table_count||0,M=n.guests_per_table_default||10;if(D>0)for(let V=1;V<=D;V++)for(let W=0;W<M;W++)A+=`Mesa ${V},,
`;else A+=`Mesa 1,Juan,Perez
`,A+=`Mesa VIP,Maria,Gonzalez
`;const B=encodeURI(A),q=document.createElement("a");q.setAttribute("href",B),q.setAttribute("download",`plantilla_invitados_${n.name.replace(/\s+/g,"_").toLowerCase()}.csv`),document.body.appendChild(q),q.click(),document.body.removeChild(q)};return w.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/80 backdrop-blur-sm",children:w.jsxs("div",{className:"glass-card w-full max-w-lg bg-[#030712] relative animate-in zoom-in-95 duration-200 flex flex-col max-h-[85vh]",children:[w.jsxs("div",{className:"p-5 border-b border-white/5 flex justify-between items-center bg-black/40",children:[w.jsxs("div",{children:[w.jsx("h2",{className:"text-lg font-bold text-white",children:"Importar Invitados"}),w.jsx("p",{className:"text-[10px] text-slate-400",children:"Desde archivo CSV / Excel"})]}),w.jsx("button",{onClick:C,className:"p-2 hover:bg-white/10 rounded-full transition-colors text-slate-400 hover:text-white",children:w.jsx(Qm,{size:18})})]}),w.jsxs("div",{className:"flex-1 overflow-y-auto p-6 custom-scrollbar",children:[s==="upload"&&w.jsxs("div",{className:"space-y-6",children:[w.jsxs("div",{className:"border-2 border-dashed border-white/10 rounded-2xl p-10 flex flex-col items-center justify-center text-center hover:border-[#FBBF24]/50 hover:bg-white/5 transition-all cursor-pointer group",onClick:()=>a.current?.click(),children:[w.jsx("div",{className:"w-16 h-16 bg-white/5 rounded-full flex items-center justify-center mb-4 text-slate-500 group-hover:text-[#FBBF24] transition-colors",children:w.jsx(Xc,{size:32})}),w.jsx("h3",{className:"text-white font-medium mb-1",children:"Haz click para subir"}),w.jsx("p",{className:"text-xs text-slate-500 mb-4",children:"Soporta archivos .csv"}),w.jsx("input",{type:"file",ref:a,onChange:g,accept:".csv",className:"hidden"})]}),w.jsxs("div",{className:"flex items-start gap-3 p-4 rounded-xl bg-blue-500/10 border border-blue-500/20",children:[w.jsx(qg,{size:20,className:"text-blue-400 shrink-0 mt-0.5"}),w.jsxs("div",{children:[w.jsx("h4",{className:"text-xs font-bold text-blue-300 uppercase tracking-wider mb-1",children:"Formato Requerido"}),w.jsxs("p",{className:"text-xs text-blue-200/80 mb-2",children:["El archivo debe tener las columnas: ",w.jsx("span",{className:"font-mono bg-black/20 px-1 rounded",children:"Nombre"}),", ",w.jsx("span",{className:"font-mono bg-black/20 px-1 rounded",children:"Apellido"}),". Opcionalmente: ",w.jsx("span",{className:"font-mono bg-black/20 px-1 rounded",children:"Mesa"}),"."]}),w.jsxs("button",{onClick:T,className:"flex items-center gap-1 text-[10px] font-bold text-blue-400 hover:text-blue-300 hover:underline",children:[w.jsx(al,{size:12})," Descargar Plantilla de Ejemplo"]})]})]}),w.jsx("div",{className:"flex justify-center mt-4",children:w.jsx("button",{id:"dev-simulate-btn",onClick:v,className:"text-[10px] bg-white/5 px-2 py-1 rounded text-slate-500 hover:text-white",children:"[DEV] Simular Carga CSV"})})]}),s==="preview"&&w.jsxs("div",{className:"space-y-4",children:[w.jsxs("div",{className:"flex justify-between items-center",children:[w.jsx("h3",{className:"text-sm font-medium text-white",children:"Vista Previa"}),w.jsxs("span",{className:"text-xs text-slate-400",children:[u.filter(A=>A.isValid).length," vlidos de ",u.length]})]}),w.jsxs("div",{className:"border border-white/5 rounded-xl overflow-hidden",children:[w.jsxs("table",{className:"w-full text-sm text-left",children:[w.jsx("thead",{className:"bg-white/5 text-xs text-slate-400 uppercase font-medium",children:w.jsxs("tr",{children:[w.jsx("th",{className:"px-4 py-3",children:"Nombre"}),w.jsx("th",{className:"px-4 py-3",children:"Apellido"}),w.jsx("th",{className:"px-4 py-3",children:"Mesa"}),w.jsx("th",{className:"px-4 py-3 text-right",children:"Estado"})]})}),w.jsx("tbody",{className:"divide-y divide-white/5",children:u.slice(0,50).map((A,D)=>w.jsxs("tr",{className:"hover:bg-white/5 transition-colors",children:[w.jsx("td",{className:`px-4 py-2 ${A.nombre?"text-slate-300":"text-red-400"}`,children:A.nombre||"Vaco"}),w.jsx("td",{className:`px-4 py-2 ${A.apellido?"text-slate-300":"text-red-400"}`,children:A.apellido||"Vaco"}),w.jsx("td",{className:"px-4 py-2 text-slate-300",children:A.mesa||"-"}),w.jsx("td",{className:"px-4 py-2 text-right",children:A.isValid?w.jsx(xv,{size:14,className:"ml-auto text-emerald-400"}):w.jsx(qg,{size:14,className:"ml-auto text-red-400"})})]},D))})]}),u.length>50&&w.jsxs("div",{className:"px-4 py-2 bg-white/5 text-center text-xs text-slate-500 italic",children:["... y ",u.length-50," ms"]})]}),u.some(A=>!A.isValid)&&w.jsx("p",{className:"text-xs text-red-400 text-center",children:"Algunas filas tienen datos incompletos y sern ignoradas."})]}),s==="uploading"&&w.jsxs("div",{className:"flex flex-col items-center justify-center py-10 space-y-4",children:[w.jsx(Rh,{size:40,className:"text-[#FBBF24] animate-spin"}),w.jsx("p",{className:"text-sm text-white font-medium",children:"Importando invitados..."})]}),f&&w.jsxs("div",{className:"mt-4 p-3 rounded-lg bg-red-500/10 border border-red-500/20 flex items-start gap-3",children:[w.jsx(qg,{size:16,className:"text-red-400 shrink-0 mt-0.5"}),w.jsx("p",{className:"text-xs text-red-300",children:f})]})]}),w.jsxs("div",{className:"p-5 border-t border-white/5 bg-black/40 flex gap-3 sticky bottom-0 z-10",children:[s==="upload"&&w.jsx("button",{onClick:C,className:"btn btn-outline flex-1 py-2.5 text-sm",children:"Cancelar"}),s==="preview"&&w.jsxs(w.Fragment,{children:[w.jsx("button",{onClick:()=>{l("upload")},className:"btn btn-outline flex-1 py-2.5 text-sm",children:"Atrs"}),w.jsx("button",{onClick:N,className:"btn btn-primary flex-1 py-2.5 text-sm shadow-lg shadow-yellow-500/20",disabled:u.filter(A=>A.isValid).length===0,children:"Confirmar Importacin"})]})]})]})})}function tI({isOpen:t,onClose:e,event:n,guestToEdit:r,onGuestAdded:a,onGuestUpdated:s}){const[l,u]=X.useState(""),[d,f]=X.useState(""),[p,g]=X.useState(""),[y,v]=X.useState(!1),[N,C]=X.useState(!1),[T,A]=X.useState(!1),[D,M]=X.useState(null);if(X.useEffect(()=>{t&&(r?(u(r.first_name),f(r.last_name),g(r.table_info||""),v(r.is_after_party||!1),C(r.has_puff||!1)):(u(""),f(""),g(""),v(!1),C(!1)),M(null))},[t,r]),!t)return null;const B=async q=>{if(q.preventDefault(),M(null),A(!0),!l.trim()||!d.trim()){M("El nombre y el apellido son obligatorios."),A(!1);return}try{const V={first_name:l,last_name:d,display_name:`${l} ${d}`,table_info:p||null,is_after_party:y,has_puff:N};if(r){const{data:W,error:R}=await cn.from("guests").update(V).eq("id",r.id).select().single();if(R)throw R;W&&s&&(s(W),e())}else{const{data:W,error:R}=await cn.from("guests").insert({event_id:n.id,status:"pending",...V}).select().single();if(R)throw R;W&&(a(W),e())}}catch(V){console.error("Error saving guest:",V),M(V.message||"Error al guardar el invitado.")}finally{A(!1)}};return w.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/80 backdrop-blur-sm animate-in fade-in duration-200",children:w.jsxs("div",{className:"glass-card w-full max-w-md bg-[#030712] relative animate-in zoom-in-95 duration-200",children:[w.jsxs("div",{className:"p-5 border-b border-white/5 flex justify-between items-center bg-black/40",children:[w.jsx("h2",{className:"text-lg font-bold text-white",children:r?"Editar Invitado":"Nuevo Invitado"}),w.jsx("button",{onClick:e,className:"p-2 hover:bg-white/10 rounded-full transition-colors text-slate-400 hover:text-white",children:w.jsx(Qm,{size:18})})]}),w.jsxs("form",{onSubmit:B,className:"p-6 space-y-4",children:[w.jsxs("div",{className:"space-y-4",children:[w.jsxs("div",{className:"flex gap-4",children:[w.jsxs("div",{className:"space-y-1.5 flex-1",children:[w.jsx("label",{className:"text-xs font-medium text-slate-400 uppercase tracking-wider",children:"Nombre"}),w.jsxs("div",{className:"relative",children:[w.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-500",children:w.jsx(Sm,{size:16})}),w.jsx("input",{type:"text",value:l,onChange:q=>u(q.target.value),className:"w-full bg-white/5 border border-white/10 rounded-lg py-2.5 pl-10 pr-4 text-white text-sm focus:outline-none focus:border-[#FBBF24]/50 focus:ring-1 focus:ring-[#FBBF24]/50 transition-all placeholder:text-slate-600",placeholder:"Ej. Juan",autoFocus:!0})]})]}),w.jsxs("div",{className:"space-y-1.5 flex-1",children:[w.jsx("label",{className:"text-xs font-medium text-slate-400 uppercase tracking-wider",children:"Apellido"}),w.jsx("input",{type:"text",value:d,onChange:q=>f(q.target.value),className:"w-full bg-white/5 border border-white/10 rounded-lg py-2.5 px-4 text-white text-sm focus:outline-none focus:border-[#FBBF24]/50 focus:ring-1 focus:ring-[#FBBF24]/50 transition-all placeholder:text-slate-600",placeholder:"Ej. Prez"})]})]}),w.jsxs("div",{className:"space-y-1.5",children:[w.jsx("label",{className:"text-xs font-medium text-slate-400 uppercase tracking-wider",children:"Mesa / Ubicacin (Opcional)"}),w.jsxs("div",{className:"relative",children:[w.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-500",children:w.jsx(ou,{size:16})}),w.jsx("input",{type:"text",value:p,onChange:q=>g(q.target.value),className:"w-full bg-white/5 border border-white/10 rounded-lg py-2.5 pl-10 pr-4 text-white text-sm focus:outline-none focus:border-[#FBBF24]/50 focus:ring-1 focus:ring-[#FBBF24]/50 transition-all placeholder:text-slate-600",placeholder:"Ej. Mesa 5, VIP, Barra..."})]})]})]}),w.jsxs("div",{className:"flex gap-4 p-3 rounded-lg bg-white/5 border border-white/5",children:[w.jsxs("div",{className:"flex-1 flex items-center gap-3 cursor-pointer",onClick:()=>v(!y),children:[w.jsx("input",{type:"checkbox",checked:y,onChange:q=>v(q.target.checked),className:"checkbox checkbox-warning checkbox-sm"}),w.jsxs("div",{className:"flex flex-col",children:[w.jsx("span",{className:"text-sm text-white font-medium",children:"Trasnoche"}),w.jsx("span",{className:"text-[10px] text-slate-500",children:"Acceso post-cena"})]})]}),w.jsx("div",{className:"w-[1px] bg-white/10 h-8 self-center"}),w.jsxs("div",{className:"flex-1 flex items-center gap-3 cursor-pointer",onClick:()=>C(!N),children:[w.jsx("input",{type:"checkbox",checked:N,onChange:q=>C(q.target.checked),className:"checkbox checkbox-warning checkbox-sm"}),w.jsxs("div",{className:"flex flex-col",children:[w.jsx("span",{className:"text-sm text-white font-medium",children:"Asignar Puff"}),w.jsx("span",{className:"text-[10px] text-slate-500",children:"Tiene lugar en Living"})]})]})]}),D&&w.jsx("div",{className:"p-3 rounded-lg bg-red-500/10 border border-red-500/20 text-xs text-red-300",children:D}),w.jsxs("div",{className:"pt-4 flex gap-3",children:[w.jsx("button",{type:"button",onClick:e,className:"flex-1 btn btn-outline py-2.5 text-sm",disabled:T,children:"Cancelar"}),w.jsx("button",{type:"submit",disabled:T,className:"flex-1 btn btn-primary py-2.5 text-sm shadow-lg shadow-yellow-500/20 flex items-center justify-center gap-2",children:T?w.jsx(Rh,{size:16,className:"animate-spin"}):r?"Guardar Cambios":"Guardar Invitado"})]})]})]})})}const Wf=[{id:"neon",name:"Nen",category:"Moderno",colors:{primary:"#00D9FF",secondary:"#FF006E",accent:"#FFBE0B",background:"#0a0e27"},description:"Estilo futurista con colores nen brillantes"},{id:"tecno",name:"Tecnolgico",category:"Moderno",colors:{primary:"#4169E1",secondary:"#8B5CF6",accent:"#10B981",background:"#0d1117"},description:"Diseo tech moderno y elegante"},{id:"boda",name:"Boda Elegante",category:"Evento",colors:{primary:"#C4A661",secondary:"#2C3E50",accent:"#ECF0F1",background:"#1a1a2e"},description:"Elegancia y sofisticacin para bodas"},{id:"15-anos",name:"15 Aos",category:"Celebracin",colors:{primary:"#FF69B4",secondary:"#9D4EDD",accent:"#FFD700",background:"#1a1030"},description:"Celebracin juvenil y colorida"},{id:"quince",name:"Quinceaera",category:"Celebracin",colors:{primary:"#E91E63",secondary:"#9C27B0",accent:"#FFB6C1",background:"#1a0828"},description:"Elegancia rosa para quinceaeras"},{id:"infantil",name:"Infantil",category:"Celebracin",colors:{primary:"#FF6B9D",secondary:"#4ECDC4",accent:"#FFE66D",background:"#2C1F3F"},description:"Colores alegres y divertidos para nios"},{id:"rustic",name:"Rstico",category:"Natural",colors:{primary:"#8B7355",secondary:"#556B2F",accent:"#DEB887",background:"#1a1410"},description:"Estilo campestre y natural"},{id:"default",name:"Ingreso VIP",category:"Default",colors:{primary:"#4169E1",secondary:"#6B21A8",accent:"#FBBF24",background:"#0a0e27"},description:"Tema predeterminado de Ingreso VIP"}];function qA(t){return Wf.find(e=>e.id===t)}function nI({selectedThemeId:t="default",onThemeSelect:e,compact:n=!1}){return n?w.jsxs("div",{className:"space-y-3",children:[w.jsx("label",{className:"text-xs font-medium text-slate-400 uppercase tracking-wider",children:"Tema del Evento"}),w.jsx("div",{className:"grid grid-cols-3 gap-2",children:Wf.map(r=>w.jsxs("button",{type:"button",onClick:()=>e(r.id),className:`
                                relative group rounded-lg p-3 border transition-all text-left
                                ${t===r.id?"border-[#FBBF24] bg-[#FBBF24]/10 shadow-md":"border-white/10 bg-white/5 hover:border-white/20 hover:bg-white/10"}
                            `,children:[w.jsxs("div",{className:"flex gap-1 mb-2",children:[w.jsx("div",{className:"w-5 h-5 rounded shadow-sm",style:{backgroundColor:r.colors.primary}}),w.jsx("div",{className:"w-5 h-5 rounded shadow-sm",style:{backgroundColor:r.colors.secondary}}),w.jsx("div",{className:"w-5 h-5 rounded shadow-sm",style:{backgroundColor:r.colors.accent}})]}),w.jsx("h3",{className:"text-xs font-bold text-white mb-0.5 truncate",children:r.name}),w.jsx("p",{className:"text-[10px] text-muted truncate",children:r.category}),t===r.id&&w.jsx("div",{className:"absolute top-1.5 right-1.5",children:w.jsx("div",{className:"w-4 h-4 rounded-full bg-[#FBBF24] flex items-center justify-center",children:w.jsx("svg",{className:"w-2.5 h-2.5 text-black",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 13l4 4L19 7"})})})})]},r.id))}),t&&w.jsx("div",{className:"mt-3 p-3 rounded-lg bg-white/5 border border-white/10",children:w.jsx("p",{className:"text-xs text-muted",children:Wf.find(r=>r.id===t)?.description})})]}):w.jsxs("div",{className:"space-y-4",children:[w.jsx("label",{className:"block text-sm font-semibold text-foreground mb-3",children:"Tema Visual"}),w.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3",children:Wf.map(r=>w.jsxs("button",{type:"button",onClick:()=>e(r.id),className:`
              relative group rounded-xl p-4 border-2 transition-all
              ${t===r.id?"border-primary bg-primary/10 shadow-lg shadow-primary/20":"border-white/10 bg-white/5 hover:border-white/20 hover:bg-white/10"}
            `,children:[w.jsxs("div",{className:"flex gap-1.5 mb-3",children:[w.jsx("div",{className:"w-8 h-8 rounded-lg shadow-md",style:{backgroundColor:r.colors.primary}}),w.jsx("div",{className:"w-8 h-8 rounded-lg shadow-md",style:{backgroundColor:r.colors.secondary}}),w.jsx("div",{className:"w-8 h-8 rounded-lg shadow-md",style:{backgroundColor:r.colors.accent}})]}),w.jsx("h3",{className:"text-sm font-bold text-white mb-1",children:r.name}),w.jsx("p",{className:"text-xs text-muted",children:r.category}),t===r.id&&w.jsx("div",{className:"absolute top-2 right-2",children:w.jsx("div",{className:"w-6 h-6 rounded-full bg-primary flex items-center justify-center",children:w.jsx("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 13l4 4L19 7"})})})})]},r.id))}),t&&w.jsx("div",{className:"mt-4 p-4 rounded-lg bg-white/5 border border-white/10",children:w.jsx("p",{className:"text-sm text-muted",children:Wf.find(r=>r.id===t)?.description})})]})}var md={},n1,Px;function rI(){return Px||(Px=1,n1=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then}),n1}var r1={},Xl={},Mx;function pu(){if(Mx)return Xl;Mx=1;let t;const e=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];return Xl.getSymbolSize=function(r){if(!r)throw new Error('"version" cannot be null or undefined');if(r<1||r>40)throw new Error('"version" should be in range from 1 to 40');return r*4+17},Xl.getSymbolTotalCodewords=function(r){return e[r]},Xl.getBCHDigit=function(n){let r=0;for(;n!==0;)r++,n>>>=1;return r},Xl.setToSJISFunction=function(r){if(typeof r!="function")throw new Error('"toSJISFunc" is not a valid function.');t=r},Xl.isKanjiModeEnabled=function(){return typeof t<"u"},Xl.toSJIS=function(r){return t(r)},Xl}var i1={},Bx;function Xy(){return Bx||(Bx=1,(function(t){t.L={bit:1},t.M={bit:0},t.Q={bit:3},t.H={bit:2};function e(n){if(typeof n!="string")throw new Error("Param is not a string");switch(n.toLowerCase()){case"l":case"low":return t.L;case"m":case"medium":return t.M;case"q":case"quartile":return t.Q;case"h":case"high":return t.H;default:throw new Error("Unknown EC Level: "+n)}}t.isValid=function(r){return r&&typeof r.bit<"u"&&r.bit>=0&&r.bit<4},t.from=function(r,a){if(t.isValid(r))return r;try{return e(r)}catch{return a}}})(i1)),i1}var a1,Ix;function iI(){if(Ix)return a1;Ix=1;function t(){this.buffer=[],this.length=0}return t.prototype={get:function(e){const n=Math.floor(e/8);return(this.buffer[n]>>>7-e%8&1)===1},put:function(e,n){for(let r=0;r<n;r++)this.putBit((e>>>n-r-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(e){const n=Math.floor(this.length/8);this.buffer.length<=n&&this.buffer.push(0),e&&(this.buffer[n]|=128>>>this.length%8),this.length++}},a1=t,a1}var s1,Fx;function aI(){if(Fx)return s1;Fx=1;function t(e){if(!e||e<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=e,this.data=new Uint8Array(e*e),this.reservedBit=new Uint8Array(e*e)}return t.prototype.set=function(e,n,r,a){const s=e*this.size+n;this.data[s]=r,a&&(this.reservedBit[s]=!0)},t.prototype.get=function(e,n){return this.data[e*this.size+n]},t.prototype.xor=function(e,n,r){this.data[e*this.size+n]^=r},t.prototype.isReserved=function(e,n){return this.reservedBit[e*this.size+n]},s1=t,s1}var o1={},Ux;function sI(){return Ux||(Ux=1,(function(t){const e=pu().getSymbolSize;t.getRowColCoords=function(r){if(r===1)return[];const a=Math.floor(r/7)+2,s=e(r),l=s===145?26:Math.ceil((s-13)/(2*a-2))*2,u=[s-7];for(let d=1;d<a-1;d++)u[d]=u[d-1]-l;return u.push(6),u.reverse()},t.getPositions=function(r){const a=[],s=t.getRowColCoords(r),l=s.length;for(let u=0;u<l;u++)for(let d=0;d<l;d++)u===0&&d===0||u===0&&d===l-1||u===l-1&&d===0||a.push([s[u],s[d]]);return a}})(o1)),o1}var l1={},zx;function oI(){if(zx)return l1;zx=1;const t=pu().getSymbolSize,e=7;return l1.getPositions=function(r){const a=t(r);return[[0,0],[a-e,0],[0,a-e]]},l1}var c1={},qx;function lI(){return qx||(qx=1,(function(t){t.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const e={N1:3,N2:3,N3:40,N4:10};t.isValid=function(a){return a!=null&&a!==""&&!isNaN(a)&&a>=0&&a<=7},t.from=function(a){return t.isValid(a)?parseInt(a,10):void 0},t.getPenaltyN1=function(a){const s=a.size;let l=0,u=0,d=0,f=null,p=null;for(let g=0;g<s;g++){u=d=0,f=p=null;for(let y=0;y<s;y++){let v=a.get(g,y);v===f?u++:(u>=5&&(l+=e.N1+(u-5)),f=v,u=1),v=a.get(y,g),v===p?d++:(d>=5&&(l+=e.N1+(d-5)),p=v,d=1)}u>=5&&(l+=e.N1+(u-5)),d>=5&&(l+=e.N1+(d-5))}return l},t.getPenaltyN2=function(a){const s=a.size;let l=0;for(let u=0;u<s-1;u++)for(let d=0;d<s-1;d++){const f=a.get(u,d)+a.get(u,d+1)+a.get(u+1,d)+a.get(u+1,d+1);(f===4||f===0)&&l++}return l*e.N2},t.getPenaltyN3=function(a){const s=a.size;let l=0,u=0,d=0;for(let f=0;f<s;f++){u=d=0;for(let p=0;p<s;p++)u=u<<1&2047|a.get(f,p),p>=10&&(u===1488||u===93)&&l++,d=d<<1&2047|a.get(p,f),p>=10&&(d===1488||d===93)&&l++}return l*e.N3},t.getPenaltyN4=function(a){let s=0;const l=a.data.length;for(let d=0;d<l;d++)s+=a.data[d];return Math.abs(Math.ceil(s*100/l/5)-10)*e.N4};function n(r,a,s){switch(r){case t.Patterns.PATTERN000:return(a+s)%2===0;case t.Patterns.PATTERN001:return a%2===0;case t.Patterns.PATTERN010:return s%3===0;case t.Patterns.PATTERN011:return(a+s)%3===0;case t.Patterns.PATTERN100:return(Math.floor(a/2)+Math.floor(s/3))%2===0;case t.Patterns.PATTERN101:return a*s%2+a*s%3===0;case t.Patterns.PATTERN110:return(a*s%2+a*s%3)%2===0;case t.Patterns.PATTERN111:return(a*s%3+(a+s)%2)%2===0;default:throw new Error("bad maskPattern:"+r)}}t.applyMask=function(a,s){const l=s.size;for(let u=0;u<l;u++)for(let d=0;d<l;d++)s.isReserved(d,u)||s.xor(d,u,n(a,d,u))},t.getBestMask=function(a,s){const l=Object.keys(t.Patterns).length;let u=0,d=1/0;for(let f=0;f<l;f++){s(f),t.applyMask(f,a);const p=t.getPenaltyN1(a)+t.getPenaltyN2(a)+t.getPenaltyN3(a)+t.getPenaltyN4(a);t.applyMask(f,a),p<d&&(d=p,u=f)}return u}})(c1)),c1}var Vp={},Vx;function VA(){if(Vx)return Vp;Vx=1;const t=Xy(),e=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],n=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];return Vp.getBlocksCount=function(a,s){switch(s){case t.L:return e[(a-1)*4+0];case t.M:return e[(a-1)*4+1];case t.Q:return e[(a-1)*4+2];case t.H:return e[(a-1)*4+3];default:return}},Vp.getTotalCodewordsCount=function(a,s){switch(s){case t.L:return n[(a-1)*4+0];case t.M:return n[(a-1)*4+1];case t.Q:return n[(a-1)*4+2];case t.H:return n[(a-1)*4+3];default:return}},Vp}var u1={},qf={},Hx;function cI(){if(Hx)return qf;Hx=1;const t=new Uint8Array(512),e=new Uint8Array(256);return(function(){let r=1;for(let a=0;a<255;a++)t[a]=r,e[r]=a,r<<=1,r&256&&(r^=285);for(let a=255;a<512;a++)t[a]=t[a-255]})(),qf.log=function(r){if(r<1)throw new Error("log("+r+")");return e[r]},qf.exp=function(r){return t[r]},qf.mul=function(r,a){return r===0||a===0?0:t[e[r]+e[a]]},qf}var $x;function uI(){return $x||($x=1,(function(t){const e=cI();t.mul=function(r,a){const s=new Uint8Array(r.length+a.length-1);for(let l=0;l<r.length;l++)for(let u=0;u<a.length;u++)s[l+u]^=e.mul(r[l],a[u]);return s},t.mod=function(r,a){let s=new Uint8Array(r);for(;s.length-a.length>=0;){const l=s[0];for(let d=0;d<a.length;d++)s[d]^=e.mul(a[d],l);let u=0;for(;u<s.length&&s[u]===0;)u++;s=s.slice(u)}return s},t.generateECPolynomial=function(r){let a=new Uint8Array([1]);for(let s=0;s<r;s++)a=t.mul(a,new Uint8Array([1,e.exp(s)]));return a}})(u1)),u1}var d1,Gx;function dI(){if(Gx)return d1;Gx=1;const t=uI();function e(n){this.genPoly=void 0,this.degree=n,this.degree&&this.initialize(this.degree)}return e.prototype.initialize=function(r){this.degree=r,this.genPoly=t.generateECPolynomial(this.degree)},e.prototype.encode=function(r){if(!this.genPoly)throw new Error("Encoder not initialized");const a=new Uint8Array(r.length+this.degree);a.set(r);const s=t.mod(a,this.genPoly),l=this.degree-s.length;if(l>0){const u=new Uint8Array(this.degree);return u.set(s,l),u}return s},d1=e,d1}var f1={},h1={},p1={},Wx;function HA(){return Wx||(Wx=1,p1.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40}),p1}var yo={},Yx;function $A(){if(Yx)return yo;Yx=1;const t="[0-9]+",e="[A-Z $%*+\\-./:]+";let n="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";n=n.replace(/u/g,"\\u");const r="(?:(?![A-Z0-9 $%*+\\-./:]|"+n+`)(?:.|[\r
]))+`;yo.KANJI=new RegExp(n,"g"),yo.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),yo.BYTE=new RegExp(r,"g"),yo.NUMERIC=new RegExp(t,"g"),yo.ALPHANUMERIC=new RegExp(e,"g");const a=new RegExp("^"+n+"$"),s=new RegExp("^"+t+"$"),l=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");return yo.testKanji=function(d){return a.test(d)},yo.testNumeric=function(d){return s.test(d)},yo.testAlphanumeric=function(d){return l.test(d)},yo}var Kx;function mu(){return Kx||(Kx=1,(function(t){const e=HA(),n=$A();t.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},t.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},t.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},t.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},t.MIXED={bit:-1},t.getCharCountIndicator=function(s,l){if(!s.ccBits)throw new Error("Invalid mode: "+s);if(!e.isValid(l))throw new Error("Invalid version: "+l);return l>=1&&l<10?s.ccBits[0]:l<27?s.ccBits[1]:s.ccBits[2]},t.getBestModeForData=function(s){return n.testNumeric(s)?t.NUMERIC:n.testAlphanumeric(s)?t.ALPHANUMERIC:n.testKanji(s)?t.KANJI:t.BYTE},t.toString=function(s){if(s&&s.id)return s.id;throw new Error("Invalid mode")},t.isValid=function(s){return s&&s.bit&&s.ccBits};function r(a){if(typeof a!="string")throw new Error("Param is not a string");switch(a.toLowerCase()){case"numeric":return t.NUMERIC;case"alphanumeric":return t.ALPHANUMERIC;case"kanji":return t.KANJI;case"byte":return t.BYTE;default:throw new Error("Unknown mode: "+a)}}t.from=function(s,l){if(t.isValid(s))return s;try{return r(s)}catch{return l}}})(h1)),h1}var Xx;function fI(){return Xx||(Xx=1,(function(t){const e=pu(),n=VA(),r=Xy(),a=mu(),s=HA(),l=7973,u=e.getBCHDigit(l);function d(y,v,N){for(let C=1;C<=40;C++)if(v<=t.getCapacity(C,N,y))return C}function f(y,v){return a.getCharCountIndicator(y,v)+4}function p(y,v){let N=0;return y.forEach(function(C){const T=f(C.mode,v);N+=T+C.getBitsLength()}),N}function g(y,v){for(let N=1;N<=40;N++)if(p(y,N)<=t.getCapacity(N,v,a.MIXED))return N}t.from=function(v,N){return s.isValid(v)?parseInt(v,10):N},t.getCapacity=function(v,N,C){if(!s.isValid(v))throw new Error("Invalid QR Code version");typeof C>"u"&&(C=a.BYTE);const T=e.getSymbolTotalCodewords(v),A=n.getTotalCodewordsCount(v,N),D=(T-A)*8;if(C===a.MIXED)return D;const M=D-f(C,v);switch(C){case a.NUMERIC:return Math.floor(M/10*3);case a.ALPHANUMERIC:return Math.floor(M/11*2);case a.KANJI:return Math.floor(M/13);case a.BYTE:default:return Math.floor(M/8)}},t.getBestVersionForData=function(v,N){let C;const T=r.from(N,r.M);if(Array.isArray(v)){if(v.length>1)return g(v,T);if(v.length===0)return 1;C=v[0]}else C=v;return d(C.mode,C.getLength(),T)},t.getEncodedBits=function(v){if(!s.isValid(v)||v<7)throw new Error("Invalid QR Code version");let N=v<<12;for(;e.getBCHDigit(N)-u>=0;)N^=l<<e.getBCHDigit(N)-u;return v<<12|N}})(f1)),f1}var m1={},Jx;function hI(){if(Jx)return m1;Jx=1;const t=pu(),e=1335,n=21522,r=t.getBCHDigit(e);return m1.getEncodedBits=function(s,l){const u=s.bit<<3|l;let d=u<<10;for(;t.getBCHDigit(d)-r>=0;)d^=e<<t.getBCHDigit(d)-r;return(u<<10|d)^n},m1}var g1={},v1,Qx;function pI(){if(Qx)return v1;Qx=1;const t=mu();function e(n){this.mode=t.NUMERIC,this.data=n.toString()}return e.getBitsLength=function(r){return 10*Math.floor(r/3)+(r%3?r%3*3+1:0)},e.prototype.getLength=function(){return this.data.length},e.prototype.getBitsLength=function(){return e.getBitsLength(this.data.length)},e.prototype.write=function(r){let a,s,l;for(a=0;a+3<=this.data.length;a+=3)s=this.data.substr(a,3),l=parseInt(s,10),r.put(l,10);const u=this.data.length-a;u>0&&(s=this.data.substr(a),l=parseInt(s,10),r.put(l,u*3+1))},v1=e,v1}var y1,Zx;function mI(){if(Zx)return y1;Zx=1;const t=mu(),e=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function n(r){this.mode=t.ALPHANUMERIC,this.data=r}return n.getBitsLength=function(a){return 11*Math.floor(a/2)+6*(a%2)},n.prototype.getLength=function(){return this.data.length},n.prototype.getBitsLength=function(){return n.getBitsLength(this.data.length)},n.prototype.write=function(a){let s;for(s=0;s+2<=this.data.length;s+=2){let l=e.indexOf(this.data[s])*45;l+=e.indexOf(this.data[s+1]),a.put(l,11)}this.data.length%2&&a.put(e.indexOf(this.data[s]),6)},y1=n,y1}var b1,e_;function gI(){if(e_)return b1;e_=1;const t=mu();function e(n){this.mode=t.BYTE,typeof n=="string"?this.data=new TextEncoder().encode(n):this.data=new Uint8Array(n)}return e.getBitsLength=function(r){return r*8},e.prototype.getLength=function(){return this.data.length},e.prototype.getBitsLength=function(){return e.getBitsLength(this.data.length)},e.prototype.write=function(n){for(let r=0,a=this.data.length;r<a;r++)n.put(this.data[r],8)},b1=e,b1}var w1,t_;function vI(){if(t_)return w1;t_=1;const t=mu(),e=pu();function n(r){this.mode=t.KANJI,this.data=r}return n.getBitsLength=function(a){return a*13},n.prototype.getLength=function(){return this.data.length},n.prototype.getBitsLength=function(){return n.getBitsLength(this.data.length)},n.prototype.write=function(r){let a;for(a=0;a<this.data.length;a++){let s=e.toSJIS(this.data[a]);if(s>=33088&&s<=40956)s-=33088;else if(s>=57408&&s<=60351)s-=49472;else throw new Error("Invalid SJIS character: "+this.data[a]+`
Make sure your charset is UTF-8`);s=(s>>>8&255)*192+(s&255),r.put(s,13)}},w1=n,w1}var x1={exports:{}},n_;function yI(){return n_||(n_=1,(function(t){var e={single_source_shortest_paths:function(n,r,a){var s={},l={};l[r]=0;var u=e.PriorityQueue.make();u.push(r,0);for(var d,f,p,g,y,v,N,C,T;!u.empty();){d=u.pop(),f=d.value,g=d.cost,y=n[f]||{};for(p in y)y.hasOwnProperty(p)&&(v=y[p],N=g+v,C=l[p],T=typeof l[p]>"u",(T||C>N)&&(l[p]=N,u.push(p,N),s[p]=f))}if(typeof a<"u"&&typeof l[a]>"u"){var A=["Could not find a path from ",r," to ",a,"."].join("");throw new Error(A)}return s},extract_shortest_path_from_predecessor_list:function(n,r){for(var a=[],s=r;s;)a.push(s),n[s],s=n[s];return a.reverse(),a},find_path:function(n,r,a){var s=e.single_source_shortest_paths(n,r,a);return e.extract_shortest_path_from_predecessor_list(s,a)},PriorityQueue:{make:function(n){var r=e.PriorityQueue,a={},s;n=n||{};for(s in r)r.hasOwnProperty(s)&&(a[s]=r[s]);return a.queue=[],a.sorter=n.sorter||r.default_sorter,a},default_sorter:function(n,r){return n.cost-r.cost},push:function(n,r){var a={value:n,cost:r};this.queue.push(a),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};t.exports=e})(x1)),x1.exports}var r_;function bI(){return r_||(r_=1,(function(t){const e=mu(),n=pI(),r=mI(),a=gI(),s=vI(),l=$A(),u=pu(),d=yI();function f(A){return unescape(encodeURIComponent(A)).length}function p(A,D,M){const B=[];let q;for(;(q=A.exec(M))!==null;)B.push({data:q[0],index:q.index,mode:D,length:q[0].length});return B}function g(A){const D=p(l.NUMERIC,e.NUMERIC,A),M=p(l.ALPHANUMERIC,e.ALPHANUMERIC,A);let B,q;return u.isKanjiModeEnabled()?(B=p(l.BYTE,e.BYTE,A),q=p(l.KANJI,e.KANJI,A)):(B=p(l.BYTE_KANJI,e.BYTE,A),q=[]),D.concat(M,B,q).sort(function(W,R){return W.index-R.index}).map(function(W){return{data:W.data,mode:W.mode,length:W.length}})}function y(A,D){switch(D){case e.NUMERIC:return n.getBitsLength(A);case e.ALPHANUMERIC:return r.getBitsLength(A);case e.KANJI:return s.getBitsLength(A);case e.BYTE:return a.getBitsLength(A)}}function v(A){return A.reduce(function(D,M){const B=D.length-1>=0?D[D.length-1]:null;return B&&B.mode===M.mode?(D[D.length-1].data+=M.data,D):(D.push(M),D)},[])}function N(A){const D=[];for(let M=0;M<A.length;M++){const B=A[M];switch(B.mode){case e.NUMERIC:D.push([B,{data:B.data,mode:e.ALPHANUMERIC,length:B.length},{data:B.data,mode:e.BYTE,length:B.length}]);break;case e.ALPHANUMERIC:D.push([B,{data:B.data,mode:e.BYTE,length:B.length}]);break;case e.KANJI:D.push([B,{data:B.data,mode:e.BYTE,length:f(B.data)}]);break;case e.BYTE:D.push([{data:B.data,mode:e.BYTE,length:f(B.data)}])}}return D}function C(A,D){const M={},B={start:{}};let q=["start"];for(let V=0;V<A.length;V++){const W=A[V],R=[];for(let L=0;L<W.length;L++){const $=W[L],k=""+V+L;R.push(k),M[k]={node:$,lastCount:0},B[k]={};for(let I=0;I<q.length;I++){const J=q[I];M[J]&&M[J].node.mode===$.mode?(B[J][k]=y(M[J].lastCount+$.length,$.mode)-y(M[J].lastCount,$.mode),M[J].lastCount+=$.length):(M[J]&&(M[J].lastCount=$.length),B[J][k]=y($.length,$.mode)+4+e.getCharCountIndicator($.mode,D))}}q=R}for(let V=0;V<q.length;V++)B[q[V]].end=0;return{map:B,table:M}}function T(A,D){let M;const B=e.getBestModeForData(A);if(M=e.from(D,B),M!==e.BYTE&&M.bit<B.bit)throw new Error('"'+A+'" cannot be encoded with mode '+e.toString(M)+`.
 Suggested mode is: `+e.toString(B));switch(M===e.KANJI&&!u.isKanjiModeEnabled()&&(M=e.BYTE),M){case e.NUMERIC:return new n(A);case e.ALPHANUMERIC:return new r(A);case e.KANJI:return new s(A);case e.BYTE:return new a(A)}}t.fromArray=function(D){return D.reduce(function(M,B){return typeof B=="string"?M.push(T(B,null)):B.data&&M.push(T(B.data,B.mode)),M},[])},t.fromString=function(D,M){const B=g(D,u.isKanjiModeEnabled()),q=N(B),V=C(q,M),W=d.find_path(V.map,"start","end"),R=[];for(let L=1;L<W.length-1;L++)R.push(V.table[W[L]].node);return t.fromArray(v(R))},t.rawSplit=function(D){return t.fromArray(g(D,u.isKanjiModeEnabled()))}})(g1)),g1}var i_;function wI(){if(i_)return r1;i_=1;const t=pu(),e=Xy(),n=iI(),r=aI(),a=sI(),s=oI(),l=lI(),u=VA(),d=dI(),f=fI(),p=hI(),g=mu(),y=bI();function v(V,W){const R=V.size,L=s.getPositions(W);for(let $=0;$<L.length;$++){const k=L[$][0],I=L[$][1];for(let J=-1;J<=7;J++)if(!(k+J<=-1||R<=k+J))for(let ne=-1;ne<=7;ne++)I+ne<=-1||R<=I+ne||(J>=0&&J<=6&&(ne===0||ne===6)||ne>=0&&ne<=6&&(J===0||J===6)||J>=2&&J<=4&&ne>=2&&ne<=4?V.set(k+J,I+ne,!0,!0):V.set(k+J,I+ne,!1,!0))}}function N(V){const W=V.size;for(let R=8;R<W-8;R++){const L=R%2===0;V.set(R,6,L,!0),V.set(6,R,L,!0)}}function C(V,W){const R=a.getPositions(W);for(let L=0;L<R.length;L++){const $=R[L][0],k=R[L][1];for(let I=-2;I<=2;I++)for(let J=-2;J<=2;J++)I===-2||I===2||J===-2||J===2||I===0&&J===0?V.set($+I,k+J,!0,!0):V.set($+I,k+J,!1,!0)}}function T(V,W){const R=V.size,L=f.getEncodedBits(W);let $,k,I;for(let J=0;J<18;J++)$=Math.floor(J/3),k=J%3+R-8-3,I=(L>>J&1)===1,V.set($,k,I,!0),V.set(k,$,I,!0)}function A(V,W,R){const L=V.size,$=p.getEncodedBits(W,R);let k,I;for(k=0;k<15;k++)I=($>>k&1)===1,k<6?V.set(k,8,I,!0):k<8?V.set(k+1,8,I,!0):V.set(L-15+k,8,I,!0),k<8?V.set(8,L-k-1,I,!0):k<9?V.set(8,15-k-1+1,I,!0):V.set(8,15-k-1,I,!0);V.set(L-8,8,1,!0)}function D(V,W){const R=V.size;let L=-1,$=R-1,k=7,I=0;for(let J=R-1;J>0;J-=2)for(J===6&&J--;;){for(let ne=0;ne<2;ne++)if(!V.isReserved($,J-ne)){let we=!1;I<W.length&&(we=(W[I]>>>k&1)===1),V.set($,J-ne,we),k--,k===-1&&(I++,k=7)}if($+=L,$<0||R<=$){$-=L,L=-L;break}}}function M(V,W,R){const L=new n;R.forEach(function(ne){L.put(ne.mode.bit,4),L.put(ne.getLength(),g.getCharCountIndicator(ne.mode,V)),ne.write(L)});const $=t.getSymbolTotalCodewords(V),k=u.getTotalCodewordsCount(V,W),I=($-k)*8;for(L.getLengthInBits()+4<=I&&L.put(0,4);L.getLengthInBits()%8!==0;)L.putBit(0);const J=(I-L.getLengthInBits())/8;for(let ne=0;ne<J;ne++)L.put(ne%2?17:236,8);return B(L,V,W)}function B(V,W,R){const L=t.getSymbolTotalCodewords(W),$=u.getTotalCodewordsCount(W,R),k=L-$,I=u.getBlocksCount(W,R),J=L%I,ne=I-J,we=Math.floor(L/I),re=Math.floor(k/I),le=re+1,ce=we-re,me=new d(ce);let Re=0;const Y=new Array(I),P=new Array(I);let z=0;const Z=new Uint8Array(V.buffer);for(let be=0;be<I;be++){const je=be<ne?re:le;Y[be]=Z.slice(Re,Re+je),P[be]=me.encode(Y[be]),Re+=je,z=Math.max(z,je)}const se=new Uint8Array(L);let ue=0,he,ve;for(he=0;he<z;he++)for(ve=0;ve<I;ve++)he<Y[ve].length&&(se[ue++]=Y[ve][he]);for(he=0;he<ce;he++)for(ve=0;ve<I;ve++)se[ue++]=P[ve][he];return se}function q(V,W,R,L){let $;if(Array.isArray(V))$=y.fromArray(V);else if(typeof V=="string"){let we=W;if(!we){const re=y.rawSplit(V);we=f.getBestVersionForData(re,R)}$=y.fromString(V,we||40)}else throw new Error("Invalid data");const k=f.getBestVersionForData($,R);if(!k)throw new Error("The amount of data is too big to be stored in a QR Code");if(!W)W=k;else if(W<k)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+k+`.
`);const I=M(W,R,$),J=t.getSymbolSize(W),ne=new r(J);return v(ne,W),N(ne),C(ne,W),A(ne,R,0),W>=7&&T(ne,W),D(ne,I),isNaN(L)&&(L=l.getBestMask(ne,A.bind(null,ne,R))),l.applyMask(L,ne),A(ne,R,L),{modules:ne,version:W,errorCorrectionLevel:R,maskPattern:L,segments:$}}return r1.create=function(W,R){if(typeof W>"u"||W==="")throw new Error("No input text");let L=e.M,$,k;return typeof R<"u"&&(L=e.from(R.errorCorrectionLevel,e.M),$=f.from(R.version),k=l.from(R.maskPattern),R.toSJISFunc&&t.setToSJISFunction(R.toSJISFunc)),q(W,$,L,k)},r1}var _1={},S1={},a_;function GA(){return a_||(a_=1,(function(t){function e(n){if(typeof n=="number"&&(n=n.toString()),typeof n!="string")throw new Error("Color should be defined as hex string");let r=n.slice().replace("#","").split("");if(r.length<3||r.length===5||r.length>8)throw new Error("Invalid hex color: "+n);(r.length===3||r.length===4)&&(r=Array.prototype.concat.apply([],r.map(function(s){return[s,s]}))),r.length===6&&r.push("F","F");const a=parseInt(r.join(""),16);return{r:a>>24&255,g:a>>16&255,b:a>>8&255,a:a&255,hex:"#"+r.slice(0,6).join("")}}t.getOptions=function(r){r||(r={}),r.color||(r.color={});const a=typeof r.margin>"u"||r.margin===null||r.margin<0?4:r.margin,s=r.width&&r.width>=21?r.width:void 0,l=r.scale||4;return{width:s,scale:s?4:l,margin:a,color:{dark:e(r.color.dark||"#000000ff"),light:e(r.color.light||"#ffffffff")},type:r.type,rendererOpts:r.rendererOpts||{}}},t.getScale=function(r,a){return a.width&&a.width>=r+a.margin*2?a.width/(r+a.margin*2):a.scale},t.getImageWidth=function(r,a){const s=t.getScale(r,a);return Math.floor((r+a.margin*2)*s)},t.qrToImageData=function(r,a,s){const l=a.modules.size,u=a.modules.data,d=t.getScale(l,s),f=Math.floor((l+s.margin*2)*d),p=s.margin*d,g=[s.color.light,s.color.dark];for(let y=0;y<f;y++)for(let v=0;v<f;v++){let N=(y*f+v)*4,C=s.color.light;if(y>=p&&v>=p&&y<f-p&&v<f-p){const T=Math.floor((y-p)/d),A=Math.floor((v-p)/d);C=g[u[T*l+A]?1:0]}r[N++]=C.r,r[N++]=C.g,r[N++]=C.b,r[N]=C.a}}})(S1)),S1}var s_;function xI(){return s_||(s_=1,(function(t){const e=GA();function n(a,s,l){a.clearRect(0,0,s.width,s.height),s.style||(s.style={}),s.height=l,s.width=l,s.style.height=l+"px",s.style.width=l+"px"}function r(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}t.render=function(s,l,u){let d=u,f=l;typeof d>"u"&&(!l||!l.getContext)&&(d=l,l=void 0),l||(f=r()),d=e.getOptions(d);const p=e.getImageWidth(s.modules.size,d),g=f.getContext("2d"),y=g.createImageData(p,p);return e.qrToImageData(y.data,s,d),n(g,f,p),g.putImageData(y,0,0),f},t.renderToDataURL=function(s,l,u){let d=u;typeof d>"u"&&(!l||!l.getContext)&&(d=l,l=void 0),d||(d={});const f=t.render(s,l,d),p=d.type||"image/png",g=d.rendererOpts||{};return f.toDataURL(p,g.quality)}})(_1)),_1}var A1={},o_;function _I(){if(o_)return A1;o_=1;const t=GA();function e(a,s){const l=a.a/255,u=s+'="'+a.hex+'"';return l<1?u+" "+s+'-opacity="'+l.toFixed(2).slice(1)+'"':u}function n(a,s,l){let u=a+s;return typeof l<"u"&&(u+=" "+l),u}function r(a,s,l){let u="",d=0,f=!1,p=0;for(let g=0;g<a.length;g++){const y=Math.floor(g%s),v=Math.floor(g/s);!y&&!f&&(f=!0),a[g]?(p++,g>0&&y>0&&a[g-1]||(u+=f?n("M",y+l,.5+v+l):n("m",d,0),d=0,f=!1),y+1<s&&a[g+1]||(u+=n("h",p),p=0)):d++}return u}return A1.render=function(s,l,u){const d=t.getOptions(l),f=s.modules.size,p=s.modules.data,g=f+d.margin*2,y=d.color.light.a?"<path "+e(d.color.light,"fill")+' d="M0 0h'+g+"v"+g+'H0z"/>':"",v="<path "+e(d.color.dark,"stroke")+' d="'+r(p,f,d.margin)+'"/>',N='viewBox="0 0 '+g+" "+g+'"',T='<svg xmlns="http://www.w3.org/2000/svg" '+(d.width?'width="'+d.width+'" height="'+d.width+'" ':"")+N+' shape-rendering="crispEdges">'+y+v+`</svg>
`;return typeof u=="function"&&u(null,T),T},A1}var l_;function SI(){if(l_)return md;l_=1;const t=rI(),e=wI(),n=xI(),r=_I();function a(s,l,u,d,f){const p=[].slice.call(arguments,1),g=p.length,y=typeof p[g-1]=="function";if(!y&&!t())throw new Error("Callback required as last argument");if(y){if(g<2)throw new Error("Too few arguments provided");g===2?(f=u,u=l,l=d=void 0):g===3&&(l.getContext&&typeof f>"u"?(f=d,d=void 0):(f=d,d=u,u=l,l=void 0))}else{if(g<1)throw new Error("Too few arguments provided");return g===1?(u=l,l=d=void 0):g===2&&!l.getContext&&(d=u,u=l,l=void 0),new Promise(function(v,N){try{const C=e.create(u,d);v(s(C,l,d))}catch(C){N(C)}})}try{const v=e.create(u,d);f(null,s(v,l,d))}catch(v){f(v)}}return md.create=e.create,md.toCanvas=a.bind(null,n.render),md.toDataURL=a.bind(null,n.renderToDataURL),md.toString=a.bind(null,function(s,l,u){return r.render(s,u)}),md}var AI=SI();const NI=Th(AI),EI="modulepreload",CI=function(t){return"/ingreso-vip/"+t},c_={},N1=function(e,n,r){let a=Promise.resolve();if(n&&n.length>0){let d=function(f){return Promise.all(f.map(p=>Promise.resolve(p).then(g=>({status:"fulfilled",value:g}),g=>({status:"rejected",reason:g}))))};document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),u=l?.nonce||l?.getAttribute("nonce");a=d(n.map(f=>{if(f=CI(f),f in c_)return;c_[f]=!0;const p=f.endsWith(".css"),g=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${g}`))return;const y=document.createElement("link");if(y.rel=p?"stylesheet":EI,p||(y.as="script"),y.crossOrigin="",y.href=f,u&&y.setAttribute("nonce",u),document.head.appendChild(y),p)return new Promise((v,N)=>{y.addEventListener("load",v),y.addEventListener("error",()=>N(new Error(`Unable to preload CSS for ${f}`)))})}))}function s(l){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=l,window.dispatchEvent(u),!u.defaultPrevented)throw l}return a.then(l=>{for(const u of l||[])u.status==="rejected"&&s(u.reason);return e().catch(s)})};function Ln(t){"@babel/helpers - typeof";return Ln=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ln(t)}var Ws=Uint8Array,Da=Uint16Array,Jy=Int32Array,Qy=new Ws([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Zy=new Ws([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),u_=new Ws([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),WA=function(t,e){for(var n=new Da(31),r=0;r<31;++r)n[r]=e+=1<<t[r-1];for(var a=new Jy(n[30]),r=1;r<30;++r)for(var s=n[r];s<n[r+1];++s)a[s]=s-n[r]<<5|r;return{b:n,r:a}},YA=WA(Qy,2),TI=YA.b,Dv=YA.r;TI[28]=258,Dv[258]=28;var jI=WA(Zy,0),d_=jI.r,Pv=new Da(32768);for(var Xn=0;Xn<32768;++Xn){var Jl=(Xn&43690)>>1|(Xn&21845)<<1;Jl=(Jl&52428)>>2|(Jl&13107)<<2,Jl=(Jl&61680)>>4|(Jl&3855)<<4,Pv[Xn]=((Jl&65280)>>8|(Jl&255)<<8)>>1}var Zf=(function(t,e,n){for(var r=t.length,a=0,s=new Da(e);a<r;++a)t[a]&&++s[t[a]-1];var l=new Da(e);for(a=1;a<e;++a)l[a]=l[a-1]+s[a-1]<<1;var u;if(n){u=new Da(1<<e);var d=15-e;for(a=0;a<r;++a)if(t[a])for(var f=a<<4|t[a],p=e-t[a],g=l[t[a]-1]++<<p,y=g|(1<<p)-1;g<=y;++g)u[Pv[g]>>d]=f}else for(u=new Da(r),a=0;a<r;++a)t[a]&&(u[a]=Pv[l[t[a]-1]++]>>15-t[a]);return u}),fu=new Ws(288);for(var Xn=0;Xn<144;++Xn)fu[Xn]=8;for(var Xn=144;Xn<256;++Xn)fu[Xn]=9;for(var Xn=256;Xn<280;++Xn)fu[Xn]=7;for(var Xn=280;Xn<288;++Xn)fu[Xn]=8;var Pm=new Ws(32);for(var Xn=0;Xn<32;++Xn)Pm[Xn]=5;var kI=Zf(fu,9,0),LI=Zf(Pm,5,0),KA=function(t){return(t+7)/8|0},RI=function(t,e,n){return(n==null||n>t.length)&&(n=t.length),new Ws(t.subarray(e,n))},nl=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8},Vf=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8,t[r+2]|=n>>16},E1=function(t,e){for(var n=[],r=0;r<t.length;++r)t[r]&&n.push({s:r,f:t[r]});var a=n.length,s=n.slice();if(!a)return{t:JA,l:0};if(a==1){var l=new Ws(n[0].s+1);return l[n[0].s]=1,{t:l,l:1}}n.sort(function(q,V){return q.f-V.f}),n.push({s:-1,f:25001});var u=n[0],d=n[1],f=0,p=1,g=2;for(n[0]={s:-1,f:u.f+d.f,l:u,r:d};p!=a-1;)u=n[n[f].f<n[g].f?f++:g++],d=n[f!=p&&n[f].f<n[g].f?f++:g++],n[p++]={s:-1,f:u.f+d.f,l:u,r:d};for(var y=s[0].s,r=1;r<a;++r)s[r].s>y&&(y=s[r].s);var v=new Da(y+1),N=Mv(n[p-1],v,0);if(N>e){var r=0,C=0,T=N-e,A=1<<T;for(s.sort(function(V,W){return v[W.s]-v[V.s]||V.f-W.f});r<a;++r){var D=s[r].s;if(v[D]>e)C+=A-(1<<N-v[D]),v[D]=e;else break}for(C>>=T;C>0;){var M=s[r].s;v[M]<e?C-=1<<e-v[M]++-1:++r}for(;r>=0&&C;--r){var B=s[r].s;v[B]==e&&(--v[B],++C)}N=e}return{t:new Ws(v),l:N}},Mv=function(t,e,n){return t.s==-1?Math.max(Mv(t.l,e,n+1),Mv(t.r,e,n+1)):e[t.s]=n},f_=function(t){for(var e=t.length;e&&!t[--e];);for(var n=new Da(++e),r=0,a=t[0],s=1,l=function(d){n[r++]=d},u=1;u<=e;++u)if(t[u]==a&&u!=e)++s;else{if(!a&&s>2){for(;s>138;s-=138)l(32754);s>2&&(l(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(l(a),--s;s>6;s-=6)l(8304);s>2&&(l(s-3<<5|8208),s=0)}for(;s--;)l(a);s=1,a=t[u]}return{c:n.subarray(0,r),n:e}},Hf=function(t,e){for(var n=0,r=0;r<e.length;++r)n+=t[r]*e[r];return n},XA=function(t,e,n){var r=n.length,a=KA(e+2);t[a]=r&255,t[a+1]=r>>8,t[a+2]=t[a]^255,t[a+3]=t[a+1]^255;for(var s=0;s<r;++s)t[a+s+4]=n[s];return(a+4+r)*8},h_=function(t,e,n,r,a,s,l,u,d,f,p){nl(e,p++,n),++a[256];for(var g=E1(a,15),y=g.t,v=g.l,N=E1(s,15),C=N.t,T=N.l,A=f_(y),D=A.c,M=A.n,B=f_(C),q=B.c,V=B.n,W=new Da(19),R=0;R<D.length;++R)++W[D[R]&31];for(var R=0;R<q.length;++R)++W[q[R]&31];for(var L=E1(W,7),$=L.t,k=L.l,I=19;I>4&&!$[u_[I-1]];--I);var J=f+5<<3,ne=Hf(a,fu)+Hf(s,Pm)+l,we=Hf(a,y)+Hf(s,C)+l+14+3*I+Hf(W,$)+2*W[16]+3*W[17]+7*W[18];if(d>=0&&J<=ne&&J<=we)return XA(e,p,t.subarray(d,d+f));var re,le,ce,me;if(nl(e,p,1+(we<ne)),p+=2,we<ne){re=Zf(y,v,0),le=y,ce=Zf(C,T,0),me=C;var Re=Zf($,k,0);nl(e,p,M-257),nl(e,p+5,V-1),nl(e,p+10,I-4),p+=14;for(var R=0;R<I;++R)nl(e,p+3*R,$[u_[R]]);p+=3*I;for(var Y=[D,q],P=0;P<2;++P)for(var z=Y[P],R=0;R<z.length;++R){var Z=z[R]&31;nl(e,p,Re[Z]),p+=$[Z],Z>15&&(nl(e,p,z[R]>>5&127),p+=z[R]>>12)}}else re=kI,le=fu,ce=LI,me=Pm;for(var R=0;R<u;++R){var se=r[R];if(se>255){var Z=se>>18&31;Vf(e,p,re[Z+257]),p+=le[Z+257],Z>7&&(nl(e,p,se>>23&31),p+=Qy[Z]);var ue=se&31;Vf(e,p,ce[ue]),p+=me[ue],ue>3&&(Vf(e,p,se>>5&8191),p+=Zy[ue])}else Vf(e,p,re[se]),p+=le[se]}return Vf(e,p,re[256]),p+le[256]},OI=new Jy([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),JA=new Ws(0),DI=function(t,e,n,r,a,s){var l=s.z||t.length,u=new Ws(r+l+5*(1+Math.ceil(l/7e3))+a),d=u.subarray(r,u.length-a),f=s.l,p=(s.r||0)&7;if(e){p&&(d[0]=s.r>>3);for(var g=OI[e-1],y=g>>13,v=g&8191,N=(1<<n)-1,C=s.p||new Da(32768),T=s.h||new Da(N+1),A=Math.ceil(n/3),D=2*A,M=function(nt){return(t[nt]^t[nt+1]<<A^t[nt+2]<<D)&N},B=new Jy(25e3),q=new Da(288),V=new Da(32),W=0,R=0,L=s.i||0,$=0,k=s.w||0,I=0;L+2<l;++L){var J=M(L),ne=L&32767,we=T[J];if(C[ne]=we,T[J]=ne,k<=L){var re=l-L;if((W>7e3||$>24576)&&(re>423||!f)){p=h_(t,d,0,B,q,V,R,$,I,L-I,p),$=W=R=0,I=L;for(var le=0;le<286;++le)q[le]=0;for(var le=0;le<30;++le)V[le]=0}var ce=2,me=0,Re=v,Y=ne-we&32767;if(re>2&&J==M(L-Y))for(var P=Math.min(y,re)-1,z=Math.min(32767,L),Z=Math.min(258,re);Y<=z&&--Re&&ne!=we;){if(t[L+ce]==t[L+ce-Y]){for(var se=0;se<Z&&t[L+se]==t[L+se-Y];++se);if(se>ce){if(ce=se,me=Y,se>P)break;for(var ue=Math.min(Y,se-2),he=0,le=0;le<ue;++le){var ve=L-Y+le&32767,be=C[ve],je=ve-be&32767;je>he&&(he=je,we=ve)}}}ne=we,we=C[ne],Y+=ne-we&32767}if(me){B[$++]=268435456|Dv[ce]<<18|d_[me];var Oe=Dv[ce]&31,qe=d_[me]&31;R+=Qy[Oe]+Zy[qe],++q[257+Oe],++V[qe],k=L+ce,++W}else B[$++]=t[L],++q[t[L]]}}for(L=Math.max(L,k);L<l;++L)B[$++]=t[L],++q[t[L]];p=h_(t,d,f,B,q,V,R,$,I,L-I,p),f||(s.r=p&7|d[p/8|0]<<3,p-=7,s.h=T,s.p=C,s.i=L,s.w=k)}else{for(var L=s.w||0;L<l+f;L+=65535){var Qe=L+65535;Qe>=l&&(d[p/8|0]=f,Qe=l),p=XA(d,p+1,t.subarray(L,Qe))}s.i=l}return RI(u,0,r+KA(p)+a)},QA=function(){var t=1,e=0;return{p:function(n){for(var r=t,a=e,s=n.length|0,l=0;l!=s;){for(var u=Math.min(l+2655,s);l<u;++l)a+=r+=n[l];r=(r&65535)+15*(r>>16),a=(a&65535)+15*(a>>16)}t=r,e=a},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},PI=function(t,e,n,r,a){if(!a&&(a={l:1},e.dictionary)){var s=e.dictionary.subarray(-32768),l=new Ws(s.length+t.length);l.set(s),l.set(t,s.length),t=l,a.w=s.length}return DI(t,e.level==null?6:e.level,e.mem==null?a.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,n,r,a)},ZA=function(t,e,n){for(;n;++e)t[e]=n,n>>>=8},MI=function(t,e){var n=e.level,r=n==0?0:n<6?1:n==9?3:2;if(t[0]=120,t[1]=r<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var a=QA();a.p(e.dictionary),ZA(t,2,a.d())}};function Bv(t,e){e||(e={});var n=QA();n.p(t);var r=PI(t,e,e.dictionary?6:2,4);return MI(r,e),ZA(r,r.length-4,n.d()),r}var BI=typeof TextDecoder<"u"&&new TextDecoder,II=0;try{BI.decode(JA,{stream:!0}),II=1}catch{}function FI(t){if(Array.isArray(t))return t}function UI(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,a,s,l,u=[],d=!0,f=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(d=(r=s.call(n)).done)&&(u.push(r.value),u.length!==e);d=!0);}catch(p){f=!0,a=p}finally{try{if(!d&&n.return!=null&&(l=n.return(),Object(l)!==l))return}finally{if(f)throw a}}return u}}function p_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function zI(t,e){if(t){if(typeof t=="string")return p_(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?p_(t,e):void 0}}function qI(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function m_(t,e){return FI(t)||UI(t,e)||zI(t,e)||qI()}function g_(t,e="utf8"){return new TextDecoder(e).decode(t)}const VI=new TextEncoder;function HI(t){return VI.encode(t)}const $I=1024*8,GI=(()=>{const t=new Uint8Array(4),e=new Uint32Array(t.buffer);return!((e[0]=1)&t[0])})(),C1={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class eb{buffer;byteLength;byteOffset;length;offset;lastWrittenByte;littleEndian;_data;_mark;_marks;constructor(e=$I,n={}){let r=!1;typeof e=="number"?e=new ArrayBuffer(e):(r=!0,this.lastWrittenByte=e.byteLength);const a=n.offset?n.offset>>>0:0,s=e.byteLength-a;let l=a;(ArrayBuffer.isView(e)||e instanceof eb)&&(e.byteLength!==e.buffer.byteLength&&(l=e.byteOffset+a),e=e.buffer),r?this.lastWrittenByte=s:this.lastWrittenByte=0,this.buffer=e,this.length=s,this.byteLength=s,this.byteOffset=l,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,l,s),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const r=(this.offset+e)*2,a=new Uint8Array(r);a.set(new Uint8Array(this.buffer)),this.buffer=a.buffer,this.length=r,this.byteLength=r,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,n){const r=C1[n].BYTES_PER_ELEMENT*e,a=this.byteOffset+this.offset,s=this.buffer.slice(a,a+r);if(this.littleEndian===GI&&n!=="uint8"&&n!=="int8"){const u=new Uint8Array(this.buffer.slice(a,a+r));u.reverse();const d=new C1[n](u.buffer);return this.offset+=r,d.reverse(),d}const l=new C1[n](s);return this.offset+=r,l}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let n="";for(let r=0;r<e;r++)n+=this.readChar();return n}readUtf8(e=1){return g_(this.readBytes(e))}decodeText(e=1,n="utf8"){return g_(this.readBytes(e),n)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let n=0;n<e.length;n++)this._data.setUint8(this.offset++,e[n]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let n=0;n<e.length;n++)this.writeUint8(e.charCodeAt(n));return this}writeUtf8(e){return this.writeBytes(HI(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function Xd(t){let e=t.length;for(;--e>=0;)t[e]=0}const WI=3,YI=258,eN=29,KI=256,XI=KI+1+eN,tN=30,JI=512,QI=new Array((XI+2)*2);Xd(QI);const ZI=new Array(tN*2);Xd(ZI);const e9=new Array(JI);Xd(e9);const t9=new Array(YI-WI+1);Xd(t9);const n9=new Array(eN);Xd(n9);const r9=new Array(tN);Xd(r9);const i9=(t,e,n,r)=>{let a=t&65535|0,s=t>>>16&65535|0,l=0;for(;n!==0;){l=n>2e3?2e3:n,n-=l;do a=a+e[r++]|0,s=s+a|0;while(--l);a%=65521,s%=65521}return a|s<<16|0};var Iv=i9;const a9=()=>{let t,e=[];for(var n=0;n<256;n++){t=n;for(var r=0;r<8;r++)t=t&1?3988292384^t>>>1:t>>>1;e[n]=t}return e},s9=new Uint32Array(a9()),o9=(t,e,n,r)=>{const a=s9,s=r+n;t^=-1;for(let l=r;l<s;l++)t=t>>>8^a[(t^e[l])&255];return t^-1};var bo=o9,Fv={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},nN={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const l9=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var c9=function(t){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const n=e.shift();if(n){if(typeof n!="object")throw new TypeError(n+"must be non-object");for(const r in n)l9(n,r)&&(t[r]=n[r])}}return t},u9=t=>{let e=0;for(let r=0,a=t.length;r<a;r++)e+=t[r].length;const n=new Uint8Array(e);for(let r=0,a=0,s=t.length;r<s;r++){let l=t[r];n.set(l,a),a+=l.length}return n},rN={assign:c9,flattenChunks:u9};let iN=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{iN=!1}const xh=new Uint8Array(256);for(let t=0;t<256;t++)xh[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;xh[254]=xh[254]=1;var d9=t=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(t);let e,n,r,a,s,l=t.length,u=0;for(a=0;a<l;a++)n=t.charCodeAt(a),(n&64512)===55296&&a+1<l&&(r=t.charCodeAt(a+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),a++)),u+=n<128?1:n<2048?2:n<65536?3:4;for(e=new Uint8Array(u),s=0,a=0;s<u;a++)n=t.charCodeAt(a),(n&64512)===55296&&a+1<l&&(r=t.charCodeAt(a+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),a++)),n<128?e[s++]=n:n<2048?(e[s++]=192|n>>>6,e[s++]=128|n&63):n<65536?(e[s++]=224|n>>>12,e[s++]=128|n>>>6&63,e[s++]=128|n&63):(e[s++]=240|n>>>18,e[s++]=128|n>>>12&63,e[s++]=128|n>>>6&63,e[s++]=128|n&63);return e};const f9=(t,e)=>{if(e<65534&&t.subarray&&iN)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));let n="";for(let r=0;r<e;r++)n+=String.fromCharCode(t[r]);return n};var h9=(t,e)=>{const n=e||t.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(t.subarray(0,e));let r,a;const s=new Array(n*2);for(a=0,r=0;r<n;){let l=t[r++];if(l<128){s[a++]=l;continue}let u=xh[l];if(u>4){s[a++]=65533,r+=u-1;continue}for(l&=u===2?31:u===3?15:7;u>1&&r<n;)l=l<<6|t[r++]&63,u--;if(u>1){s[a++]=65533;continue}l<65536?s[a++]=l:(l-=65536,s[a++]=55296|l>>10&1023,s[a++]=56320|l&1023)}return f9(s,a)},p9=(t,e)=>{e=e||t.length,e>t.length&&(e=t.length);let n=e-1;for(;n>=0&&(t[n]&192)===128;)n--;return n<0||n===0?e:n+xh[t[n]]>e?n:e},Uv={string2buf:d9,buf2string:h9,utf8border:p9};function m9(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var g9=m9;const Hp=16209,v9=16191;var y9=function(e,n){let r,a,s,l,u,d,f,p,g,y,v,N,C,T,A,D,M,B,q,V,W,R,L,$;const k=e.state;r=e.next_in,L=e.input,a=r+(e.avail_in-5),s=e.next_out,$=e.output,l=s-(n-e.avail_out),u=s+(e.avail_out-257),d=k.dmax,f=k.wsize,p=k.whave,g=k.wnext,y=k.window,v=k.hold,N=k.bits,C=k.lencode,T=k.distcode,A=(1<<k.lenbits)-1,D=(1<<k.distbits)-1;e:do{N<15&&(v+=L[r++]<<N,N+=8,v+=L[r++]<<N,N+=8),M=C[v&A];t:for(;;){if(B=M>>>24,v>>>=B,N-=B,B=M>>>16&255,B===0)$[s++]=M&65535;else if(B&16){q=M&65535,B&=15,B&&(N<B&&(v+=L[r++]<<N,N+=8),q+=v&(1<<B)-1,v>>>=B,N-=B),N<15&&(v+=L[r++]<<N,N+=8,v+=L[r++]<<N,N+=8),M=T[v&D];n:for(;;){if(B=M>>>24,v>>>=B,N-=B,B=M>>>16&255,B&16){if(V=M&65535,B&=15,N<B&&(v+=L[r++]<<N,N+=8,N<B&&(v+=L[r++]<<N,N+=8)),V+=v&(1<<B)-1,V>d){e.msg="invalid distance too far back",k.mode=Hp;break e}if(v>>>=B,N-=B,B=s-l,V>B){if(B=V-B,B>p&&k.sane){e.msg="invalid distance too far back",k.mode=Hp;break e}if(W=0,R=y,g===0){if(W+=f-B,B<q){q-=B;do $[s++]=y[W++];while(--B);W=s-V,R=$}}else if(g<B){if(W+=f+g-B,B-=g,B<q){q-=B;do $[s++]=y[W++];while(--B);if(W=0,g<q){B=g,q-=B;do $[s++]=y[W++];while(--B);W=s-V,R=$}}}else if(W+=g-B,B<q){q-=B;do $[s++]=y[W++];while(--B);W=s-V,R=$}for(;q>2;)$[s++]=R[W++],$[s++]=R[W++],$[s++]=R[W++],q-=3;q&&($[s++]=R[W++],q>1&&($[s++]=R[W++]))}else{W=s-V;do $[s++]=$[W++],$[s++]=$[W++],$[s++]=$[W++],q-=3;while(q>2);q&&($[s++]=$[W++],q>1&&($[s++]=$[W++]))}}else if((B&64)===0){M=T[(M&65535)+(v&(1<<B)-1)];continue n}else{e.msg="invalid distance code",k.mode=Hp;break e}break}}else if((B&64)===0){M=C[(M&65535)+(v&(1<<B)-1)];continue t}else if(B&32){k.mode=v9;break e}else{e.msg="invalid literal/length code",k.mode=Hp;break e}break}}while(r<a&&s<u);q=N>>3,r-=q,N-=q<<3,v&=(1<<N)-1,e.next_in=r,e.next_out=s,e.avail_in=r<a?5+(a-r):5-(r-a),e.avail_out=s<u?257+(u-s):257-(s-u),k.hold=v,k.bits=N};const gd=15,v_=852,y_=592,b_=0,T1=1,w_=2,b9=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),w9=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),x9=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),_9=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),S9=(t,e,n,r,a,s,l,u)=>{const d=u.bits;let f=0,p=0,g=0,y=0,v=0,N=0,C=0,T=0,A=0,D=0,M,B,q,V,W,R=null,L;const $=new Uint16Array(gd+1),k=new Uint16Array(gd+1);let I=null,J,ne,we;for(f=0;f<=gd;f++)$[f]=0;for(p=0;p<r;p++)$[e[n+p]]++;for(v=d,y=gd;y>=1&&$[y]===0;y--);if(v>y&&(v=y),y===0)return a[s++]=1<<24|64<<16|0,a[s++]=1<<24|64<<16|0,u.bits=1,0;for(g=1;g<y&&$[g]===0;g++);for(v<g&&(v=g),T=1,f=1;f<=gd;f++)if(T<<=1,T-=$[f],T<0)return-1;if(T>0&&(t===b_||y!==1))return-1;for(k[1]=0,f=1;f<gd;f++)k[f+1]=k[f]+$[f];for(p=0;p<r;p++)e[n+p]!==0&&(l[k[e[n+p]]++]=p);if(t===b_?(R=I=l,L=20):t===T1?(R=b9,I=w9,L=257):(R=x9,I=_9,L=0),D=0,p=0,f=g,W=s,N=v,C=0,q=-1,A=1<<v,V=A-1,t===T1&&A>v_||t===w_&&A>y_)return 1;for(;;){J=f-C,l[p]+1<L?(ne=0,we=l[p]):l[p]>=L?(ne=I[l[p]-L],we=R[l[p]-L]):(ne=96,we=0),M=1<<f-C,B=1<<N,g=B;do B-=M,a[W+(D>>C)+B]=J<<24|ne<<16|we|0;while(B!==0);for(M=1<<f-1;D&M;)M>>=1;if(M!==0?(D&=M-1,D+=M):D=0,p++,--$[f]===0){if(f===y)break;f=e[n+l[p]]}if(f>v&&(D&V)!==q){for(C===0&&(C=v),W+=g,N=f-C,T=1<<N;N+C<y&&(T-=$[N+C],!(T<=0));)N++,T<<=1;if(A+=1<<N,t===T1&&A>v_||t===w_&&A>y_)return 1;q=D&V,a[q]=v<<24|N<<16|W-s|0}}return D!==0&&(a[W+D]=f-C<<24|64<<16|0),u.bits=v,0};var eh=S9;const A9=0,aN=1,sN=2,{Z_FINISH:x_,Z_BLOCK:N9,Z_TREES:$p,Z_OK:hu,Z_STREAM_END:E9,Z_NEED_DICT:C9,Z_STREAM_ERROR:us,Z_DATA_ERROR:oN,Z_MEM_ERROR:lN,Z_BUF_ERROR:T9,Z_DEFLATED:__}=nN,o0=16180,S_=16181,A_=16182,N_=16183,E_=16184,C_=16185,T_=16186,j_=16187,k_=16188,L_=16189,Mm=16190,rl=16191,j1=16192,R_=16193,k1=16194,O_=16195,D_=16196,P_=16197,M_=16198,Gp=16199,Wp=16200,B_=16201,I_=16202,F_=16203,U_=16204,z_=16205,L1=16206,q_=16207,V_=16208,tr=16209,cN=16210,uN=16211,j9=852,k9=592,L9=15,R9=L9,H_=t=>(t>>>24&255)+(t>>>8&65280)+((t&65280)<<8)+((t&255)<<24);function O9(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const gu=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.mode<o0||e.mode>uN?1:0},dN=t=>{if(gu(t))return us;const e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=e.wrap&1),e.mode=o0,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(j9),e.distcode=e.distdyn=new Int32Array(k9),e.sane=1,e.back=-1,hu},fN=t=>{if(gu(t))return us;const e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,dN(t)},hN=(t,e)=>{let n;if(gu(t))return us;const r=t.state;return e<0?(n=0,e=-e):(n=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?us:(r.window!==null&&r.wbits!==e&&(r.window=null),r.wrap=n,r.wbits=e,fN(t))},pN=(t,e)=>{if(!t)return us;const n=new O9;t.state=n,n.strm=t,n.window=null,n.mode=o0;const r=hN(t,e);return r!==hu&&(t.state=null),r},D9=t=>pN(t,R9);let $_=!0,R1,O1;const P9=t=>{if($_){R1=new Int32Array(512),O1=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(eh(aN,t.lens,0,288,R1,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;eh(sN,t.lens,0,32,O1,0,t.work,{bits:5}),$_=!1}t.lencode=R1,t.lenbits=9,t.distcode=O1,t.distbits=5},mN=(t,e,n,r)=>{let a;const s=t.state;return s.window===null&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new Uint8Array(s.wsize)),r>=s.wsize?(s.window.set(e.subarray(n-s.wsize,n),0),s.wnext=0,s.whave=s.wsize):(a=s.wsize-s.wnext,a>r&&(a=r),s.window.set(e.subarray(n-r,n-r+a),s.wnext),r-=a,r?(s.window.set(e.subarray(n-r,n),0),s.wnext=r,s.whave=s.wsize):(s.wnext+=a,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=a))),0},M9=(t,e)=>{let n,r,a,s,l,u,d,f,p,g,y,v,N,C,T=0,A,D,M,B,q,V,W,R;const L=new Uint8Array(4);let $,k;const I=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(gu(t)||!t.output||!t.input&&t.avail_in!==0)return us;n=t.state,n.mode===rl&&(n.mode=j1),l=t.next_out,a=t.output,d=t.avail_out,s=t.next_in,r=t.input,u=t.avail_in,f=n.hold,p=n.bits,g=u,y=d,R=hu;e:for(;;)switch(n.mode){case o0:if(n.wrap===0){n.mode=j1;break}for(;p<16;){if(u===0)break e;u--,f+=r[s++]<<p,p+=8}if(n.wrap&2&&f===35615){n.wbits===0&&(n.wbits=15),n.check=0,L[0]=f&255,L[1]=f>>>8&255,n.check=bo(n.check,L,2,0),f=0,p=0,n.mode=S_;break}if(n.head&&(n.head.done=!1),!(n.wrap&1)||(((f&255)<<8)+(f>>8))%31){t.msg="incorrect header check",n.mode=tr;break}if((f&15)!==__){t.msg="unknown compression method",n.mode=tr;break}if(f>>>=4,p-=4,W=(f&15)+8,n.wbits===0&&(n.wbits=W),W>15||W>n.wbits){t.msg="invalid window size",n.mode=tr;break}n.dmax=1<<n.wbits,n.flags=0,t.adler=n.check=1,n.mode=f&512?L_:rl,f=0,p=0;break;case S_:for(;p<16;){if(u===0)break e;u--,f+=r[s++]<<p,p+=8}if(n.flags=f,(n.flags&255)!==__){t.msg="unknown compression method",n.mode=tr;break}if(n.flags&57344){t.msg="unknown header flags set",n.mode=tr;break}n.head&&(n.head.text=f>>8&1),n.flags&512&&n.wrap&4&&(L[0]=f&255,L[1]=f>>>8&255,n.check=bo(n.check,L,2,0)),f=0,p=0,n.mode=A_;case A_:for(;p<32;){if(u===0)break e;u--,f+=r[s++]<<p,p+=8}n.head&&(n.head.time=f),n.flags&512&&n.wrap&4&&(L[0]=f&255,L[1]=f>>>8&255,L[2]=f>>>16&255,L[3]=f>>>24&255,n.check=bo(n.check,L,4,0)),f=0,p=0,n.mode=N_;case N_:for(;p<16;){if(u===0)break e;u--,f+=r[s++]<<p,p+=8}n.head&&(n.head.xflags=f&255,n.head.os=f>>8),n.flags&512&&n.wrap&4&&(L[0]=f&255,L[1]=f>>>8&255,n.check=bo(n.check,L,2,0)),f=0,p=0,n.mode=E_;case E_:if(n.flags&1024){for(;p<16;){if(u===0)break e;u--,f+=r[s++]<<p,p+=8}n.length=f,n.head&&(n.head.extra_len=f),n.flags&512&&n.wrap&4&&(L[0]=f&255,L[1]=f>>>8&255,n.check=bo(n.check,L,2,0)),f=0,p=0}else n.head&&(n.head.extra=null);n.mode=C_;case C_:if(n.flags&1024&&(v=n.length,v>u&&(v=u),v&&(n.head&&(W=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(r.subarray(s,s+v),W)),n.flags&512&&n.wrap&4&&(n.check=bo(n.check,r,v,s)),u-=v,s+=v,n.length-=v),n.length))break e;n.length=0,n.mode=T_;case T_:if(n.flags&2048){if(u===0)break e;v=0;do W=r[s+v++],n.head&&W&&n.length<65536&&(n.head.name+=String.fromCharCode(W));while(W&&v<u);if(n.flags&512&&n.wrap&4&&(n.check=bo(n.check,r,v,s)),u-=v,s+=v,W)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=j_;case j_:if(n.flags&4096){if(u===0)break e;v=0;do W=r[s+v++],n.head&&W&&n.length<65536&&(n.head.comment+=String.fromCharCode(W));while(W&&v<u);if(n.flags&512&&n.wrap&4&&(n.check=bo(n.check,r,v,s)),u-=v,s+=v,W)break e}else n.head&&(n.head.comment=null);n.mode=k_;case k_:if(n.flags&512){for(;p<16;){if(u===0)break e;u--,f+=r[s++]<<p,p+=8}if(n.wrap&4&&f!==(n.check&65535)){t.msg="header crc mismatch",n.mode=tr;break}f=0,p=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),t.adler=n.check=0,n.mode=rl;break;case L_:for(;p<32;){if(u===0)break e;u--,f+=r[s++]<<p,p+=8}t.adler=n.check=H_(f),f=0,p=0,n.mode=Mm;case Mm:if(n.havedict===0)return t.next_out=l,t.avail_out=d,t.next_in=s,t.avail_in=u,n.hold=f,n.bits=p,C9;t.adler=n.check=1,n.mode=rl;case rl:if(e===N9||e===$p)break e;case j1:if(n.last){f>>>=p&7,p-=p&7,n.mode=L1;break}for(;p<3;){if(u===0)break e;u--,f+=r[s++]<<p,p+=8}switch(n.last=f&1,f>>>=1,p-=1,f&3){case 0:n.mode=R_;break;case 1:if(P9(n),n.mode=Gp,e===$p){f>>>=2,p-=2;break e}break;case 2:n.mode=D_;break;case 3:t.msg="invalid block type",n.mode=tr}f>>>=2,p-=2;break;case R_:for(f>>>=p&7,p-=p&7;p<32;){if(u===0)break e;u--,f+=r[s++]<<p,p+=8}if((f&65535)!==(f>>>16^65535)){t.msg="invalid stored block lengths",n.mode=tr;break}if(n.length=f&65535,f=0,p=0,n.mode=k1,e===$p)break e;case k1:n.mode=O_;case O_:if(v=n.length,v){if(v>u&&(v=u),v>d&&(v=d),v===0)break e;a.set(r.subarray(s,s+v),l),u-=v,s+=v,d-=v,l+=v,n.length-=v;break}n.mode=rl;break;case D_:for(;p<14;){if(u===0)break e;u--,f+=r[s++]<<p,p+=8}if(n.nlen=(f&31)+257,f>>>=5,p-=5,n.ndist=(f&31)+1,f>>>=5,p-=5,n.ncode=(f&15)+4,f>>>=4,p-=4,n.nlen>286||n.ndist>30){t.msg="too many length or distance symbols",n.mode=tr;break}n.have=0,n.mode=P_;case P_:for(;n.have<n.ncode;){for(;p<3;){if(u===0)break e;u--,f+=r[s++]<<p,p+=8}n.lens[I[n.have++]]=f&7,f>>>=3,p-=3}for(;n.have<19;)n.lens[I[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,$={bits:n.lenbits},R=eh(A9,n.lens,0,19,n.lencode,0,n.work,$),n.lenbits=$.bits,R){t.msg="invalid code lengths set",n.mode=tr;break}n.have=0,n.mode=M_;case M_:for(;n.have<n.nlen+n.ndist;){for(;T=n.lencode[f&(1<<n.lenbits)-1],A=T>>>24,D=T>>>16&255,M=T&65535,!(A<=p);){if(u===0)break e;u--,f+=r[s++]<<p,p+=8}if(M<16)f>>>=A,p-=A,n.lens[n.have++]=M;else{if(M===16){for(k=A+2;p<k;){if(u===0)break e;u--,f+=r[s++]<<p,p+=8}if(f>>>=A,p-=A,n.have===0){t.msg="invalid bit length repeat",n.mode=tr;break}W=n.lens[n.have-1],v=3+(f&3),f>>>=2,p-=2}else if(M===17){for(k=A+3;p<k;){if(u===0)break e;u--,f+=r[s++]<<p,p+=8}f>>>=A,p-=A,W=0,v=3+(f&7),f>>>=3,p-=3}else{for(k=A+7;p<k;){if(u===0)break e;u--,f+=r[s++]<<p,p+=8}f>>>=A,p-=A,W=0,v=11+(f&127),f>>>=7,p-=7}if(n.have+v>n.nlen+n.ndist){t.msg="invalid bit length repeat",n.mode=tr;break}for(;v--;)n.lens[n.have++]=W}}if(n.mode===tr)break;if(n.lens[256]===0){t.msg="invalid code -- missing end-of-block",n.mode=tr;break}if(n.lenbits=9,$={bits:n.lenbits},R=eh(aN,n.lens,0,n.nlen,n.lencode,0,n.work,$),n.lenbits=$.bits,R){t.msg="invalid literal/lengths set",n.mode=tr;break}if(n.distbits=6,n.distcode=n.distdyn,$={bits:n.distbits},R=eh(sN,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,$),n.distbits=$.bits,R){t.msg="invalid distances set",n.mode=tr;break}if(n.mode=Gp,e===$p)break e;case Gp:n.mode=Wp;case Wp:if(u>=6&&d>=258){t.next_out=l,t.avail_out=d,t.next_in=s,t.avail_in=u,n.hold=f,n.bits=p,y9(t,y),l=t.next_out,a=t.output,d=t.avail_out,s=t.next_in,r=t.input,u=t.avail_in,f=n.hold,p=n.bits,n.mode===rl&&(n.back=-1);break}for(n.back=0;T=n.lencode[f&(1<<n.lenbits)-1],A=T>>>24,D=T>>>16&255,M=T&65535,!(A<=p);){if(u===0)break e;u--,f+=r[s++]<<p,p+=8}if(D&&(D&240)===0){for(B=A,q=D,V=M;T=n.lencode[V+((f&(1<<B+q)-1)>>B)],A=T>>>24,D=T>>>16&255,M=T&65535,!(B+A<=p);){if(u===0)break e;u--,f+=r[s++]<<p,p+=8}f>>>=B,p-=B,n.back+=B}if(f>>>=A,p-=A,n.back+=A,n.length=M,D===0){n.mode=z_;break}if(D&32){n.back=-1,n.mode=rl;break}if(D&64){t.msg="invalid literal/length code",n.mode=tr;break}n.extra=D&15,n.mode=B_;case B_:if(n.extra){for(k=n.extra;p<k;){if(u===0)break e;u--,f+=r[s++]<<p,p+=8}n.length+=f&(1<<n.extra)-1,f>>>=n.extra,p-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=I_;case I_:for(;T=n.distcode[f&(1<<n.distbits)-1],A=T>>>24,D=T>>>16&255,M=T&65535,!(A<=p);){if(u===0)break e;u--,f+=r[s++]<<p,p+=8}if((D&240)===0){for(B=A,q=D,V=M;T=n.distcode[V+((f&(1<<B+q)-1)>>B)],A=T>>>24,D=T>>>16&255,M=T&65535,!(B+A<=p);){if(u===0)break e;u--,f+=r[s++]<<p,p+=8}f>>>=B,p-=B,n.back+=B}if(f>>>=A,p-=A,n.back+=A,D&64){t.msg="invalid distance code",n.mode=tr;break}n.offset=M,n.extra=D&15,n.mode=F_;case F_:if(n.extra){for(k=n.extra;p<k;){if(u===0)break e;u--,f+=r[s++]<<p,p+=8}n.offset+=f&(1<<n.extra)-1,f>>>=n.extra,p-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){t.msg="invalid distance too far back",n.mode=tr;break}n.mode=U_;case U_:if(d===0)break e;if(v=y-d,n.offset>v){if(v=n.offset-v,v>n.whave&&n.sane){t.msg="invalid distance too far back",n.mode=tr;break}v>n.wnext?(v-=n.wnext,N=n.wsize-v):N=n.wnext-v,v>n.length&&(v=n.length),C=n.window}else C=a,N=l-n.offset,v=n.length;v>d&&(v=d),d-=v,n.length-=v;do a[l++]=C[N++];while(--v);n.length===0&&(n.mode=Wp);break;case z_:if(d===0)break e;a[l++]=n.length,d--,n.mode=Wp;break;case L1:if(n.wrap){for(;p<32;){if(u===0)break e;u--,f|=r[s++]<<p,p+=8}if(y-=d,t.total_out+=y,n.total+=y,n.wrap&4&&y&&(t.adler=n.check=n.flags?bo(n.check,a,y,l-y):Iv(n.check,a,y,l-y)),y=d,n.wrap&4&&(n.flags?f:H_(f))!==n.check){t.msg="incorrect data check",n.mode=tr;break}f=0,p=0}n.mode=q_;case q_:if(n.wrap&&n.flags){for(;p<32;){if(u===0)break e;u--,f+=r[s++]<<p,p+=8}if(n.wrap&4&&f!==(n.total&4294967295)){t.msg="incorrect length check",n.mode=tr;break}f=0,p=0}n.mode=V_;case V_:R=E9;break e;case tr:R=oN;break e;case cN:return lN;case uN:default:return us}return t.next_out=l,t.avail_out=d,t.next_in=s,t.avail_in=u,n.hold=f,n.bits=p,(n.wsize||y!==t.avail_out&&n.mode<tr&&(n.mode<L1||e!==x_))&&mN(t,t.output,t.next_out,y-t.avail_out),g-=t.avail_in,y-=t.avail_out,t.total_in+=g,t.total_out+=y,n.total+=y,n.wrap&4&&y&&(t.adler=n.check=n.flags?bo(n.check,a,y,t.next_out-y):Iv(n.check,a,y,t.next_out-y)),t.data_type=n.bits+(n.last?64:0)+(n.mode===rl?128:0)+(n.mode===Gp||n.mode===k1?256:0),(g===0&&y===0||e===x_)&&R===hu&&(R=T9),R},B9=t=>{if(gu(t))return us;let e=t.state;return e.window&&(e.window=null),t.state=null,hu},I9=(t,e)=>{if(gu(t))return us;const n=t.state;return(n.wrap&2)===0?us:(n.head=e,e.done=!1,hu)},F9=(t,e)=>{const n=e.length;let r,a,s;return gu(t)||(r=t.state,r.wrap!==0&&r.mode!==Mm)?us:r.mode===Mm&&(a=1,a=Iv(a,e,n,0),a!==r.check)?oN:(s=mN(t,e,n,n),s?(r.mode=cN,lN):(r.havedict=1,hu))};var U9=fN,z9=hN,q9=dN,V9=D9,H9=pN,$9=M9,G9=B9,W9=I9,Y9=F9,K9="pako inflate (from Nodeca project)",ol={inflateReset:U9,inflateReset2:z9,inflateResetKeep:q9,inflateInit:V9,inflateInit2:H9,inflate:$9,inflateEnd:G9,inflateGetHeader:W9,inflateSetDictionary:Y9,inflateInfo:K9};function X9(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var J9=X9;const gN=Object.prototype.toString,{Z_NO_FLUSH:Q9,Z_FINISH:Z9,Z_OK:_h,Z_STREAM_END:D1,Z_NEED_DICT:P1,Z_STREAM_ERROR:eF,Z_DATA_ERROR:G_,Z_MEM_ERROR:tF}=nN;function Ph(t){this.options=rN.assign({chunkSize:1024*64,windowBits:15,to:""},t||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(t&&t.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15)===0&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new g9,this.strm.avail_out=0;let n=ol.inflateInit2(this.strm,e.windowBits);if(n!==_h)throw new Error(Fv[n]);if(this.header=new J9,ol.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=Uv.string2buf(e.dictionary):gN.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(n=ol.inflateSetDictionary(this.strm,e.dictionary),n!==_h)))throw new Error(Fv[n])}Ph.prototype.push=function(t,e){const n=this.strm,r=this.options.chunkSize,a=this.options.dictionary;let s,l,u;if(this.ended)return!1;for(e===~~e?l=e:l=e===!0?Z9:Q9,gN.call(t)==="[object ArrayBuffer]"?n.input=new Uint8Array(t):n.input=t,n.next_in=0,n.avail_in=n.input.length;;){for(n.avail_out===0&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),s=ol.inflate(n,l),s===P1&&a&&(s=ol.inflateSetDictionary(n,a),s===_h?s=ol.inflate(n,l):s===G_&&(s=P1));n.avail_in>0&&s===D1&&n.state.wrap>0&&t[n.next_in]!==0;)ol.inflateReset(n),s=ol.inflate(n,l);switch(s){case eF:case G_:case P1:case tF:return this.onEnd(s),this.ended=!0,!1}if(u=n.avail_out,n.next_out&&(n.avail_out===0||s===D1))if(this.options.to==="string"){let d=Uv.utf8border(n.output,n.next_out),f=n.next_out-d,p=Uv.buf2string(n.output,d);n.next_out=f,n.avail_out=r-f,f&&n.output.set(n.output.subarray(d,d+f),0),this.onData(p)}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(!(s===_h&&u===0)){if(s===D1)return s=ol.inflateEnd(this.strm),this.onEnd(s),this.ended=!0,!0;if(n.avail_in===0)break}}return!0};Ph.prototype.onData=function(t){this.chunks.push(t)};Ph.prototype.onEnd=function(t){t===_h&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=rN.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function nF(t,e){const n=new Ph(e);if(n.push(t),n.err)throw n.msg||Fv[n.err];return n.result}var rF=Ph,iF=nF,aF={Inflate:rF,inflate:iF};const{Inflate:sF,inflate:oF}=aF;var W_=sF,lF=oF;const vN=[];for(let t=0;t<256;t++){let e=t;for(let n=0;n<8;n++)e&1?e=3988292384^e>>>1:e=e>>>1;vN[t]=e}const Y_=4294967295;function cF(t,e,n){let r=t;for(let a=0;a<n;a++)r=vN[(r^e[a])&255]^r>>>8;return r}function uF(t,e){return(cF(Y_,t,e)^Y_)>>>0}function K_(t,e,n){const r=t.readUint32(),a=uF(new Uint8Array(t.buffer,t.byteOffset+t.offset-e-4,e),e);if(a!==r)throw new Error(`CRC mismatch for chunk ${n}. Expected ${r}, found ${a}`)}function yN(t,e,n){for(let r=0;r<n;r++)e[r]=t[r]}function bN(t,e,n,r){let a=0;for(;a<r;a++)e[a]=t[a];for(;a<n;a++)e[a]=t[a]+e[a-r]&255}function wN(t,e,n,r){let a=0;if(n.length===0)for(;a<r;a++)e[a]=t[a];else for(;a<r;a++)e[a]=t[a]+n[a]&255}function xN(t,e,n,r,a){let s=0;if(n.length===0){for(;s<a;s++)e[s]=t[s];for(;s<r;s++)e[s]=t[s]+(e[s-a]>>1)&255}else{for(;s<a;s++)e[s]=t[s]+(n[s]>>1)&255;for(;s<r;s++)e[s]=t[s]+(e[s-a]+n[s]>>1)&255}}function _N(t,e,n,r,a){let s=0;if(n.length===0){for(;s<a;s++)e[s]=t[s];for(;s<r;s++)e[s]=t[s]+e[s-a]&255}else{for(;s<a;s++)e[s]=t[s]+n[s]&255;for(;s<r;s++)e[s]=t[s]+dF(e[s-a],n[s],n[s-a])&255}}function dF(t,e,n){const r=t+e-n,a=Math.abs(r-t),s=Math.abs(r-e),l=Math.abs(r-n);return a<=s&&a<=l?t:s<=l?e:n}function fF(t,e,n,r,a,s){switch(t){case 0:yN(e,n,a);break;case 1:bN(e,n,a,s);break;case 2:wN(e,n,r,a);break;case 3:xN(e,n,r,a,s);break;case 4:_N(e,n,r,a,s);break;default:throw new Error(`Unsupported filter: ${t}`)}}const hF=new Uint16Array([255]),pF=new Uint8Array(hF.buffer),mF=pF[0]===255;function gF(t){const{data:e,width:n,height:r,channels:a,depth:s}=t,l=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],u=Math.ceil(s/8)*a,d=new Uint8Array(r*n*u);let f=0;for(let p=0;p<7;p++){const g=l[p],y=Math.ceil((n-g.x)/g.xStep),v=Math.ceil((r-g.y)/g.yStep);if(y<=0||v<=0)continue;const N=y*u,C=new Uint8Array(N);for(let T=0;T<v;T++){const A=e[f++],D=e.subarray(f,f+N);f+=N;const M=new Uint8Array(N);fF(A,D,M,C,N,u),C.set(M);for(let B=0;B<y;B++){const q=g.x+B*g.xStep,V=g.y+T*g.yStep;if(!(q>=n||V>=r))for(let W=0;W<u;W++)d[(V*n+q)*u+W]=M[B*u+W]}}}if(s===16){const p=new Uint16Array(d.buffer);if(mF)for(let g=0;g<p.length;g++)p[g]=vF(p[g]);return p}else return d}function vF(t){return(t&255)<<8|t>>8&255}const yF=new Uint16Array([255]),bF=new Uint8Array(yF.buffer),wF=bF[0]===255,xF=new Uint8Array(0);function X_(t){const{data:e,width:n,height:r,channels:a,depth:s}=t,l=Math.ceil(s/8)*a,u=Math.ceil(s/8*a*n),d=new Uint8Array(r*u);let f=xF,p=0,g,y;for(let v=0;v<r;v++){switch(g=e.subarray(p+1,p+1+u),y=d.subarray(v*u,(v+1)*u),e[p]){case 0:yN(g,y,u);break;case 1:bN(g,y,u,l);break;case 2:wN(g,y,f,u);break;case 3:xN(g,y,f,u,l);break;case 4:_N(g,y,f,u,l);break;default:throw new Error(`Unsupported filter: ${e[p]}`)}f=y,p+=u+1}if(s===16){const v=new Uint16Array(d.buffer);if(wF)for(let N=0;N<v.length;N++)v[N]=_F(v[N]);return v}else return d}function _F(t){return(t&255)<<8|t>>8&255}const cm=Uint8Array.of(137,80,78,71,13,10,26,10);function J_(t){if(!SF(t.readBytes(cm.length)))throw new Error("wrong PNG signature")}function SF(t){if(t.length<cm.length)return!1;for(let e=0;e<cm.length;e++)if(t[e]!==cm[e])return!1;return!0}const AF="tEXt",NF=0,SN=new TextDecoder("latin1");function EF(t){if(TF(t),t.length===0||t.length>79)throw new Error("keyword length must be between 1 and 79")}const CF=/^[\u0000-\u00FF]*$/;function TF(t){if(!CF.test(t))throw new Error("invalid latin1 text")}function jF(t,e,n){const r=AN(e);t[r]=kF(e,n-r.length-1)}function AN(t){for(t.mark();t.readByte()!==NF;);const e=t.offset;t.reset();const n=SN.decode(t.readBytes(e-t.offset-1));return t.skip(1),EF(n),n}function kF(t,e){return SN.decode(t.readBytes(e))}const ja={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},M1={UNKNOWN:-1,DEFLATE:0},Q_={UNKNOWN:-1,ADAPTIVE:0},B1={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},Yp={NONE:0,BACKGROUND:1,PREVIOUS:2},I1={SOURCE:0,OVER:1};class LF extends eb{_checkCrc;_inflator;_png;_apng;_end;_hasPalette;_palette;_hasTransparency;_transparency;_compressionMethod;_filterMethod;_interlaceMethod;_colorType;_isAnimated;_numberOfFrames;_numberOfPlays;_frames;_writingDataChunks;constructor(e,n={}){super(e);const{checkCrc:r=!1}=n;this._checkCrc=r,this._inflator=new W_,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=M1.UNKNOWN,this._filterMethod=Q_.UNKNOWN,this._interlaceMethod=B1.UNKNOWN,this._colorType=ja.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(J_(this);!this._end;){const e=this.readUint32(),n=this.readChars(4);this.decodeChunk(e,n)}return this.decodeImage(),this._png}decodeApng(){for(J_(this);!this._end;){const e=this.readUint32(),n=this.readChars(4);this.decodeApngChunk(e,n)}return this.decodeApngImage(),this._apng}decodeChunk(e,n){const r=this.offset;switch(n){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(e);break;case"IDAT":this.decodeIDAT(e);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(e);break;case"iCCP":this.decodeiCCP(e);break;case AF:jF(this._png.text,this,e);break;case"pHYs":this.decodepHYs();break;default:this.skip(e);break}if(this.offset-r!==e)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?K_(this,e+4,n):this.skip(4)}decodeApngChunk(e,n){const r=this.offset;switch(n!=="fdAT"&&n!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),n){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(e);break;default:this.decodeChunk(e,n),this.offset=r+e;break}if(this.offset-r!==e)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?K_(this,e+4,n):this.skip(4)}decodeIHDR(){const e=this._png;e.width=this.readUint32(),e.height=this.readUint32(),e.depth=RF(this.readUint8());const n=this.readUint8();this._colorType=n;let r;switch(n){case ja.GREYSCALE:r=1;break;case ja.TRUECOLOUR:r=3;break;case ja.INDEXED_COLOUR:r=1;break;case ja.GREYSCALE_ALPHA:r=2;break;case ja.TRUECOLOUR_ALPHA:r=4;break;case ja.UNKNOWN:default:throw new Error(`Unknown color type: ${n}`)}if(this._png.channels=r,this._compressionMethod=this.readUint8(),this._compressionMethod!==M1.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const e={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(e)}decodePLTE(e){if(e%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${e}`);const n=e/3;this._hasPalette=!0;const r=[];this._palette=r;for(let a=0;a<n;a++)r.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(e){this._writingDataChunks=!0;const n=e,r=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,r,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodeFDAT(e){this._writingDataChunks=!0;let n=e,r=this.offset+this.byteOffset;if(r+=4,n-=4,this._inflator.push(new Uint8Array(this.buffer,r,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodetRNS(e){switch(this._colorType){case ja.GREYSCALE:case ja.TRUECOLOUR:{if(e%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${e}`);if(e/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${e/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(e/2);for(let n=0;n<e/2;n++)this._transparency[n]=this.readUint16();break}case ja.INDEXED_COLOUR:{if(e>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${e} vs ${this._palette.length})`);let n=0;for(;n<e;n++){const r=this.readByte();this._palette[n].push(r)}for(;n<this._palette.length;n++)this._palette[n].push(255);break}case ja.UNKNOWN:case ja.GREYSCALE_ALPHA:case ja.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(e){const n=AN(this),r=this.readUint8();if(r!==M1.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${r}`);const a=this.readBytes(e-n.length-2);this._png.iccEmbeddedProfile={name:n,profile:lF(a)}}decodepHYs(){const e=this.readUint32(),n=this.readUint32(),r=this.readByte();this._png.resolution={x:e,y:n,unit:r}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let e=0;e<this._numberOfFrames;e++){const n={sequenceNumber:this._frames[e].sequenceNumber,delayNumber:this._frames[e].delayNumber,delayDenominator:this._frames[e].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},r=this._frames.at(e);if(r){if(r.data=X_({data:r.data,width:r.width,height:r.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),e===0||r.xOffset===0&&r.yOffset===0&&r.width===this._png.width&&r.height===this._png.height)n.data=r.data;else{const a=this._apng.frames.at(e-1);this.disposeFrame(r,a,n),this.addFrameDataToCanvas(n,r)}this._apng.frames.push(n)}}return this._apng}disposeFrame(e,n,r){switch(e.disposeOp){case Yp.NONE:break;case Yp.BACKGROUND:for(let a=0;a<this._png.height;a++)for(let s=0;s<this._png.width;s++){const l=(a*e.width+s)*this._png.channels;for(let u=0;u<this._png.channels;u++)r.data[l+u]=0}break;case Yp.PREVIOUS:r.data.set(n.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(e,n){const r=1<<this._png.depth,a=(s,l)=>{const u=((s+n.yOffset)*this._png.width+n.xOffset+l)*this._png.channels,d=(s*n.width+l)*this._png.channels;return{index:u,frameIndex:d}};switch(n.blendOp){case I1.SOURCE:for(let s=0;s<n.height;s++)for(let l=0;l<n.width;l++){const{index:u,frameIndex:d}=a(s,l);for(let f=0;f<this._png.channels;f++)e.data[u+f]=n.data[d+f]}break;case I1.OVER:for(let s=0;s<n.height;s++)for(let l=0;l<n.width;l++){const{index:u,frameIndex:d}=a(s,l);for(let f=0;f<this._png.channels;f++){const p=n.data[d+this._png.channels-1]/r,g=f%(this._png.channels-1)===0?1:n.data[d+f],y=Math.floor(p*g+(1-p)*e.data[u+f]);e.data[u+f]+=y}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const e=this._isAnimated?(this._frames?.at(0)).data:this._inflator.result;if(this._filterMethod!==Q_.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===B1.NO_INTERLACE)this._png.data=X_({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===B1.ADAM7)this._png.data=gF({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const e=this._inflator.result,n=this._frames.at(-1);n?n.data=e:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:Yp.NONE,blendOp:I1.SOURCE,data:e}),this._inflator=new W_,this._writingDataChunks=!1}}function RF(t){if(t!==1&&t!==2&&t!==4&&t!==8&&t!==16)throw new Error(`invalid bit depth: ${t}`);return t}var Z_;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.METRE=1]="METRE"})(Z_||(Z_={}));function OF(t,e){return new LF(t,e).decode()}var Vt=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function F1(){Vt.console&&typeof Vt.console.log=="function"&&Vt.console.log.apply(Vt.console,arguments)}var zn={log:F1,warn:function(t){Vt.console&&(typeof Vt.console.warn=="function"?Vt.console.warn.apply(Vt.console,arguments):F1.call(null,arguments))},error:function(t){Vt.console&&(typeof Vt.console.error=="function"?Vt.console.error.apply(Vt.console,arguments):F1(t))}};function U1(t,e,n){var r=new XMLHttpRequest;r.open("GET",t),r.responseType="blob",r.onload=function(){Zc(r.response,e,n)},r.onerror=function(){zn.error("could not download file")},r.send()}function e4(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function Kp(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var Zc=Vt.saveAs||((typeof window>"u"?"undefined":Ln(window))!=="object"||window!==Vt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,n){var r=Vt.URL||Vt.webkitURL,a=document.createElement("a");e=e||t.name||"download",a.download=e,a.rel="noopener",typeof t=="string"?(a.href=t,a.origin!==location.origin?e4(a.href)?U1(t,e,n):Kp(a,a.target="_blank"):Kp(a)):(a.href=r.createObjectURL(t),setTimeout(function(){r.revokeObjectURL(a.href)},4e4),setTimeout(function(){Kp(a)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,n){if(e=e||t.name||"download",typeof t=="string")if(e4(t))U1(t,e,n);else{var r=document.createElement("a");r.href=t,r.target="_blank",setTimeout(function(){Kp(r)})}else navigator.msSaveOrOpenBlob((function(a,s){return s===void 0?s={autoBom:!1}:Ln(s)!=="object"&&(zn.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\uFEFF",a],{type:a.type}):a})(t,n),e)}:function(t,e,n,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof t=="string")return U1(t,e,n);var a=t.type==="application/octet-stream",s=/constructor/i.test(Vt.HTMLElement)||Vt.safari,l=/CriOS\/[\d]+/.test(navigator.userAgent);if((l||a&&s)&&(typeof FileReader>"u"?"undefined":Ln(FileReader))==="object"){var u=new FileReader;u.onloadend=function(){var p=u.result;p=l?p:p.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=p:location=p,r=null},u.readAsDataURL(t)}else{var d=Vt.URL||Vt.webkitURL,f=d.createObjectURL(t);r?r.location=f:location.href=f,r=null,setTimeout(function(){d.revokeObjectURL(f)},4e4)}});function NN(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(u){return[parseInt(u[1]),parseInt(u[2]),parseInt(u[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(u){return[parseInt(u[1],16),parseInt(u[2],16),parseInt(u[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(u){return[parseInt(u[1]+u[1],16),parseInt(u[2]+u[2],16),parseInt(u[3]+u[3],16)]}}],r=0;r<n.length;r++){var a=n[r].re,s=n[r].process,l=a.exec(t);l&&(e=s(l),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var u=this.r.toString(16),d=this.g.toString(16),f=this.b.toString(16);return u.length==1&&(u="0"+u),d.length==1&&(d="0"+d),f.length==1&&(f="0"+f),"#"+u+d+f}}var um=Vt.atob.bind(Vt),t4=Vt.btoa.bind(Vt);function z1(t,e){var n=t[0],r=t[1],a=t[2],s=t[3];n=Ni(n,r,a,s,e[0],7,-680876936),s=Ni(s,n,r,a,e[1],12,-389564586),a=Ni(a,s,n,r,e[2],17,606105819),r=Ni(r,a,s,n,e[3],22,-1044525330),n=Ni(n,r,a,s,e[4],7,-176418897),s=Ni(s,n,r,a,e[5],12,1200080426),a=Ni(a,s,n,r,e[6],17,-1473231341),r=Ni(r,a,s,n,e[7],22,-45705983),n=Ni(n,r,a,s,e[8],7,1770035416),s=Ni(s,n,r,a,e[9],12,-1958414417),a=Ni(a,s,n,r,e[10],17,-42063),r=Ni(r,a,s,n,e[11],22,-1990404162),n=Ni(n,r,a,s,e[12],7,1804603682),s=Ni(s,n,r,a,e[13],12,-40341101),a=Ni(a,s,n,r,e[14],17,-1502002290),n=Ei(n,r=Ni(r,a,s,n,e[15],22,1236535329),a,s,e[1],5,-165796510),s=Ei(s,n,r,a,e[6],9,-1069501632),a=Ei(a,s,n,r,e[11],14,643717713),r=Ei(r,a,s,n,e[0],20,-373897302),n=Ei(n,r,a,s,e[5],5,-701558691),s=Ei(s,n,r,a,e[10],9,38016083),a=Ei(a,s,n,r,e[15],14,-660478335),r=Ei(r,a,s,n,e[4],20,-405537848),n=Ei(n,r,a,s,e[9],5,568446438),s=Ei(s,n,r,a,e[14],9,-1019803690),a=Ei(a,s,n,r,e[3],14,-187363961),r=Ei(r,a,s,n,e[8],20,1163531501),n=Ei(n,r,a,s,e[13],5,-1444681467),s=Ei(s,n,r,a,e[2],9,-51403784),a=Ei(a,s,n,r,e[7],14,1735328473),n=Ci(n,r=Ei(r,a,s,n,e[12],20,-1926607734),a,s,e[5],4,-378558),s=Ci(s,n,r,a,e[8],11,-2022574463),a=Ci(a,s,n,r,e[11],16,1839030562),r=Ci(r,a,s,n,e[14],23,-35309556),n=Ci(n,r,a,s,e[1],4,-1530992060),s=Ci(s,n,r,a,e[4],11,1272893353),a=Ci(a,s,n,r,e[7],16,-155497632),r=Ci(r,a,s,n,e[10],23,-1094730640),n=Ci(n,r,a,s,e[13],4,681279174),s=Ci(s,n,r,a,e[0],11,-358537222),a=Ci(a,s,n,r,e[3],16,-722521979),r=Ci(r,a,s,n,e[6],23,76029189),n=Ci(n,r,a,s,e[9],4,-640364487),s=Ci(s,n,r,a,e[12],11,-421815835),a=Ci(a,s,n,r,e[15],16,530742520),n=Ti(n,r=Ci(r,a,s,n,e[2],23,-995338651),a,s,e[0],6,-198630844),s=Ti(s,n,r,a,e[7],10,1126891415),a=Ti(a,s,n,r,e[14],15,-1416354905),r=Ti(r,a,s,n,e[5],21,-57434055),n=Ti(n,r,a,s,e[12],6,1700485571),s=Ti(s,n,r,a,e[3],10,-1894986606),a=Ti(a,s,n,r,e[10],15,-1051523),r=Ti(r,a,s,n,e[1],21,-2054922799),n=Ti(n,r,a,s,e[8],6,1873313359),s=Ti(s,n,r,a,e[15],10,-30611744),a=Ti(a,s,n,r,e[6],15,-1560198380),r=Ti(r,a,s,n,e[13],21,1309151649),n=Ti(n,r,a,s,e[4],6,-145523070),s=Ti(s,n,r,a,e[11],10,-1120210379),a=Ti(a,s,n,r,e[2],15,718787259),r=Ti(r,a,s,n,e[9],21,-343485551),t[0]=rc(n,t[0]),t[1]=rc(r,t[1]),t[2]=rc(a,t[2]),t[3]=rc(s,t[3])}function l0(t,e,n,r,a,s){return e=rc(rc(e,t),rc(r,s)),rc(e<<a|e>>>32-a,n)}function Ni(t,e,n,r,a,s,l){return l0(e&n|~e&r,t,e,a,s,l)}function Ei(t,e,n,r,a,s,l){return l0(e&r|n&~r,t,e,a,s,l)}function Ci(t,e,n,r,a,s,l){return l0(e^n^r,t,e,a,s,l)}function Ti(t,e,n,r,a,s,l){return l0(n^(e|~r),t,e,a,s,l)}function EN(t){var e,n=t.length,r=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)z1(r,DF(t.substring(e-64,e)));t=t.substring(e-64);var a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)a[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(a[e>>2]|=128<<(e%4<<3),e>55)for(z1(r,a),e=0;e<16;e++)a[e]=0;return a[14]=8*n,z1(r,a),r}function DF(t){var e,n=[];for(e=0;e<64;e+=4)n[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return n}var n4="0123456789abcdef".split("");function PF(t){for(var e="",n=0;n<4;n++)e+=n4[t>>8*n+4&15]+n4[t>>8*n&15];return e}function MF(t){return String.fromCharCode(255&t,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function zv(t){return EN(t).map(MF).join("")}var BF=(function(t){for(var e=0;e<t.length;e++)t[e]=PF(t[e]);return t.join("")})(EN("hello"))!="5d41402abc4b2a76b9719d911017c592";function rc(t,e){if(BF){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}return t+e&4294967295}function qv(t,e){var n,r,a,s;if(t!==n){for(var l=(a=t,s=1+(256/t.length|0),new Array(s+1).join(a)),u=[],d=0;d<256;d++)u[d]=d;var f=0;for(d=0;d<256;d++){var p=u[d];f=(f+p+l.charCodeAt(d))%256,u[d]=u[f],u[f]=p}n=t,r=u}else u=r;var g=e.length,y=0,v=0,N="";for(d=0;d<g;d++)v=(v+(p=u[y=(y+1)%256]))%256,u[y]=u[v],u[v]=p,l=u[(u[y]+u[v])%256],N+=String.fromCharCode(e.charCodeAt(d)^l);return N}var r4={print:4,modify:8,copy:16,"annot-forms":32};function _d(t,e,n,r){this.v=1,this.r=2;var a=192;t.forEach(function(u){if(r4.perm!==void 0)throw new Error("Invalid permission: "+u);a+=r4[u]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var s=(e+this.padding).substr(0,32),l=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,l),this.P=-(1+(255^a)),this.encryptionKey=zv(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=qv(this.encryptionKey,this.padding)}function Sd(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",n=t.length,r=0;r<n;r++){var a=t.charCodeAt(r);e+=a<33||a===35||a===37||a===40||a===41||a===47||a===60||a===62||a===91||a===93||a===123||a===125||a>126?"#"+("0"+a.toString(16)).slice(-2):t[r]}return e}function i4(t){if(Ln(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(n,r,a){if(a=a||!1,typeof n!="string"||typeof r!="function"||typeof a!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(n)||(e[n]={});var s=Math.random().toString(35);return e[n][s]=[r,!!a],s},this.unsubscribe=function(n){for(var r in e)if(e[r][n])return delete e[r][n],Object.keys(e[r]).length===0&&delete e[r],!0;return!1},this.publish=function(n){if(e.hasOwnProperty(n)){var r=Array.prototype.slice.call(arguments,1),a=[];for(var s in e[n]){var l=e[n][s];try{l[0].apply(t,r)}catch(u){Vt.console&&zn.error("jsPDF PubSub Error",u.message,u)}l[1]&&a.push(s)}a.length&&a.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function Bm(t){if(!(this instanceof Bm))return new Bm(t);var e="opacity,stroke-opacity".split(",");for(var n in t)t.hasOwnProperty(n)&&e.indexOf(n)>=0&&(this[n]=t[n]);this.id="",this.objectNumber=-1}function CN(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function ru(t,e,n,r,a){if(!(this instanceof ru))return new ru(t,e,n,r,a);this.type=t==="axial"?2:3,this.coords=e,this.colors=n,CN.call(this,r,a)}function Nd(t,e,n,r,a){if(!(this instanceof Nd))return new Nd(t,e,n,r,a);this.boundingBox=t,this.xStep=e,this.yStep=n,this.stream="",this.cloneIndex=0,CN.call(this,r,a)}function Nt(t){var e,n=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],a=arguments[2],s=arguments[3],l=[],u=1,d=16,f="S",p=null;Ln(t=t||{})==="object"&&(n=t.orientation,r=t.unit||r,a=t.format||a,s=t.compress||t.compressPdf||s,(p=t.encryption||null)!==null&&(p.userPassword=p.userPassword||"",p.ownerPassword=p.ownerPassword||"",p.userPermissions=p.userPermissions||[]),u=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(d=t.floatPrecision),f=t.defaultPathOperation||"S"),l=t.filters||(s===!0?["FlateEncode"]:l),r=r||"mm",n=(""+(n||"P")).toLowerCase();var g=t.putOnlyUsedFonts||!1,y={},v={internal:{},__private__:{}};v.__private__.PubSub=i4;var N="1.3",C=v.__private__.getPdfVersion=function(){return N};v.__private__.setPdfVersion=function(S){N=S};var T={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};v.__private__.getPageFormats=function(){return T};var A=v.__private__.getPageFormat=function(S){return T[S]};a=a||"a4";var D="compat",M="advanced",B=D;function q(){this.saveGraphicsState(),ee(new Tt(ht,0,0,-ht,0,xs()*ht).toString()+" cm"),this.setFontSize(this.getFontSize()/ht),f="n",B=M}function V(){this.restoreGraphicsState(),f="S",B=D}var W=v.__private__.combineFontStyleAndFontWeight=function(S,F){if(S=="bold"&&F=="normal"||S=="bold"&&F==400||S=="normal"&&F=="italic"||S=="bold"&&F=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return F&&(S=F==400||F==="normal"?S==="italic"?"italic":"normal":F!=700&&F!=="bold"||S!=="normal"?(F==700?"bold":F)+""+S:"bold"),S};v.advancedAPI=function(S){var F=B===D;return F&&q.call(this),typeof S!="function"||(S(this),F&&V.call(this)),this},v.compatAPI=function(S){var F=B===M;return F&&V.call(this),typeof S!="function"||(S(this),F&&q.call(this)),this},v.isAdvancedAPI=function(){return B===M};var R,L=function(S){if(B!==M)throw new Error(S+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},$=v.roundToPrecision=v.__private__.roundToPrecision=function(S,F){var oe=e||F;if(isNaN(S)||isNaN(oe))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return S.toFixed(oe).replace(/0+$/,"")};R=v.hpf=v.__private__.hpf=typeof d=="number"?function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.hpf");return $(S,d)}:d==="smart"?function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.hpf");return $(S,S>-1&&S<1?16:5)}:function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.hpf");return $(S,16)};var k=v.f2=v.__private__.f2=function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.f2");return $(S,2)},I=v.__private__.f3=function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.f3");return $(S,3)},J=v.scale=v.__private__.scale=function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.scale");return B===D?S*ht:B===M?S:void 0},ne=function(S){return J((function(F){return B===D?xs()-F:B===M?F:void 0})(S))};v.__private__.setPrecision=v.setPrecision=function(S){typeof parseInt(S,10)=="number"&&(e=parseInt(S,10))};var we,re="00000000000000000000000000000000",le=v.__private__.getFileId=function(){return re},ce=v.__private__.setFileId=function(S){return re=S!==void 0&&/^[a-fA-F0-9]{32}$/.test(S)?S.toUpperCase():re.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),p!==null&&(Nr=new _d(p.userPermissions,p.userPassword,p.ownerPassword,re)),re};v.setFileId=function(S){return ce(S),this},v.getFileId=function(){return le()};var me=v.__private__.convertDateToPDFDate=function(S){var F=S.getTimezoneOffset(),oe=F<0?"+":"-",pe=Math.floor(Math.abs(F/60)),_e=Math.abs(F%60),Ue=[oe,Z(pe),"'",Z(_e),"'"].join("");return["D:",S.getFullYear(),Z(S.getMonth()+1),Z(S.getDate()),Z(S.getHours()),Z(S.getMinutes()),Z(S.getSeconds()),Ue].join("")},Re=v.__private__.convertPDFDateToDate=function(S){var F=parseInt(S.substr(2,4),10),oe=parseInt(S.substr(6,2),10)-1,pe=parseInt(S.substr(8,2),10),_e=parseInt(S.substr(10,2),10),Ue=parseInt(S.substr(12,2),10),Xe=parseInt(S.substr(14,2),10);return new Date(F,oe,pe,_e,Ue,Xe,0)},Y=v.__private__.setCreationDate=function(S){var F;if(S===void 0&&(S=new Date),S instanceof Date)F=me(S);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(S))throw new Error("Invalid argument passed to jsPDF.setCreationDate");F=S}return we=F},P=v.__private__.getCreationDate=function(S){var F=we;return S==="jsDate"&&(F=Re(we)),F};v.setCreationDate=function(S){return Y(S),this},v.getCreationDate=function(S){return P(S)};var z,Z=v.__private__.padd2=function(S){return("0"+parseInt(S)).slice(-2)},se=v.__private__.padd2Hex=function(S){return("00"+(S=S.toString())).substr(S.length)},ue=0,he=[],ve=[],be=0,je=[],Oe=[],qe=!1,Qe=ve;v.__private__.setCustomOutputDestination=function(S){qe=!0,Qe=S};var nt=function(S){qe||(Qe=S)};v.__private__.resetCustomOutputDestination=function(){qe=!1,Qe=ve};var ee=v.__private__.out=function(S){return S=S.toString(),be+=S.length+1,Qe.push(S),Qe},$e=v.__private__.write=function(S){return ee(arguments.length===1?S.toString():Array.prototype.join.call(arguments," "))},St=v.__private__.getArrayBuffer=function(S){for(var F=S.length,oe=new ArrayBuffer(F),pe=new Uint8Array(oe);F--;)pe[F]=S.charCodeAt(F);return oe},tt=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];v.__private__.getStandardFonts=function(){return tt};var Me=t.fontSize||16;v.__private__.setFontSize=v.setFontSize=function(S){return Me=B===M?S/ht:S,this};var de,Ne=v.__private__.getFontSize=v.getFontSize=function(){return B===D?Me:Me*ht},Ke=t.R2L||!1;v.__private__.setR2L=v.setR2L=function(S){return Ke=S,this},v.__private__.getR2L=v.getR2L=function(){return Ke};var Ge,He=v.__private__.setZoomMode=function(S){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(S))de=S;else if(isNaN(S)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(S)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+S+'" is not recognized.');de=S}else de=parseInt(S,10)};v.__private__.getZoomMode=function(){return de};var Ie,Je=v.__private__.setPageMode=function(S){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(S)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+S+'" is not recognized.');Ge=S};v.__private__.getPageMode=function(){return Ge};var ot=v.__private__.setLayoutMode=function(S){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(S)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+S+'" is not recognized.');Ie=S};v.__private__.getLayoutMode=function(){return Ie},v.__private__.setDisplayMode=v.setDisplayMode=function(S,F,oe){return He(S),ot(F),Je(oe),this};var ct={title:"",subject:"",author:"",keywords:"",creator:""};v.__private__.getDocumentProperty=function(S){if(Object.keys(ct).indexOf(S)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return ct[S]},v.__private__.getDocumentProperties=function(){return ct},v.__private__.setDocumentProperties=v.setProperties=v.setDocumentProperties=function(S){for(var F in ct)ct.hasOwnProperty(F)&&S[F]&&(ct[F]=S[F]);return this},v.__private__.setDocumentProperty=function(S,F){if(Object.keys(ct).indexOf(S)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return ct[S]=F};var Ze,ht,it,Qt,kt,rt={},lt={},Dt=[],ft={},Zt={},_t={},Et={},Xt=null,Lt=0,pt=[],Ht=new i4(v),ki=t.hotfixes||[],Rr={},Ia={},$i=[],Tt=function S(F,oe,pe,_e,Ue,Xe){if(!(this instanceof S))return new S(F,oe,pe,_e,Ue,Xe);isNaN(F)&&(F=1),isNaN(oe)&&(oe=0),isNaN(pe)&&(pe=0),isNaN(_e)&&(_e=1),isNaN(Ue)&&(Ue=0),isNaN(Xe)&&(Xe=0),this._matrix=[F,oe,pe,_e,Ue,Xe]};Object.defineProperty(Tt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(S){this._matrix[0]=S}}),Object.defineProperty(Tt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(S){this._matrix[1]=S}}),Object.defineProperty(Tt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(S){this._matrix[2]=S}}),Object.defineProperty(Tt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(S){this._matrix[3]=S}}),Object.defineProperty(Tt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(S){this._matrix[4]=S}}),Object.defineProperty(Tt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(S){this._matrix[5]=S}}),Object.defineProperty(Tt.prototype,"a",{get:function(){return this._matrix[0]},set:function(S){this._matrix[0]=S}}),Object.defineProperty(Tt.prototype,"b",{get:function(){return this._matrix[1]},set:function(S){this._matrix[1]=S}}),Object.defineProperty(Tt.prototype,"c",{get:function(){return this._matrix[2]},set:function(S){this._matrix[2]=S}}),Object.defineProperty(Tt.prototype,"d",{get:function(){return this._matrix[3]},set:function(S){this._matrix[3]=S}}),Object.defineProperty(Tt.prototype,"e",{get:function(){return this._matrix[4]},set:function(S){this._matrix[4]=S}}),Object.defineProperty(Tt.prototype,"f",{get:function(){return this._matrix[5]},set:function(S){this._matrix[5]=S}}),Object.defineProperty(Tt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Tt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Tt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Tt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Tt.prototype.join=function(S){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(R).join(S)},Tt.prototype.multiply=function(S){var F=S.sx*this.sx+S.shy*this.shx,oe=S.sx*this.shy+S.shy*this.sy,pe=S.shx*this.sx+S.sy*this.shx,_e=S.shx*this.shy+S.sy*this.sy,Ue=S.tx*this.sx+S.ty*this.shx+this.tx,Xe=S.tx*this.shy+S.ty*this.sy+this.ty;return new Tt(F,oe,pe,_e,Ue,Xe)},Tt.prototype.decompose=function(){var S=this.sx,F=this.shy,oe=this.shx,pe=this.sy,_e=this.tx,Ue=this.ty,Xe=Math.sqrt(S*S+F*F),gt=(S/=Xe)*oe+(F/=Xe)*pe;oe-=S*gt,pe-=F*gt;var wt=Math.sqrt(oe*oe+pe*pe);return gt/=wt,S*(pe/=wt)<F*(oe/=wt)&&(S=-S,F=-F,gt=-gt,Xe=-Xe),{scale:new Tt(Xe,0,0,wt,0,0),translate:new Tt(1,0,0,1,_e,Ue),rotate:new Tt(S,F,-F,S,0,0),skew:new Tt(1,0,gt,1,0,0)}},Tt.prototype.toString=function(S){return this.join(" ")},Tt.prototype.inversed=function(){var S=this.sx,F=this.shy,oe=this.shx,pe=this.sy,_e=this.tx,Ue=this.ty,Xe=1/(S*pe-F*oe),gt=pe*Xe,wt=-F*Xe,It=-oe*Xe,$t=S*Xe;return new Tt(gt,wt,It,$t,-gt*_e-It*Ue,-wt*_e-$t*Ue)},Tt.prototype.applyToPoint=function(S){var F=S.x*this.sx+S.y*this.shx+this.tx,oe=S.x*this.shy+S.y*this.sy+this.ty;return new Yi(F,oe)},Tt.prototype.applyToRectangle=function(S){var F=this.applyToPoint(S),oe=this.applyToPoint(new Yi(S.x+S.w,S.y+S.h));return new gs(F.x,F.y,oe.x-F.x,oe.y-F.y)},Tt.prototype.clone=function(){var S=this.sx,F=this.shy,oe=this.shx,pe=this.sy,_e=this.tx,Ue=this.ty;return new Tt(S,F,oe,pe,_e,Ue)},v.Matrix=Tt;var fs=v.matrixMult=function(S,F){return F.multiply(S)},Fa=new Tt(1,0,0,1,0,0);v.unitMatrix=v.identityMatrix=Fa;var Li=function(S,F){if(!Zt[S]){var oe=(F instanceof ru?"Sh":"P")+(Object.keys(ft).length+1).toString(10);F.id=oe,Zt[S]=oe,ft[oe]=F,Ht.publish("addPattern",F)}};v.ShadingPattern=ru,v.TilingPattern=Nd,v.addShadingPattern=function(S,F){return L("addShadingPattern()"),Li(S,F),this},v.beginTilingPattern=function(S){L("beginTilingPattern()"),Do(S.boundingBox[0],S.boundingBox[1],S.boundingBox[2]-S.boundingBox[0],S.boundingBox[3]-S.boundingBox[1],S.matrix)},v.endTilingPattern=function(S,F){L("endTilingPattern()"),F.stream=Oe[z].join(`
`),Li(S,F),Ht.publish("endTilingPattern",F),$i.pop().restore()};var Ri,qn=v.__private__.newObject=function(){var S=fr();return Or(S,!0),S},fr=v.__private__.newObjectDeferred=function(){return ue++,he[ue]=function(){return be},ue},Or=function(S,F){return F=typeof F=="boolean"&&F,he[S]=be,F&&ee(S+" 0 obj"),S},Js=v.__private__.newAdditionalObject=function(){var S={objId:fr(),content:""};return je.push(S),S},li=fr(),En=fr(),Hn=v.__private__.decodeColorString=function(S){var F=S.split(" ");if(F.length!==2||F[1]!=="g"&&F[1]!=="G")F.length!==5||F[4]!=="k"&&F[4]!=="K"||(F=[(1-F[0])*(1-F[3]),(1-F[1])*(1-F[3]),(1-F[2])*(1-F[3]),"r"]);else{var oe=parseFloat(F[0]);F=[oe,oe,oe,"r"]}for(var pe="#",_e=0;_e<3;_e++)pe+=("0"+Math.floor(255*parseFloat(F[_e])).toString(16)).slice(-2);return pe},Qr=v.__private__.encodeColorString=function(S){var F;typeof S=="string"&&(S={ch1:S});var oe=S.ch1,pe=S.ch2,_e=S.ch3,Ue=S.ch4,Xe=S.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof oe=="string"&&oe.charAt(0)!=="#"){var gt=new NN(oe);if(gt.ok)oe=gt.toHex();else if(!/^\d*\.?\d*$/.test(oe))throw new Error('Invalid color "'+oe+'" passed to jsPDF.encodeColorString.')}if(typeof oe=="string"&&/^#[0-9A-Fa-f]{3}$/.test(oe)&&(oe="#"+oe[1]+oe[1]+oe[2]+oe[2]+oe[3]+oe[3]),typeof oe=="string"&&/^#[0-9A-Fa-f]{6}$/.test(oe)){var wt=parseInt(oe.substr(1),16);oe=wt>>16&255,pe=wt>>8&255,_e=255&wt}if(pe===void 0||Ue===void 0&&oe===pe&&pe===_e)F=typeof oe=="string"?oe+" "+Xe[0]:S.precision===2?k(oe/255)+" "+Xe[0]:I(oe/255)+" "+Xe[0];else if(Ue===void 0||Ln(Ue)==="object"){if(Ue&&!isNaN(Ue.a)&&Ue.a===0)return["1.","1.","1.",Xe[1]].join(" ");F=typeof oe=="string"?[oe,pe,_e,Xe[1]].join(" "):S.precision===2?[k(oe/255),k(pe/255),k(_e/255),Xe[1]].join(" "):[I(oe/255),I(pe/255),I(_e/255),Xe[1]].join(" ")}else F=typeof oe=="string"?[oe,pe,_e,Ue,Xe[2]].join(" "):S.precision===2?[k(oe),k(pe),k(_e),k(Ue),Xe[2]].join(" "):[I(oe),I(pe),I(_e),I(Ue),Xe[2]].join(" ");return F},Oi=v.__private__.getFilters=function(){return l},Gi=v.__private__.putStream=function(S){var F=(S=S||{}).data||"",oe=S.filters||Oi(),pe=S.alreadyAppliedFilters||[],_e=S.addLength1||!1,Ue=F.length,Xe=S.objectId,gt=function(Er){return Er};if(p!==null&&Xe===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");p!==null&&(gt=Nr.encryptor(Xe,0));var wt={};oe===!0&&(oe=["FlateEncode"]);var It=S.additionalKeyValues||[],$t=(wt=Nt.API.processDataByFilters!==void 0?Nt.API.processDataByFilters(F,oe):{data:F,reverseChain:[]}).reverseChain+(Array.isArray(pe)?pe.join(" "):pe.toString());if(wt.data.length!==0&&(It.push({key:"Length",value:wt.data.length}),_e===!0&&It.push({key:"Length1",value:Ue})),$t.length!=0)if($t.split("/").length-1==1)It.push({key:"Filter",value:$t});else{It.push({key:"Filter",value:"["+$t+"]"});for(var un=0;un<It.length;un+=1)if(It[un].key==="DecodeParms"){for(var $n=[],ar=0;ar<wt.reverseChain.split("/").length-1;ar+=1)$n.push("null");$n.push(It[un].value),It[un].value="["+$n.join(" ")+"]"}}ee("<<");for(var Rn=0;Rn<It.length;Rn++)ee("/"+It[Rn].key+" "+It[Rn].value);ee(">>"),wt.data.length!==0&&(ee("stream"),ee(gt(wt.data)),ee("endstream"))},To=v.__private__.putPage=function(S){var F=S.number,oe=S.data,pe=S.objId,_e=S.contentsObjId;Or(pe,!0),ee("<</Type /Page"),ee("/Parent "+S.rootDictionaryObjId+" 0 R"),ee("/Resources "+S.resourceDictionaryObjId+" 0 R"),ee("/MediaBox ["+parseFloat(R(S.mediaBox.bottomLeftX))+" "+parseFloat(R(S.mediaBox.bottomLeftY))+" "+R(S.mediaBox.topRightX)+" "+R(S.mediaBox.topRightY)+"]"),S.cropBox!==null&&ee("/CropBox ["+R(S.cropBox.bottomLeftX)+" "+R(S.cropBox.bottomLeftY)+" "+R(S.cropBox.topRightX)+" "+R(S.cropBox.topRightY)+"]"),S.bleedBox!==null&&ee("/BleedBox ["+R(S.bleedBox.bottomLeftX)+" "+R(S.bleedBox.bottomLeftY)+" "+R(S.bleedBox.topRightX)+" "+R(S.bleedBox.topRightY)+"]"),S.trimBox!==null&&ee("/TrimBox ["+R(S.trimBox.bottomLeftX)+" "+R(S.trimBox.bottomLeftY)+" "+R(S.trimBox.topRightX)+" "+R(S.trimBox.topRightY)+"]"),S.artBox!==null&&ee("/ArtBox ["+R(S.artBox.bottomLeftX)+" "+R(S.artBox.bottomLeftY)+" "+R(S.artBox.topRightX)+" "+R(S.artBox.topRightY)+"]"),typeof S.userUnit=="number"&&S.userUnit!==1&&ee("/UserUnit "+S.userUnit),Ht.publish("putPage",{objId:pe,pageContext:pt[F],pageNumber:F,page:oe}),ee("/Contents "+_e+" 0 R"),ee(">>"),ee("endobj");var Ue=oe.join(`
`);return B===M&&(Ue+=`
Q`),Or(_e,!0),Gi({data:Ue,filters:Oi(),objectId:_e}),ee("endobj"),pe},fa=v.__private__.putPages=function(){var S,F,oe=[];for(S=1;S<=Lt;S++)pt[S].objId=fr(),pt[S].contentsObjId=fr();for(S=1;S<=Lt;S++)oe.push(To({number:S,data:Oe[S],objId:pt[S].objId,contentsObjId:pt[S].contentsObjId,mediaBox:pt[S].mediaBox,cropBox:pt[S].cropBox,bleedBox:pt[S].bleedBox,trimBox:pt[S].trimBox,artBox:pt[S].artBox,userUnit:pt[S].userUnit,rootDictionaryObjId:li,resourceDictionaryObjId:En}));Or(li,!0),ee("<</Type /Pages");var pe="/Kids [";for(F=0;F<Lt;F++)pe+=oe[F]+" 0 R ";ee(pe+"]"),ee("/Count "+Lt),ee(">>"),ee("endobj"),Ht.publish("postPutPages")},ha=function(S){Ht.publish("putFont",{font:S,out:ee,newObject:qn,putStream:Gi}),S.isAlreadyPutted!==!0&&(S.objectNumber=qn(),ee("<<"),ee("/Type /Font"),ee("/BaseFont /"+Sd(S.postScriptName)),ee("/Subtype /Type1"),typeof S.encoding=="string"&&ee("/Encoding /"+S.encoding),ee("/FirstChar 32"),ee("/LastChar 255"),ee(">>"),ee("endobj"))},Qs=function(S){S.objectNumber=qn();var F=[];F.push({key:"Type",value:"/XObject"}),F.push({key:"Subtype",value:"/Form"}),F.push({key:"BBox",value:"["+[R(S.x),R(S.y),R(S.x+S.width),R(S.y+S.height)].join(" ")+"]"}),F.push({key:"Matrix",value:"["+S.matrix.toString()+"]"});var oe=S.pages[1].join(`
`);Gi({data:oe,additionalKeyValues:F,objectId:S.objectNumber}),ee("endobj")},pa=function(S,F){F||(F=21);var oe=qn(),pe=(function(Xe,gt){var wt,It=[],$t=1/(gt-1);for(wt=0;wt<1;wt+=$t)It.push(wt);if(It.push(1),Xe[0].offset!=0){var un={offset:0,color:Xe[0].color};Xe.unshift(un)}if(Xe[Xe.length-1].offset!=1){var $n={offset:1,color:Xe[Xe.length-1].color};Xe.push($n)}for(var ar="",Rn=0,Er=0;Er<It.length;Er++){for(wt=It[Er];wt>Xe[Rn+1].offset;)Rn++;var pr=Xe[Rn].offset,qr=(wt-pr)/(Xe[Rn+1].offset-pr),_s=Xe[Rn].color,wa=Xe[Rn+1].color;ar+=se(Math.round((1-qr)*_s[0]+qr*wa[0]).toString(16))+se(Math.round((1-qr)*_s[1]+qr*wa[1]).toString(16))+se(Math.round((1-qr)*_s[2]+qr*wa[2]).toString(16))}return ar.trim()})(S.colors,F),_e=[];_e.push({key:"FunctionType",value:"0"}),_e.push({key:"Domain",value:"[0.0 1.0]"}),_e.push({key:"Size",value:"["+F+"]"}),_e.push({key:"BitsPerSample",value:"8"}),_e.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),_e.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Gi({data:pe,additionalKeyValues:_e,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:oe}),ee("endobj"),S.objectNumber=qn(),ee("<< /ShadingType "+S.type),ee("/ColorSpace /DeviceRGB");var Ue="/Coords ["+R(parseFloat(S.coords[0]))+" "+R(parseFloat(S.coords[1]))+" ";S.type===2?Ue+=R(parseFloat(S.coords[2]))+" "+R(parseFloat(S.coords[3])):Ue+=R(parseFloat(S.coords[2]))+" "+R(parseFloat(S.coords[3]))+" "+R(parseFloat(S.coords[4]))+" "+R(parseFloat(S.coords[5])),ee(Ue+="]"),S.matrix&&ee("/Matrix ["+S.matrix.toString()+"]"),ee("/Function "+oe+" 0 R"),ee("/Extend [true true]"),ee(">>"),ee("endobj")},ma=function(S,F){var oe=fr(),pe=qn();F.push({resourcesOid:oe,objectOid:pe}),S.objectNumber=pe;var _e=[];_e.push({key:"Type",value:"/Pattern"}),_e.push({key:"PatternType",value:"1"}),_e.push({key:"PaintType",value:"1"}),_e.push({key:"TilingType",value:"1"}),_e.push({key:"BBox",value:"["+S.boundingBox.map(R).join(" ")+"]"}),_e.push({key:"XStep",value:R(S.xStep)}),_e.push({key:"YStep",value:R(S.yStep)}),_e.push({key:"Resources",value:oe+" 0 R"}),S.matrix&&_e.push({key:"Matrix",value:"["+S.matrix.toString()+"]"}),Gi({data:S.stream,additionalKeyValues:_e,objectId:S.objectNumber}),ee("endobj")},jo=function(S){for(var F in S.objectNumber=qn(),ee("<<"),S)switch(F){case"opacity":ee("/ca "+k(S[F]));break;case"stroke-opacity":ee("/CA "+k(S[F]))}ee(">>"),ee("endobj")},Ua=function(S){Or(S.resourcesOid,!0),ee("<<"),ee("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var F in ee("/Font <<"),rt)rt.hasOwnProperty(F)&&(g===!1||g===!0&&y.hasOwnProperty(F))&&ee("/"+F+" "+rt[F].objectNumber+" 0 R");ee(">>")})(),(function(){if(Object.keys(ft).length>0){for(var F in ee("/Shading <<"),ft)ft.hasOwnProperty(F)&&ft[F]instanceof ru&&ft[F].objectNumber>=0&&ee("/"+F+" "+ft[F].objectNumber+" 0 R");Ht.publish("putShadingPatternDict"),ee(">>")}})(),(function(F){if(Object.keys(ft).length>0){for(var oe in ee("/Pattern <<"),ft)ft.hasOwnProperty(oe)&&ft[oe]instanceof v.TilingPattern&&ft[oe].objectNumber>=0&&ft[oe].objectNumber<F&&ee("/"+oe+" "+ft[oe].objectNumber+" 0 R");Ht.publish("putTilingPatternDict"),ee(">>")}})(S.objectOid),(function(){if(Object.keys(_t).length>0){var F;for(F in ee("/ExtGState <<"),_t)_t.hasOwnProperty(F)&&_t[F].objectNumber>=0&&ee("/"+F+" "+_t[F].objectNumber+" 0 R");Ht.publish("putGStateDict"),ee(">>")}})(),(function(){for(var F in ee("/XObject <<"),Rr)Rr.hasOwnProperty(F)&&Rr[F].objectNumber>=0&&ee("/"+F+" "+Rr[F].objectNumber+" 0 R");Ht.publish("putXobjectDict"),ee(">>")})(),ee(">>"),ee("endobj")},ir=function(S){lt[S.fontName]=lt[S.fontName]||{},lt[S.fontName][S.fontStyle]=S.id},hc=function(S,F,oe,pe,_e){var Ue={id:"F"+(Object.keys(rt).length+1).toString(10),postScriptName:S,fontName:F,fontStyle:oe,encoding:pe,isStandardFont:_e||!1,metadata:{}};return Ht.publish("addFont",{font:Ue,instance:this}),rt[Ue.id]=Ue,ir(Ue),Ue.id},Di=v.__private__.pdfEscape=v.pdfEscape=function(S,F){return(function(oe,pe){var _e,Ue,Xe,gt,wt,It,$t,un,$n;if(Xe=(pe=pe||{}).sourceEncoding||"Unicode",wt=pe.outputEncoding,(pe.autoencode||wt)&&rt[Ze].metadata&&rt[Ze].metadata[Xe]&&rt[Ze].metadata[Xe].encoding&&(gt=rt[Ze].metadata[Xe].encoding,!wt&&rt[Ze].encoding&&(wt=rt[Ze].encoding),!wt&&gt.codePages&&(wt=gt.codePages[0]),typeof wt=="string"&&(wt=gt[wt]),wt)){for($t=!1,It=[],_e=0,Ue=oe.length;_e<Ue;_e++)(un=wt[oe.charCodeAt(_e)])?It.push(String.fromCharCode(un)):It.push(oe[_e]),It[_e].charCodeAt(0)>>8&&($t=!0);oe=It.join("")}for(_e=oe.length;$t===void 0&&_e!==0;)oe.charCodeAt(_e-1)>>8&&($t=!0),_e--;if(!$t)return oe;for(It=pe.noBOM?[]:[254,255],_e=0,Ue=oe.length;_e<Ue;_e++){if(($n=(un=oe.charCodeAt(_e))>>8)>>8)throw new Error("Character at position "+_e+" of string '"+oe+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");It.push($n),It.push(un-($n<<8))}return String.fromCharCode.apply(void 0,It)})(S,F).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},ga=v.__private__.beginPage=function(S){Oe[++Lt]=[],pt[Lt]={objId:0,contentsObjId:0,userUnit:Number(u),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(S[0]),topRightY:Number(S[1])}},mc(Lt),nt(Oe[z])},hs=function(S,F){var oe,pe,_e;switch(n=F||n,typeof S=="string"&&(oe=A(S.toLowerCase()),Array.isArray(oe)&&(pe=oe[0],_e=oe[1])),Array.isArray(S)&&(pe=S[0]*ht,_e=S[1]*ht),isNaN(pe)&&(pe=a[0],_e=a[1]),(pe>14400||_e>14400)&&(zn.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),pe=Math.min(14400,pe),_e=Math.min(14400,_e)),a=[pe,_e],n.substr(0,1)){case"l":_e>pe&&(a=[_e,pe]);break;case"p":pe>_e&&(a=[_e,pe])}ga(a),Pt(Lo),ee(Bi),vl!==0&&ee(vl+" J"),Dr!==0&&ee(Dr+" j"),Ht.publish("addPage",{pageNumber:Lt})},pc=function(S){S>0&&S<=Lt&&(Oe.splice(S,1),pt.splice(S,1),Lt--,z>Lt&&(z=Lt),this.setPage(z))},mc=function(S){S>0&&S<=Lt&&(z=S)},gc=v.__private__.getNumberOfPages=v.getNumberOfPages=function(){return Oe.length-1},yu=function(S,F,oe){var pe,_e=void 0;return oe=oe||{},S=S!==void 0?S:rt[Ze].fontName,F=F!==void 0?F:rt[Ze].fontStyle,pe=S.toLowerCase(),lt[pe]!==void 0&&lt[pe][F]!==void 0?_e=lt[pe][F]:lt[S]!==void 0&&lt[S][F]!==void 0?_e=lt[S][F]:oe.disableWarning===!1&&zn.warn("Unable to look up font label for font '"+S+"', '"+F+"'. Refer to getFontList() for available fonts."),_e||oe.noFallback||(_e=lt.times[F])==null&&(_e=lt.times.normal),_e},Pi=v.__private__.putInfo=function(){var S=qn(),F=function(pe){return pe};for(var oe in p!==null&&(F=Nr.encryptor(S,0)),ee("<<"),ee("/Producer ("+Di(F("jsPDF "+Nt.version))+")"),ct)ct.hasOwnProperty(oe)&&ct[oe]&&ee("/"+oe.substr(0,1).toUpperCase()+oe.substr(1)+" ("+Di(F(ct[oe]))+")");ee("/CreationDate ("+Di(F(we))+")"),ee(">>"),ee("endobj")},ps=v.__private__.putCatalog=function(S){var F=(S=S||{}).rootDictionaryObjId||li;switch(qn(),ee("<<"),ee("/Type /Catalog"),ee("/Pages "+F+" 0 R"),de||(de="fullwidth"),de){case"fullwidth":ee("/OpenAction [3 0 R /FitH null]");break;case"fullheight":ee("/OpenAction [3 0 R /FitV null]");break;case"fullpage":ee("/OpenAction [3 0 R /Fit]");break;case"original":ee("/OpenAction [3 0 R /XYZ null null 1]");break;default:var oe=""+de;oe.substr(oe.length-1)==="%"&&(de=parseInt(de)/100),typeof de=="number"&&ee("/OpenAction [3 0 R /XYZ null null "+k(de)+"]")}switch(Ie||(Ie="continuous"),Ie){case"continuous":ee("/PageLayout /OneColumn");break;case"single":ee("/PageLayout /SinglePage");break;case"two":case"twoleft":ee("/PageLayout /TwoColumnLeft");break;case"tworight":ee("/PageLayout /TwoColumnRight")}Ge&&ee("/PageMode /"+Ge),Ht.publish("putCatalog"),ee(">>"),ee("endobj")},va=v.__private__.putTrailer=function(){ee("trailer"),ee("<<"),ee("/Size "+(ue+1)),ee("/Root "+ue+" 0 R"),ee("/Info "+(ue-1)+" 0 R"),p!==null&&ee("/Encrypt "+Nr.oid+" 0 R"),ee("/ID [ <"+re+"> <"+re+"> ]"),ee(">>")},vn=v.__private__.putHeader=function(){ee("%PDF-"+N),ee("%")},vc=v.__private__.putXRef=function(){var S="0000000000";ee("xref"),ee("0 "+(ue+1)),ee("0000000000 65535 f ");for(var F=1;F<=ue;F++)typeof he[F]=="function"?ee((S+he[F]()).slice(-10)+" 00000 n "):he[F]!==void 0?ee((S+he[F]).slice(-10)+" 00000 n "):ee("0000000000 00000 n ")},za=v.__private__.buildDocument=function(){var S;ue=0,be=0,ve=[],he=[],je=[],li=fr(),En=fr(),nt(ve),Ht.publish("buildDocument"),vn(),fa(),(function(){Ht.publish("putAdditionalObjects");for(var oe=0;oe<je.length;oe++){var pe=je[oe];Or(pe.objId,!0),ee(pe.content),ee("endobj")}Ht.publish("postPutAdditionalObjects")})(),S=[],(function(){for(var oe in rt)rt.hasOwnProperty(oe)&&(g===!1||g===!0&&y.hasOwnProperty(oe))&&ha(rt[oe])})(),(function(){var oe;for(oe in _t)_t.hasOwnProperty(oe)&&jo(_t[oe])})(),(function(){for(var oe in Rr)Rr.hasOwnProperty(oe)&&Qs(Rr[oe])})(),(function(oe){var pe;for(pe in ft)ft.hasOwnProperty(pe)&&(ft[pe]instanceof ru?pa(ft[pe]):ft[pe]instanceof Nd&&ma(ft[pe],oe))})(S),Ht.publish("putResources"),S.forEach(Ua),Ua({resourcesOid:En,objectOid:Number.MAX_SAFE_INTEGER}),Ht.publish("postPutResources"),p!==null&&(Nr.oid=qn(),ee("<<"),ee("/Filter /Standard"),ee("/V "+Nr.v),ee("/R "+Nr.r),ee("/U <"+Nr.toHexString(Nr.U)+">"),ee("/O <"+Nr.toHexString(Nr.O)+">"),ee("/P "+Nr.P),ee(">>"),ee("endobj")),Pi(),ps();var F=be;return vc(),va(),ee("startxref"),ee(""+F),ee("%%EOF"),nt(Oe[z]),ve.join(`
`)},Zs=v.__private__.getBlob=function(S){return new Blob([St(S)],{type:"application/pdf"})},yc=v.output=v.__private__.output=(Ri=function(S,F){switch(typeof(F=F||{})=="string"?F={filename:F}:F.filename=F.filename||"generated.pdf",S){case void 0:return za();case"save":v.save(F.filename);break;case"arraybuffer":return St(za());case"blob":return Zs(za());case"bloburi":case"bloburl":if(Vt.URL!==void 0&&typeof Vt.URL.createObjectURL=="function")return Vt.URL&&Vt.URL.createObjectURL(Zs(za()))||void 0;zn.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var oe="",pe=za();try{oe=t4(pe)}catch{oe=t4(unescape(encodeURIComponent(pe)))}return"data:application/pdf;filename="+F.filename+";base64,"+oe;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Vt)==="[object Window]"){var _e="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Ue=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';F.pdfObjectUrl&&(_e=F.pdfObjectUrl,Ue="");var Xe='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+_e+'"'+Ue+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(F)+");<\/script></body></html>",gt=Vt.open();return gt!==null&&gt.document.write(Xe),gt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Vt)==="[object Window]"){var wt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(F.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+F.filename+'" width="500px" height="400px" /></body></html>',It=Vt.open();if(It!==null){It.document.write(wt);var $t=this;It.document.documentElement.querySelector("#pdfViewer").onload=function(){It.document.title=F.filename,It.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open($t.output("bloburl"))}}return It}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Vt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var un='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",F)+'"></iframe></body></html>',$n=Vt.open();if($n!==null&&($n.document.write(un),$n.document.title=F.filename),$n||typeof safari>"u")return $n;break;case"datauri":case"dataurl":return Vt.document.location.href=this.output("datauristring",F);default:return null}},Ri.foo=function(){try{return Ri.apply(this,arguments)}catch(oe){var S=oe.stack||"";~S.indexOf(" at ")&&(S=S.split(" at ")[1]);var F="Error in function "+S.split(`
`)[0].split("<")[0]+": "+oe.message;if(!Vt.console)throw new Error(F);Vt.console.error(F,oe),Vt.alert&&alert(F)}},Ri.foo.bar=Ri,Ri.foo),ci=function(S){return Array.isArray(ki)===!0&&ki.indexOf(S)>-1};switch(r){case"pt":ht=1;break;case"mm":ht=72/25.4;break;case"cm":ht=72/2.54;break;case"in":ht=72;break;case"px":ht=ci("px_scaling")==1?.75:96/72;break;case"pc":case"em":ht=12;break;case"ex":ht=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);ht=r}var Nr=null;Y(),ce();var hr=v.__private__.getPageInfo=v.getPageInfo=function(S){if(isNaN(S)||S%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:pt[S].objId,pageNumber:S,pageContext:pt[S]}},ml=v.__private__.getPageInfoByObjId=function(S){if(isNaN(S)||S%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var F in pt)if(pt[F].objId===S)break;return hr(F)},bu=v.__private__.getCurrentPageInfo=v.getCurrentPageInfo=function(){return{objId:pt[z].objId,pageNumber:z,pageContext:pt[z]}};v.addPage=function(){return hs.apply(this,arguments),this},v.setPage=function(){return mc.apply(this,arguments),nt.call(this,Oe[z]),this},v.insertPage=function(S){return this.addPage(),this.movePage(z,S),this},v.movePage=function(S,F){var oe,pe;if(S>F){oe=Oe[S],pe=pt[S];for(var _e=S;_e>F;_e--)Oe[_e]=Oe[_e-1],pt[_e]=pt[_e-1];Oe[F]=oe,pt[F]=pe,this.setPage(F)}else if(S<F){oe=Oe[S],pe=pt[S];for(var Ue=S;Ue<F;Ue++)Oe[Ue]=Oe[Ue+1],pt[Ue]=pt[Ue+1];Oe[F]=oe,pt[F]=pe,this.setPage(F)}return this},v.deletePage=function(){return pc.apply(this,arguments),this},v.__private__.text=v.text=function(S,F,oe,pe,_e){var Ue,Xe,gt,wt,It,$t,un,$n,ar,Rn=(pe=pe||{}).scope||this;if(typeof S=="number"&&typeof F=="number"&&(typeof oe=="string"||Array.isArray(oe))){var Er=oe;oe=F,F=S,S=Er}if(arguments[3]instanceof Tt==0?(gt=arguments[4],wt=arguments[5],Ln(un=arguments[3])==="object"&&un!==null||(typeof gt=="string"&&(wt=gt,gt=null),typeof un=="string"&&(wt=un,un=null),typeof un=="number"&&(gt=un,un=null),pe={flags:un,angle:gt,align:wt})):(L("The transform parameter of text() with a Matrix value"),ar=_e),isNaN(F)||isNaN(oe)||S==null)throw new Error("Invalid arguments passed to jsPDF.text");if(S.length===0)return Rn;var pr,qr="",_s=typeof pe.lineHeightFactor=="number"?pe.lineHeightFactor:ms,wa=Rn.internal.scaleFactor;function Ss(yn){return yn=yn.split("	").join(Array(pe.TabLen||9).join(" ")),Di(yn,un)}function Cc(yn){for(var dn,On=yn.concat(),or=[],Ja=On.length;Ja--;)typeof(dn=On.shift())=="string"?or.push(dn):Array.isArray(yn)&&(dn.length===1||dn[1]===void 0&&dn[2]===void 0)?or.push(dn[0]):or.push([dn[0],dn[1],dn[2]]);return or}function bl(yn,dn){var On;if(typeof yn=="string")On=dn(yn)[0];else if(Array.isArray(yn)){for(var or,Ja,Aa=yn.concat(),Io=[],kc=Aa.length;kc--;)typeof(or=Aa.shift())=="string"?Io.push(dn(or)[0]):Array.isArray(or)&&typeof or[0]=="string"&&(Ja=dn(or[0],or[1],or[2]),Io.push([Ja[0],Ja[1],Ja[2]]));On=Io}return On}var Ha=!1,xa=!0;if(typeof S=="string")Ha=!0;else if(Array.isArray(S)){var Mo=S.concat();Xe=[];for(var As,Pr=Mo.length;Pr--;)(typeof(As=Mo.shift())!="string"||Array.isArray(As)&&typeof As[0]!="string")&&(xa=!1);Ha=xa}if(Ha===!1)throw new Error('Type of text must be string or Array. "'+S+'" is not recognized.');typeof S=="string"&&(S=S.match(/[\r?\n]/)?S.split(/\r\n|\r|\n/g):[S]);var to=Me/Rn.internal.scaleFactor,no=to*(_s-1);switch(pe.baseline){case"bottom":oe-=no;break;case"top":oe+=to-no;break;case"hanging":oe+=to-2*no;break;case"middle":oe+=to/2-no}if(($t=pe.maxWidth||0)>0&&(typeof S=="string"?S=Rn.splitTextToSize(S,$t):Object.prototype.toString.call(S)==="[object Array]"&&(S=S.reduce(function(yn,dn){return yn.concat(Rn.splitTextToSize(dn,$t))},[]))),Ue={text:S,x:F,y:oe,options:pe,mutex:{pdfEscape:Di,activeFontKey:Ze,fonts:rt,activeFontSize:Me}},Ht.publish("preProcessText",Ue),S=Ue.text,gt=(pe=Ue.options).angle,ar instanceof Tt==0&&gt&&typeof gt=="number"){gt*=Math.PI/180,pe.rotationDirection===0&&(gt=-gt),B===M&&(gt=-gt);var wl=Math.cos(gt),$a=Math.sin(gt);ar=new Tt(wl,$a,-$a,wl,0,0)}else gt&&gt instanceof Tt&&(ar=gt);B!==M||ar||(ar=Fa),(It=pe.charSpace||Wi)!==void 0&&(qr+=R(J(It))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),($n=pe.horizontalScale)!==void 0&&(qr+=R(100*$n)+` Tz
`),pe.lang;var di=-1,Ns=pe.renderingMode!==void 0?pe.renderingMode:pe.stroke,xl=Rn.internal.getCurrentPageInfo().pageContext;switch(Ns){case 0:case!1:case"fill":di=0;break;case 1:case!0:case"stroke":di=1;break;case 2:case"fillThenStroke":di=2;break;case 3:case"invisible":di=3;break;case 4:case"fillAndAddForClipping":di=4;break;case 5:case"strokeAndAddPathForClipping":di=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":di=6;break;case 7:case"addToPathForClipping":di=7}var Tc=xl.usedRenderingMode!==void 0?xl.usedRenderingMode:-1;di!==-1?qr+=di+` Tr
`:Tc!==-1&&(qr+=`0 Tr
`),di!==-1&&(xl.usedRenderingMode=di),wt=pe.align||"left";var Ii,_a=Me*_s,Es=Rn.internal.pageSize.getWidth(),jc=rt[Ze];It=pe.charSpace||Wi,$t=pe.maxWidth||0,un=Object.assign({autoencode:!0,noBOM:!0},pe.flags);var Sa=[],ro=function(yn){return Rn.getStringUnitWidth(yn,{font:jc,charSpace:It,fontSize:Me,doKerning:!1})*Me/wa};if(Object.prototype.toString.call(S)==="[object Array]"){var _i;Xe=Cc(S),wt!=="left"&&(Ii=Xe.map(ro));var fi,Ga=0;if(wt==="right"){F-=Ii[0],S=[],Pr=Xe.length;for(var Wa=0;Wa<Pr;Wa++)Wa===0?(fi=Mi(F),_i=zr(oe)):(fi=J(Ga-Ii[Wa]),_i=-_a),S.push([Xe[Wa],fi,_i]),Ga=Ii[Wa]}else if(wt==="center"){F-=Ii[0]/2,S=[],Pr=Xe.length;for(var Cs=0;Cs<Pr;Cs++)Cs===0?(fi=Mi(F),_i=zr(oe)):(fi=J((Ga-Ii[Cs])/2),_i=-_a),S.push([Xe[Cs],fi,_i]),Ga=Ii[Cs]}else if(wt==="left"){S=[],Pr=Xe.length;for(var _l=0;_l<Pr;_l++)S.push(Xe[_l])}else if(wt==="justify"&&jc.encoding==="Identity-H"){S=[],Pr=Xe.length,$t=$t!==0?$t:Es;for(var Sl=0,sr=0;sr<Pr;sr++)if(_i=sr===0?zr(oe):-_a,fi=sr===0?Mi(F):Sl,sr<Pr-1){var Tu=J(($t-Ii[sr])/(Xe[sr].split(" ").length-1)),Ya=Xe[sr].split(" ");S.push([Ya[0]+" ",fi,_i]),Sl=0;for(var Ka=1;Ka<Ya.length;Ka++){var Vr=(ro(Ya[Ka-1]+" "+Ya[Ka])-ro(Ya[Ka]))*wa+Tu;Ka==Ya.length-1?S.push([Ya[Ka],Vr,0]):S.push([Ya[Ka]+" ",Vr,0]),Sl-=Vr}}else S.push([Xe[sr],fi,_i]);S.push(["",Sl,0])}else{if(wt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(S=[],Pr=Xe.length,$t=$t!==0?$t:Es,sr=0;sr<Pr;sr++){_i=sr===0?zr(oe):-_a,fi=sr===0?Mi(F):0;var Ts=Xe[sr].split(" ").length-1,Al=Ts>0?($t-Ii[sr])/Ts:0;sr<Pr-1?Sa.push(R(J(Al))):Sa.push(0),S.push([Xe[sr],fi,_i])}}}(typeof pe.R2L=="boolean"?pe.R2L:Ke)===!0&&(S=bl(S,function(yn,dn,On){return[yn.split("").reverse().join(""),dn,On]})),Ue={text:S,x:F,y:oe,options:pe,mutex:{pdfEscape:Di,activeFontKey:Ze,fonts:rt,activeFontSize:Me}},Ht.publish("postProcessText",Ue),S=Ue.text,pr=Ue.mutex.isHex||!1;var Nl=rt[Ze].encoding;Nl!=="WinAnsiEncoding"&&Nl!=="StandardEncoding"||(S=bl(S,function(yn,dn,On){return[Ss(yn),dn,On]})),Xe=Cc(S),S=[];for(var js,ks,Xa,Bo=Array.isArray(Xe[0])?1:0,Fi="",Ls=function(yn,dn,On){var or="";return On instanceof Tt?(On=typeof pe.angle=="number"?fs(On,new Tt(1,0,0,1,yn,dn)):fs(new Tt(1,0,0,1,yn,dn),On),B===M&&(On=fs(new Tt(1,0,0,-1,0,0),On)),or=On.join(" ")+` Tm
`):or=R(yn)+" "+R(dn)+` Td
`,or},Zr=0;Zr<Xe.length;Zr++){switch(Fi="",Bo){case 1:Xa=(pr?"<":"(")+Xe[Zr][0]+(pr?">":")"),js=parseFloat(Xe[Zr][1]),ks=parseFloat(Xe[Zr][2]);break;case 0:Xa=(pr?"<":"(")+Xe[Zr]+(pr?">":")"),js=Mi(F),ks=zr(oe)}Sa!==void 0&&Sa[Zr]!==void 0&&(Fi=Sa[Zr]+` Tw
`),Zr===0?S.push(Fi+Ls(js,ks,ar)+Xa):Bo===0?S.push(Fi+Xa):Bo===1&&S.push(Fi+Ls(js,ks,ar)+Xa)}S=Bo===0?S.join(` Tj
T* `):S.join(` Tj
`),S+=` Tj
`;var Ki=`BT
/`;return Ki+=Ze+" "+Me+` Tf
`,Ki+=R(Me*_s)+` TL
`,Ki+=qa+`
`,Ki+=qr,Ki+=S,ee(Ki+="ET"),y[Ze]=!0,Rn};var bc=v.__private__.clip=v.clip=function(S){return ee(S==="evenodd"?"W*":"W"),this};v.clipEvenOdd=function(){return bc("evenodd")},v.__private__.discardPath=v.discardPath=function(){return ee("n"),this};var ui=v.__private__.isValidStyle=function(S){var F=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(S)!==-1&&(F=!0),F};v.__private__.setDefaultPathOperation=v.setDefaultPathOperation=function(S){return ui(S)&&(f=S),this};var wc=v.__private__.getStyle=v.getStyle=function(S){var F=f;switch(S){case"D":case"S":F="S";break;case"F":F="f";break;case"FD":case"DF":F="B";break;case"f":case"f*":case"B":case"B*":F=S}return F},xc=v.close=function(){return ee("h"),this};v.stroke=function(){return ee("S"),this},v.fill=function(S){return ya("f",S),this},v.fillEvenOdd=function(S){return ya("f*",S),this},v.fillStroke=function(S){return ya("B",S),this},v.fillStrokeEvenOdd=function(S){return ya("B*",S),this};var ya=function(S,F){Ln(F)==="object"?xu(F,S):ee(S)},ko=function(S){S===null||B===M&&S===void 0||(S=wc(S),ee(S))};function wu(S,F,oe,pe,_e){var Ue=new Nd(F||this.boundingBox,oe||this.xStep,pe||this.yStep,this.gState,_e||this.matrix);Ue.stream=this.stream;var Xe=S+"$$"+this.cloneIndex+++"$$";return Li(Xe,Ue),Ue}var xu=function(S,F){var oe=Zt[S.key],pe=ft[oe];if(pe instanceof ru)ee("q"),ee(_c(F)),pe.gState&&v.setGState(pe.gState),ee(S.matrix.toString()+" cm"),ee("/"+oe+" sh"),ee("Q");else if(pe instanceof Nd){var _e=new Tt(1,0,0,-1,0,xs());S.matrix&&(_e=_e.multiply(S.matrix||Fa),oe=wu.call(pe,S.key,S.boundingBox,S.xStep,S.yStep,_e).id),ee("q"),ee("/Pattern cs"),ee("/"+oe+" scn"),pe.gState&&v.setGState(pe.gState),ee(F),ee("Q")}},_c=function(S){switch(S){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Sc=v.moveTo=function(S,F){return ee(R(J(S))+" "+R(ne(F))+" m"),this},_u=v.lineTo=function(S,F){return ee(R(J(S))+" "+R(ne(F))+" l"),this},xi=v.curveTo=function(S,F,oe,pe,_e,Ue){return ee([R(J(S)),R(ne(F)),R(J(oe)),R(ne(pe)),R(J(_e)),R(ne(Ue)),"c"].join(" ")),this};v.__private__.line=v.line=function(S,F,oe,pe,_e){if(isNaN(S)||isNaN(F)||isNaN(oe)||isNaN(pe)||!ui(_e))throw new Error("Invalid arguments passed to jsPDF.line");return B===D?this.lines([[oe-S,pe-F]],S,F,[1,1],_e||"S"):this.lines([[oe-S,pe-F]],S,F,[1,1]).stroke()},v.__private__.lines=v.lines=function(S,F,oe,pe,_e,Ue){var Xe,gt,wt,It,$t,un,$n,ar,Rn,Er,pr,qr;if(typeof S=="number"&&(qr=oe,oe=F,F=S,S=qr),pe=pe||[1,1],Ue=Ue||!1,isNaN(F)||isNaN(oe)||!Array.isArray(S)||!Array.isArray(pe)||!ui(_e)||typeof Ue!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Sc(F,oe),Xe=pe[0],gt=pe[1],It=S.length,Er=F,pr=oe,wt=0;wt<It;wt++)($t=S[wt]).length===2?(Er=$t[0]*Xe+Er,pr=$t[1]*gt+pr,_u(Er,pr)):(un=$t[0]*Xe+Er,$n=$t[1]*gt+pr,ar=$t[2]*Xe+Er,Rn=$t[3]*gt+pr,Er=$t[4]*Xe+Er,pr=$t[5]*gt+pr,xi(un,$n,ar,Rn,Er,pr));return Ue&&xc(),ko(_e),this},v.path=function(S){for(var F=0;F<S.length;F++){var oe=S[F],pe=oe.c;switch(oe.op){case"m":Sc(pe[0],pe[1]);break;case"l":_u(pe[0],pe[1]);break;case"c":xi.apply(this,pe);break;case"h":xc()}}return this},v.__private__.rect=v.rect=function(S,F,oe,pe,_e){if(isNaN(S)||isNaN(F)||isNaN(oe)||isNaN(pe)||!ui(_e))throw new Error("Invalid arguments passed to jsPDF.rect");return B===D&&(pe=-pe),ee([R(J(S)),R(ne(F)),R(J(oe)),R(J(pe)),"re"].join(" ")),ko(_e),this},v.__private__.triangle=v.triangle=function(S,F,oe,pe,_e,Ue,Xe){if(isNaN(S)||isNaN(F)||isNaN(oe)||isNaN(pe)||isNaN(_e)||isNaN(Ue)||!ui(Xe))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[oe-S,pe-F],[_e-oe,Ue-pe],[S-_e,F-Ue]],S,F,[1,1],Xe,!0),this},v.__private__.roundedRect=v.roundedRect=function(S,F,oe,pe,_e,Ue,Xe){if(isNaN(S)||isNaN(F)||isNaN(oe)||isNaN(pe)||isNaN(_e)||isNaN(Ue)||!ui(Xe))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var gt=4/3*(Math.SQRT2-1);return _e=Math.min(_e,.5*oe),Ue=Math.min(Ue,.5*pe),this.lines([[oe-2*_e,0],[_e*gt,0,_e,Ue-Ue*gt,_e,Ue],[0,pe-2*Ue],[0,Ue*gt,-_e*gt,Ue,-_e,Ue],[2*_e-oe,0],[-_e*gt,0,-_e,-Ue*gt,-_e,-Ue],[0,2*Ue-pe],[0,-Ue*gt,_e*gt,-Ue,_e,-Ue]],S+_e,F,[1,1],Xe,!0),this},v.__private__.ellipse=v.ellipse=function(S,F,oe,pe,_e){if(isNaN(S)||isNaN(F)||isNaN(oe)||isNaN(pe)||!ui(_e))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Ue=4/3*(Math.SQRT2-1)*oe,Xe=4/3*(Math.SQRT2-1)*pe;return Sc(S+oe,F),xi(S+oe,F-Xe,S+Ue,F-pe,S,F-pe),xi(S-Ue,F-pe,S-oe,F-Xe,S-oe,F),xi(S-oe,F+Xe,S-Ue,F+pe,S,F+pe),xi(S+Ue,F+pe,S+oe,F+Xe,S+oe,F),ko(_e),this},v.__private__.circle=v.circle=function(S,F,oe,pe){if(isNaN(S)||isNaN(F)||isNaN(oe)||!ui(pe))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(S,F,oe,oe,pe)},v.setFont=function(S,F,oe){return oe&&(F=W(F,oe)),Ze=yu(S,F,{disableWarning:!1}),this};var ba=v.__private__.getFont=v.getFont=function(){return rt[yu.apply(v,arguments)]};v.__private__.getFontList=v.getFontList=function(){var S,F,oe={};for(S in lt)if(lt.hasOwnProperty(S))for(F in oe[S]=[],lt[S])lt[S].hasOwnProperty(F)&&oe[S].push(F);return oe},v.addFont=function(S,F,oe,pe,_e){var Ue=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Ue.indexOf(arguments[3])!==-1?_e=arguments[3]:arguments[3]&&Ue.indexOf(arguments[3])==-1&&(oe=W(oe,pe)),hc.call(this,S,F,oe,_e=_e||"Identity-H")};var ms,Lo=t.lineWidth||.200025,eo=v.__private__.getLineWidth=v.getLineWidth=function(){return Lo},Pt=v.__private__.setLineWidth=v.setLineWidth=function(S){return Lo=S,ee(R(J(S))+" w"),this};v.__private__.setLineDash=Nt.API.setLineDash=Nt.API.setLineDashPattern=function(S,F){if(S=S||[],F=F||0,isNaN(F)||!Array.isArray(S))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return S=S.map(function(oe){return R(J(oe))}).join(" "),F=R(J(F)),ee("["+S+"] "+F+" d"),this};var Su=v.__private__.getLineHeight=v.getLineHeight=function(){return Me*ms};v.__private__.getLineHeight=v.getLineHeight=function(){return Me*ms};var Ac=v.__private__.setLineHeightFactor=v.setLineHeightFactor=function(S){return typeof(S=S||1.15)=="number"&&(ms=S),this},Au=v.__private__.getLineHeightFactor=v.getLineHeightFactor=function(){return ms};Ac(t.lineHeight);var Mi=v.__private__.getHorizontalCoordinate=function(S){return J(S)},zr=v.__private__.getVerticalCoordinate=function(S){return B===M?S:pt[z].mediaBox.topRightY-pt[z].mediaBox.bottomLeftY-J(S)},Nc=v.__private__.getHorizontalCoordinateString=v.getHorizontalCoordinateString=function(S){return R(Mi(S))},Ro=v.__private__.getVerticalCoordinateString=v.getVerticalCoordinateString=function(S){return R(zr(S))},Bi=t.strokeColor||"0 G";v.__private__.getStrokeColor=v.getDrawColor=function(){return Hn(Bi)},v.__private__.setStrokeColor=v.setDrawColor=function(S,F,oe,pe){return Bi=Qr({ch1:S,ch2:F,ch3:oe,ch4:pe,pdfColorType:"draw",precision:2}),ee(Bi),this};var Oo=t.fillColor||"0 g";v.__private__.getFillColor=v.getFillColor=function(){return Hn(Oo)},v.__private__.setFillColor=v.setFillColor=function(S,F,oe,pe){return Oo=Qr({ch1:S,ch2:F,ch3:oe,ch4:pe,pdfColorType:"fill",precision:2}),ee(Oo),this};var qa=t.textColor||"0 g",Nu=v.__private__.getTextColor=v.getTextColor=function(){return Hn(qa)};v.__private__.setTextColor=v.setTextColor=function(S,F,oe,pe){return qa=Qr({ch1:S,ch2:F,ch3:oe,ch4:pe,pdfColorType:"text",precision:3}),this};var Wi=t.charSpace,gl=v.__private__.getCharSpace=v.getCharSpace=function(){return parseFloat(Wi||0)};v.__private__.setCharSpace=v.setCharSpace=function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Wi=S,this};var vl=0;v.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},v.__private__.setLineCap=v.setLineCap=function(S){var F=v.CapJoinStyles[S];if(F===void 0)throw new Error("Line cap style of '"+S+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return vl=F,ee(F+" J"),this};var Dr=0;v.__private__.setLineJoin=v.setLineJoin=function(S){var F=v.CapJoinStyles[S];if(F===void 0)throw new Error("Line join style of '"+S+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Dr=F,ee(F+" j"),this},v.__private__.setLineMiterLimit=v.__private__.setMiterLimit=v.setLineMiterLimit=v.setMiterLimit=function(S){if(S=S||0,isNaN(S))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return ee(R(J(S))+" M"),this},v.GState=Bm,v.setGState=function(S){(S=typeof S=="string"?_t[Et[S]]:Va(null,S)).equals(Xt)||(ee("/"+S.id+" gs"),Xt=S)};var Va=function(S,F){if(!S||!Et[S]){var oe=!1;for(var pe in _t)if(_t.hasOwnProperty(pe)&&_t[pe].equals(F)){oe=!0;break}if(oe)F=_t[pe];else{var _e="GS"+(Object.keys(_t).length+1).toString(10);_t[_e]=F,F.id=_e}return S&&(Et[S]=F.id),Ht.publish("addGState",F),F}};v.addGState=function(S,F){return Va(S,F),this},v.saveGraphicsState=function(){return ee("q"),Dt.push({key:Ze,size:Me,color:qa}),this},v.restoreGraphicsState=function(){ee("Q");var S=Dt.pop();return Ze=S.key,Me=S.size,qa=S.color,Xt=null,this},v.setCurrentTransformationMatrix=function(S){return ee(S.toString()+" cm"),this},v.comment=function(S){return ee("#"+S),this};var Yi=function(S,F){var oe=S||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return oe},set:function(Ue){isNaN(Ue)||(oe=parseFloat(Ue))}});var pe=F||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return pe},set:function(Ue){isNaN(Ue)||(pe=parseFloat(Ue))}});var _e="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return _e},set:function(Ue){_e=Ue.toString()}}),this},gs=function(S,F,oe,pe){Yi.call(this,S,F),this.type="rect";var _e=oe||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return _e},set:function(Xe){isNaN(Xe)||(_e=parseFloat(Xe))}});var Ue=pe||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Ue},set:function(Xe){isNaN(Xe)||(Ue=parseFloat(Xe))}}),this},yl=function(){this.page=Lt,this.currentPage=z,this.pages=Oe.slice(0),this.pagesContext=pt.slice(0),this.x=it,this.y=Qt,this.matrix=kt,this.width=ys(z),this.height=Ec(z),this.outputDestination=Qe,this.id="",this.objectNumber=-1};yl.prototype.restore=function(){Lt=this.page,z=this.currentPage,pt=this.pagesContext,Oe=this.pages,it=this.x,Qt=this.y,kt=this.matrix,Po(z,this.width),bs(z,this.height),Qe=this.outputDestination};var Do=function(S,F,oe,pe,_e){$i.push(new yl),Lt=z=0,Oe=[],it=S,Qt=F,kt=_e,ga([oe,pe])};for(var vs in v.beginFormObject=function(S,F,oe,pe,_e){return Do(S,F,oe,pe,_e),this},v.endFormObject=function(S){return(function(F){if(Ia[F])$i.pop().restore();else{var oe=new yl,pe="Xo"+(Object.keys(Rr).length+1).toString(10);oe.id=pe,Ia[F]=pe,Rr[pe]=oe,Ht.publish("addFormObject",oe),$i.pop().restore()}})(S),this},v.doFormObject=function(S,F){var oe=Rr[Ia[S]];return ee("q"),ee(F.toString()+" cm"),ee("/"+oe.id+" Do"),ee("Q"),this},v.getFormObject=function(S){var F=Rr[Ia[S]];return{x:F.x,y:F.y,width:F.width,height:F.height,matrix:F.matrix}},v.save=function(S,F){return S=S||"generated.pdf",(F=F||{}).returnPromise=F.returnPromise||!1,F.returnPromise===!1?(Zc(Zs(za()),S),typeof Zc.unload=="function"&&Vt.setTimeout&&setTimeout(Zc.unload,911),this):new Promise(function(oe,pe){try{var _e=Zc(Zs(za()),S);typeof Zc.unload=="function"&&Vt.setTimeout&&setTimeout(Zc.unload,911),oe(_e)}catch(Ue){pe(Ue.message)}})},Nt.API)Nt.API.hasOwnProperty(vs)&&(vs==="events"&&Nt.API.events.length?(function(S,F){var oe,pe,_e;for(_e=F.length-1;_e!==-1;_e--)oe=F[_e][0],pe=F[_e][1],S.subscribe.apply(S,[oe].concat(typeof pe=="function"?[pe]:pe))})(Ht,Nt.API.events):v[vs]=Nt.API[vs]);function ys(S){return pt[S].mediaBox.topRightX-pt[S].mediaBox.bottomLeftX}function Po(S,F){pt[S].mediaBox.topRightX=F+pt[S].mediaBox.bottomLeftX}function Ec(S){return pt[S].mediaBox.topRightY-pt[S].mediaBox.bottomLeftY}function bs(S,F){pt[S].mediaBox.topRightY=F+pt[S].mediaBox.bottomLeftY}var ws=v.getPageWidth=function(S){return ys(S=S||z)/ht},Eu=v.setPageWidth=function(S,F){Po(S,F*ht)},xs=v.getPageHeight=function(S){return Ec(S=S||z)/ht},Cu=v.setPageHeight=function(S,F){bs(S,F*ht)};return v.internal={pdfEscape:Di,getStyle:wc,getFont:ba,getFontSize:Ne,getCharSpace:gl,getTextColor:Nu,getLineHeight:Su,getLineHeightFactor:Au,getLineWidth:eo,write:$e,getHorizontalCoordinate:Mi,getVerticalCoordinate:zr,getCoordinateString:Nc,getVerticalCoordinateString:Ro,collections:{},newObject:qn,newAdditionalObject:Js,newObjectDeferred:fr,newObjectDeferredBegin:Or,getFilters:Oi,putStream:Gi,events:Ht,scaleFactor:ht,pageSize:{getWidth:function(){return ws(z)},setWidth:function(S){Eu(z,S)},getHeight:function(){return xs(z)},setHeight:function(S){Cu(z,S)}},encryptionOptions:p,encryption:Nr,getEncryptor:function(S){return p!==null?Nr.encryptor(S,0):function(F){return F}},output:yc,getNumberOfPages:gc,get pages(){return Oe},out:ee,f2:k,f3:I,getPageInfo:hr,getPageInfoByObjId:ml,getCurrentPageInfo:bu,getPDFVersion:C,Point:Yi,Rectangle:gs,Matrix:Tt,hasHotfix:ci},Object.defineProperty(v.internal.pageSize,"width",{get:function(){return ws(z)},set:function(S){Eu(z,S)},enumerable:!0,configurable:!0}),Object.defineProperty(v.internal.pageSize,"height",{get:function(){return xs(z)},set:function(S){Cu(z,S)},enumerable:!0,configurable:!0}),(function(S){for(var F=0,oe=tt.length;F<oe;F++){var pe=hc.call(this,S[F][0],S[F][1],S[F][2],tt[F][3],!0);g===!1&&(y[pe]=!0);var _e=S[F][0].split("-");ir({id:pe,fontName:_e[0],fontStyle:_e[1]||""})}Ht.publish("addFonts",{fonts:rt,dictionary:lt})}).call(v,tt),Ze="F1",hs(a,n),Ht.publish("initialized"),v}_d.prototype.lsbFirstWord=function(t){return String.fromCharCode(255&t,t>>8&255,t>>16&255,t>>24&255)},_d.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},_d.prototype.hexToBytes=function(t){for(var e=[],n=0;n<t.length;n+=2)e.push(String.fromCharCode(parseInt(t.substr(n,2),16)));return e.join("")},_d.prototype.processOwnerPassword=function(t,e){return qv(zv(e).substr(0,5),t)},_d.prototype.encryptor=function(t,e){var n=zv(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(r){return qv(n,r)}},Bm.prototype.equals=function(t){var e,n="id,objectNumber,equals";if(!t||Ln(t)!==Ln(this))return!1;var r=0;for(e in this)if(!(n.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;r++}for(e in t)t.hasOwnProperty(e)&&n.indexOf(e)<0&&r--;return r===0},Nt.API={events:[]},Nt.version="3.0.4";var xr=Nt.API,tb=1,vu=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},vd=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Yt=function(t){return t.toFixed(2)},Ql=function(t){return t.toFixed(5)};xr.__acroform__={};var da=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},a4=function(t){return t*tb},xo=function(t){var e=new jN,n=bt.internal.getHeight(t)||0,r=bt.internal.getWidth(t)||0;return e.BBox=[0,0,Number(Yt(r)),Number(Yt(n))],e},IF=xr.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|1<<e},FF=xr.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&~(1<<e)},UF=xr.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},jr=xr.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return UF(t,e-1)},kr=xr.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return IF(t,e-1)},Lr=xr.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return FF(t,e-1)},zF=xr.__acroform__.calculateCoordinates=function(t,e){var n=e.internal.getHorizontalCoordinate,r=e.internal.getVerticalCoordinate,a=t[0],s=t[1],l=t[2],u=t[3],d={};return d.lowerLeft_X=n(a)||0,d.lowerLeft_Y=r(s+u)||0,d.upperRight_X=n(a+l)||0,d.upperRight_Y=r(s)||0,[Number(Yt(d.lowerLeft_X)),Number(Yt(d.lowerLeft_Y)),Number(Yt(d.upperRight_X)),Number(Yt(d.upperRight_Y))]},qF=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],n=t._V||t.DV,r=Vv(t,n),a=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+a+" "+Yt(r.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(r.text),e.push("ET"),e.push("Q"),e.push("EMC");var s=xo(t);return s.scope=t.scope,s.stream=e.join(`
`),s}},Vv=function(t,e){var n=t.fontSize===0?t.maxFontSize:t.fontSize,r={text:"",fontSize:""},a=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");a=t.multiline?a.map(function(k){return k.split(`
`)}):a.map(function(k){return[k]});var s=n,l=bt.internal.getHeight(t)||0;l=l<0?-l:l;var u=bt.internal.getWidth(t)||0;u=u<0?-u:u;var d=function(k,I,J){if(k+1<a.length){var ne=I+" "+a[k+1][0];return Xp(ne,t,J).width<=u-4}return!1};s++;e:for(;s>0;){e="",s--;var f,p,g=Xp("3",t,s).height,y=t.multiline?l-s:(l-g)/2,v=y+=2,N=0,C=0,T=0;if(s<=0){e=`(...) Tj
`,e+="% Width of Text: "+Xp(e,t,s=12).width+", FieldWidth:"+u+`
`;break}for(var A="",D=0,M=0;M<a.length;M++)if(a.hasOwnProperty(M)){var B=!1;if(a[M].length!==1&&T!==a[M].length-1){if((g+2)*(D+2)+2>l)continue e;A+=a[M][T],B=!0,C=M,M--}else{A=(A+=a[M][T]+" ").substr(A.length-1)==" "?A.substr(0,A.length-1):A;var q=parseInt(M),V=d(q,A,s),W=M>=a.length-1;if(V&&!W){A+=" ",T=0;continue}if(V||W){if(W)C=q;else if(t.multiline&&(g+2)*(D+2)+2>l)continue e}else{if(!t.multiline||(g+2)*(D+2)+2>l)continue e;C=q}}for(var R="",L=N;L<=C;L++){var $=a[L];if(t.multiline){if(L===C){R+=$[T]+" ",T=(T+1)%$.length;continue}if(L===N){R+=$[$.length-1]+" ";continue}}R+=$[0]+" "}switch(R=R.substr(R.length-1)==" "?R.substr(0,R.length-1):R,p=Xp(R,t,s).width,t.textAlign){case"right":f=u-p-2;break;case"center":f=(u-p)/2;break;default:f=2}e+=Yt(f)+" "+Yt(v)+` Td
`,e+="("+vu(R)+`) Tj
`,e+=-Yt(f)+` 0 Td
`,v=-(s+2),p=0,N=B?C:C+1,D++,A=""}break}return r.text=e,r.fontSize=s,r},Xp=function(t,e,n){var r=e.scope.internal.getFont(e.fontName,e.fontStyle),a=e.scope.getStringUnitWidth(t,{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:e.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:a}},VF={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},HF=function(t,e){var n={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(r){return r.type===n.type&&r.object===n.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(n)},$F=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(Ks.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(VF)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");tb=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new kN,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(n){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(n){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var a in r)if(r.hasOwnProperty(a)){var s=r[a];s.objId=void 0,s.hasAnnotation&&HF(s,n)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(n){if(n.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(n){(function(r,a){var s=!r;for(var l in r||(a.internal.newObjectDeferredBegin(a.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),a.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||a.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(l)){var u=r[l],d=[],f=u.Rect;if(u.Rect&&(u.Rect=zF(u.Rect,a)),a.internal.newObjectDeferredBegin(u.objId,!0),u.DA=bt.createDefaultAppearanceStream(u),Ln(u)==="object"&&typeof u.getKeyValueListForStream=="function"&&(d=u.getKeyValueListForStream()),u.Rect=f,u.hasAppearanceStream&&!u.appearanceStreamContent){var p=qF(u);d.push({key:"AP",value:"<</N "+p+">>"}),a.internal.acroformPlugin.xForms.push(p)}if(u.appearanceStreamContent){var g="";for(var y in u.appearanceStreamContent)if(u.appearanceStreamContent.hasOwnProperty(y)){var v=u.appearanceStreamContent[y];if(g+="/"+y+" ",g+="<<",Object.keys(v).length>=1||Array.isArray(v)){for(var l in v)if(v.hasOwnProperty(l)){var N=v[l];typeof N=="function"&&(N=N.call(a,u)),g+="/"+l+" "+N+" ",a.internal.acroformPlugin.xForms.indexOf(N)>=0||a.internal.acroformPlugin.xForms.push(N)}}else typeof(N=v)=="function"&&(N=N.call(a,u)),g+="/"+l+" "+N,a.internal.acroformPlugin.xForms.indexOf(N)>=0||a.internal.acroformPlugin.xForms.push(N);g+=">>"}d.push({key:"AP",value:`<<
`+g+">>"})}a.internal.putStream({additionalKeyValues:d,objectId:u.objId}),a.internal.out("endobj")}s&&(function(C,T){for(var A in C)if(C.hasOwnProperty(A)){var D=A,M=C[A];T.internal.newObjectDeferredBegin(M.objId,!0),Ln(M)==="object"&&typeof M.putStream=="function"&&M.putStream(),delete C[D]}})(a.internal.acroformPlugin.xForms,a)})(n,t)}),t.internal.acroformPlugin.isInitialized=!0}},TN=xr.__acroform__.arrayToPdfArray=function(t,e,n){var r=function(l){return l};if(Array.isArray(t)){for(var a="[",s=0;s<t.length;s++)switch(s!==0&&(a+=" "),Ln(t[s])){case"boolean":case"number":case"object":a+=t[s].toString();break;case"string":t[s].substr(0,1)!=="/"?(e!==void 0&&n&&(r=n.internal.getEncryptor(e)),a+="("+vu(r(t[s].toString()))+")"):a+=t[s].toString()}return a+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},q1=function(t,e,n){var r=function(a){return a};return e!==void 0&&n&&(r=n.internal.getEncryptor(e)),(t=t||"").toString(),"("+vu(r(t))+")"},Ao=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Ao.prototype.toString=function(){return this.objId+" 0 R"},Ao.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},Ao.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var n in e)if(Object.getOwnPropertyDescriptor(this,e[n]).configurable===!1){var r=e[n],a=this[r];a&&(Array.isArray(a)?t.push({key:r,value:TN(a,this.objId,this.scope)}):a instanceof Ao?(a.scope=this.scope,t.push({key:r,value:a.objId+" 0 R"})):typeof a!="function"&&t.push({key:r,value:a}))}return t};var jN=function(){Ao.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(n){t=n.trim()},get:function(){return t||null}})};da(jN,Ao);var kN=function(){Ao.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var n=function(r){return r};return this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),"("+vu(n(t))+")"}},set:function(n){t=n}})};da(kN,Ao);var Ks=function t(){Ao.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(A){if(isNaN(A))throw new Error('Invalid value "'+A+'" for attribute F supplied.');e=A}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!jr(e,3)},set:function(A){A?this.F=kr(e,3):this.F=Lr(e,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(A){if(isNaN(A))throw new Error('Invalid value "'+A+'" for attribute Ff supplied.');n=A}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(A){r=A!==void 0?A:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(A){r[0]=A}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(A){r[1]=A}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(A){r[2]=A}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(A){r[3]=A}});var a="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return a},set:function(A){switch(A){case"/Btn":case"/Tx":case"/Ch":case"/Sig":a=A;break;default:throw new Error('Invalid value "'+A+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof Im)return;s="FieldObject"+t.FieldNum++}var A=function(D){return D};return this.scope&&(A=this.scope.internal.getEncryptor(this.objId)),"("+vu(A(s))+")"},set:function(A){s=A.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(A){s=A}});var l="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return l},set:function(A){l=A}});var u="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return u},set:function(A){u=A}});var d=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return d},set:function(A){d=A}});var f=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return f===void 0?50/tb:f},set:function(A){f=A}});var p="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return p},set:function(A){p=A}});var g="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!g||this instanceof Im||this instanceof lu))return q1(g,this.objId,this.scope)},set:function(A){A=A.toString(),g=A}});var y=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(y)return this instanceof ai==0?q1(y,this.objId,this.scope):y},set:function(A){A=A.toString(),y=this instanceof ai==0?A.substr(0,1)==="("?vd(A.substr(1,A.length-2)):vd(A):A}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof ai==1?vd(y.substr(1,y.length-1)):y},set:function(A){A=A.toString(),y=this instanceof ai==1?"/"+A:A}});var v=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(v)return v},set:function(A){this.V=A}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(v)return this instanceof ai==0?q1(v,this.objId,this.scope):v},set:function(A){A=A.toString(),v=this instanceof ai==0?A.substr(0,1)==="("?vd(A.substr(1,A.length-2)):vd(A):A}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof ai==1?vd(v.substr(1,v.length-1)):v},set:function(A){A=A.toString(),v=this instanceof ai==1?"/"+A:A}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var N,C=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return C},set:function(A){A=!!A,C=A}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(N)return N},set:function(A){N=A}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!jr(this.Ff,1)},set:function(A){A?this.Ff=kr(this.Ff,1):this.Ff=Lr(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!jr(this.Ff,2)},set:function(A){A?this.Ff=kr(this.Ff,2):this.Ff=Lr(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!jr(this.Ff,3)},set:function(A){A?this.Ff=kr(this.Ff,3):this.Ff=Lr(this.Ff,3)}});var T=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(T!==null)return T},set:function(A){if([0,1,2].indexOf(A)===-1)throw new Error('Invalid value "'+A+'" for attribute Q supplied.');T=A}}),Object.defineProperty(this,"textAlign",{get:function(){var A;switch(T){case 0:default:A="left";break;case 1:A="center";break;case 2:A="right"}return A},configurable:!0,enumerable:!0,set:function(A){switch(A){case"right":case 2:T=2;break;case"center":case 1:T=1;break;default:T=0}}})};da(Ks,Ao);var Od=function(){Ks.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(n){t=n}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return TN(e,this.objId,this.scope)},set:function(n){var r,a;a=[],typeof(r=n)=="string"&&(a=(function(s,l,u){u||(u=1);for(var d,f=[];d=l.exec(s);)f.push(d[u]);return f})(r,/\((.*?)\)/g)),e=a}}),this.getOptions=function(){return e},this.setOptions=function(n){e=n,this.sort&&e.sort()},this.addOption=function(n){n=(n=n||"").toString(),e.push(n),this.sort&&e.sort()},this.removeOption=function(n,r){for(r=r||!1,n=(n=n||"").toString();e.indexOf(n)!==-1&&(e.splice(e.indexOf(n),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!jr(this.Ff,18)},set:function(n){n?this.Ff=kr(this.Ff,18):this.Ff=Lr(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!jr(this.Ff,19)},set:function(n){this.combo===!0&&(n?this.Ff=kr(this.Ff,19):this.Ff=Lr(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!jr(this.Ff,20)},set:function(n){n?(this.Ff=kr(this.Ff,20),e.sort()):this.Ff=Lr(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!jr(this.Ff,22)},set:function(n){n?this.Ff=kr(this.Ff,22):this.Ff=Lr(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!jr(this.Ff,23)},set:function(n){n?this.Ff=kr(this.Ff,23):this.Ff=Lr(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!jr(this.Ff,27)},set:function(n){n?this.Ff=kr(this.Ff,27):this.Ff=Lr(this.Ff,27)}}),this.hasAppearanceStream=!1};da(Od,Ks);var Dd=function(){Od.call(this),this.fontName="helvetica",this.combo=!1};da(Dd,Od);var Pd=function(){Dd.call(this),this.combo=!0};da(Pd,Dd);var dm=function(){Pd.call(this),this.edit=!0};da(dm,Pd);var ai=function(){Ks.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!jr(this.Ff,15)},set:function(n){n?this.Ff=kr(this.Ff,15):this.Ff=Lr(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!jr(this.Ff,16)},set:function(n){n?this.Ff=kr(this.Ff,16):this.Ff=Lr(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!jr(this.Ff,17)},set:function(n){n?this.Ff=kr(this.Ff,17):this.Ff=Lr(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!jr(this.Ff,26)},set:function(n){n?this.Ff=kr(this.Ff,26):this.Ff=Lr(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(s){return s};if(this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var r,a=[];for(r in a.push("<<"),e)a.push("/"+r+" ("+vu(n(e[r]))+")");return a.push(">>"),a.join(`
`)}},set:function(n){Ln(n)==="object"&&(e=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(n){typeof n=="string"&&(e.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(n){t="/"+n}})};da(ai,Ks);var fm=function(){ai.call(this),this.pushButton=!0};da(fm,ai);var Md=function(){ai.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};da(Md,ai);var Im=function(){var t,e;Ks.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(a){t=a}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(a){e=a}});var n,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var a=function(u){return u};this.scope&&(a=this.scope.internal.getEncryptor(this.objId));var s,l=[];for(s in l.push("<<"),r)l.push("/"+s+" ("+vu(a(r[s]))+")");return l.push(">>"),l.join(`
`)},set:function(a){Ln(a)==="object"&&(r=a)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(a){typeof a=="string"&&(r.CA=a)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(a){n=a}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(a){n="/"+a}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=bt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};da(Im,Ks),Md.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var n=this.Kids[e];n.appearanceStreamContent=t.createAppearanceStream(n.optionName),n.caption=t.getCA()}},Md.prototype.createOption=function(t){var e=new Im;return e.Parent=this,e.optionName=t,this.Kids.push(e),GF.call(this.scope,e),e};var hm=function(){ai.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=bt.CheckBox.createAppearanceStream()};da(hm,ai);var lu=function(){Ks.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!jr(this.Ff,13)},set:function(e){e?this.Ff=kr(this.Ff,13):this.Ff=Lr(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!jr(this.Ff,21)},set:function(e){e?this.Ff=kr(this.Ff,21):this.Ff=Lr(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!jr(this.Ff,23)},set:function(e){e?this.Ff=kr(this.Ff,23):this.Ff=Lr(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!jr(this.Ff,24)},set:function(e){e?this.Ff=kr(this.Ff,24):this.Ff=Lr(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!jr(this.Ff,25)},set:function(e){e?this.Ff=kr(this.Ff,25):this.Ff=Lr(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!jr(this.Ff,26)},set:function(e){e?this.Ff=kr(this.Ff,26):this.Ff=Lr(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};da(lu,Ks);var pm=function(){lu.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!jr(this.Ff,14)},set:function(t){t?this.Ff=kr(this.Ff,14):this.Ff=Lr(this.Ff,14)}}),this.password=!0};da(pm,lu);var bt={CheckBox:{createAppearanceStream:function(){return{N:{On:bt.CheckBox.YesNormal},D:{On:bt.CheckBox.YesPushDown,Off:bt.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=xo(t);e.scope=t.scope;var n=[],r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,a=t.scope.__private__.encodeColorString(t.color),s=Vv(t,t.caption);return n.push("0.749023 g"),n.push("0 0 "+Yt(bt.internal.getWidth(t))+" "+Yt(bt.internal.getHeight(t))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+r+" "+Yt(s.fontSize)+" Tf "+a),n.push("BT"),n.push(s.text),n.push("ET"),n.push("Q"),n.push("EMC"),e.stream=n.join(`
`),e},YesNormal:function(t){var e=xo(t);e.scope=t.scope;var n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color),a=[],s=bt.internal.getHeight(t),l=bt.internal.getWidth(t),u=Vv(t,t.caption);return a.push("1 g"),a.push("0 0 "+Yt(l)+" "+Yt(s)+" re"),a.push("f"),a.push("q"),a.push("0 0 1 rg"),a.push("0 0 "+Yt(l-1)+" "+Yt(s-1)+" re"),a.push("W"),a.push("n"),a.push("0 g"),a.push("BT"),a.push("/"+n+" "+Yt(u.fontSize)+" Tf "+r),a.push(u.text),a.push("ET"),a.push("Q"),e.stream=a.join(`
`),e},OffPushDown:function(t){var e=xo(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+Yt(bt.internal.getWidth(t))+" "+Yt(bt.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:bt.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=bt.RadioButton.Circle.YesNormal,e.D[t]=bt.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=xo(t);e.scope=t.scope;var n=[],r=bt.internal.getWidth(t)<=bt.internal.getHeight(t)?bt.internal.getWidth(t)/4:bt.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var a=bt.internal.Bezier_C,s=Number((r*a).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+Ql(bt.internal.getWidth(t)/2)+" "+Ql(bt.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),n.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),n.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),n.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=xo(t);e.scope=t.scope;var n=[],r=bt.internal.getWidth(t)<=bt.internal.getHeight(t)?bt.internal.getWidth(t)/4:bt.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var a=Number((2*r).toFixed(5)),s=Number((a*bt.internal.Bezier_C).toFixed(5)),l=Number((r*bt.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+Ql(bt.internal.getWidth(t)/2)+" "+Ql(bt.internal.getHeight(t)/2)+" cm"),n.push(a+" 0 m"),n.push(a+" "+s+" "+s+" "+a+" 0 "+a+" c"),n.push("-"+s+" "+a+" -"+a+" "+s+" -"+a+" 0 c"),n.push("-"+a+" -"+s+" -"+s+" -"+a+" 0 -"+a+" c"),n.push(s+" -"+a+" "+a+" -"+s+" "+a+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+Ql(bt.internal.getWidth(t)/2)+" "+Ql(bt.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+l+" "+l+" "+r+" 0 "+r+" c"),n.push("-"+l+" "+r+" -"+r+" "+l+" -"+r+" 0 c"),n.push("-"+r+" -"+l+" -"+l+" -"+r+" 0 -"+r+" c"),n.push(l+" -"+r+" "+r+" -"+l+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=xo(t);e.scope=t.scope;var n=[],r=bt.internal.getWidth(t)<=bt.internal.getHeight(t)?bt.internal.getWidth(t)/4:bt.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var a=Number((2*r).toFixed(5)),s=Number((a*bt.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+Ql(bt.internal.getWidth(t)/2)+" "+Ql(bt.internal.getHeight(t)/2)+" cm"),n.push(a+" 0 m"),n.push(a+" "+s+" "+s+" "+a+" 0 "+a+" c"),n.push("-"+s+" "+a+" -"+a+" "+s+" -"+a+" 0 c"),n.push("-"+a+" -"+s+" -"+s+" -"+a+" 0 -"+a+" c"),n.push(s+" -"+a+" "+a+" -"+s+" "+a+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:bt.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=bt.RadioButton.Cross.YesNormal,e.D[t]=bt.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=xo(t);e.scope=t.scope;var n=[],r=bt.internal.calculateCross(t);return n.push("q"),n.push("1 1 "+Yt(bt.internal.getWidth(t)-2)+" "+Yt(bt.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(Yt(r.x1.x)+" "+Yt(r.x1.y)+" m"),n.push(Yt(r.x2.x)+" "+Yt(r.x2.y)+" l"),n.push(Yt(r.x4.x)+" "+Yt(r.x4.y)+" m"),n.push(Yt(r.x3.x)+" "+Yt(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=xo(t);e.scope=t.scope;var n=bt.internal.calculateCross(t),r=[];return r.push("0.749023 g"),r.push("0 0 "+Yt(bt.internal.getWidth(t))+" "+Yt(bt.internal.getHeight(t))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+Yt(bt.internal.getWidth(t)-2)+" "+Yt(bt.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(Yt(n.x1.x)+" "+Yt(n.x1.y)+" m"),r.push(Yt(n.x2.x)+" "+Yt(n.x2.y)+" l"),r.push(Yt(n.x4.x)+" "+Yt(n.x4.y)+" m"),r.push(Yt(n.x3.x)+" "+Yt(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=xo(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+Yt(bt.internal.getWidth(t))+" "+Yt(bt.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+n}};bt.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=bt.internal.getWidth(t),n=bt.internal.getHeight(t),r=Math.min(e,n);return{x1:{x:(e-r)/2,y:(n-r)/2+r},x2:{x:(e-r)/2+r,y:(n-r)/2},x3:{x:(e-r)/2,y:(n-r)/2},x4:{x:(e-r)/2+r,y:(n-r)/2+r}}}},bt.internal.getWidth=function(t){var e=0;return Ln(t)==="object"&&(e=a4(t.Rect[2])),e},bt.internal.getHeight=function(t){var e=0;return Ln(t)==="object"&&(e=a4(t.Rect[3])),e};var GF=xr.addField=function(t){if($F(this,t),!(t instanceof Ks))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};xr.AcroFormChoiceField=Od,xr.AcroFormListBox=Dd,xr.AcroFormComboBox=Pd,xr.AcroFormEditBox=dm,xr.AcroFormButton=ai,xr.AcroFormPushButton=fm,xr.AcroFormRadioButton=Md,xr.AcroFormCheckBox=hm,xr.AcroFormTextField=lu,xr.AcroFormPasswordField=pm,xr.AcroFormAppearance=bt,xr.AcroForm={ChoiceField:Od,ListBox:Dd,ComboBox:Pd,EditBox:dm,Button:ai,PushButton:fm,RadioButton:Md,CheckBox:hm,TextField:lu,PasswordField:pm,Appearance:bt},Nt.AcroForm={ChoiceField:Od,ListBox:Dd,ComboBox:Pd,EditBox:dm,Button:ai,PushButton:fm,RadioButton:Md,CheckBox:hm,TextField:lu,PasswordField:pm,Appearance:bt};Nt.AcroForm;function LN(t){return t.reduce(function(e,n,r){return e[n]=r,e},{})}(function(t){var e="addImage_";t.__addimage__={};var n="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},a=t.__addimage__.getImageFileTypeByImageData=function(k,I){var J,ne,we,re,le,ce=n;if((I=I||n)==="RGBA"||k.data!==void 0&&k.data instanceof Uint8ClampedArray&&"height"in k&&"width"in k)return"RGBA";if(V(k))for(le in r)for(we=r[le],J=0;J<we.length;J+=1){for(re=!0,ne=0;ne<we[J].length;ne+=1)if(we[J][ne]!==void 0&&we[J][ne]!==k[ne]){re=!1;break}if(re===!0){ce=le;break}}else for(le in r)for(we=r[le],J=0;J<we.length;J+=1){for(re=!0,ne=0;ne<we[J].length;ne+=1)if(we[J][ne]!==void 0&&we[J][ne]!==k.charCodeAt(ne)){re=!1;break}if(re===!0){ce=le;break}}return ce===n&&I!==n&&(ce=I),ce},s=function k(I){for(var J=this.internal.write,ne=this.internal.putStream,we=(0,this.internal.getFilters)();we.indexOf("FlateEncode")!==-1;)we.splice(we.indexOf("FlateEncode"),1);I.objectId=this.internal.newObject();var re=[];if(re.push({key:"Type",value:"/XObject"}),re.push({key:"Subtype",value:"/Image"}),re.push({key:"Width",value:I.width}),re.push({key:"Height",value:I.height}),I.colorSpace===A.INDEXED?re.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(I.palette.length/3-1)+" "+("sMask"in I&&I.sMask!==void 0?I.objectId+2:I.objectId+1)+" 0 R]"}):(re.push({key:"ColorSpace",value:"/"+I.colorSpace}),I.colorSpace===A.DEVICE_CMYK&&re.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),re.push({key:"BitsPerComponent",value:I.bitsPerComponent}),"decodeParameters"in I&&I.decodeParameters!==void 0&&re.push({key:"DecodeParms",value:"<<"+I.decodeParameters+">>"}),"transparency"in I&&Array.isArray(I.transparency)&&I.transparency.length>0){for(var le="",ce=0,me=I.transparency.length;ce<me;ce++)le+=I.transparency[ce]+" "+I.transparency[ce]+" ";re.push({key:"Mask",value:"["+le+"]"})}I.sMask!==void 0&&re.push({key:"SMask",value:I.objectId+1+" 0 R"});var Re=I.filter!==void 0?["/"+I.filter]:void 0;if(ne({data:I.data,additionalKeyValues:re,alreadyAppliedFilters:Re,objectId:I.objectId}),J("endobj"),"sMask"in I&&I.sMask!==void 0){var Y,P=(Y=I.sMaskBitsPerComponent)!==null&&Y!==void 0?Y:I.bitsPerComponent,z={width:I.width,height:I.height,colorSpace:"DeviceGray",bitsPerComponent:P,data:I.sMask};"filter"in I&&(z.decodeParameters="/Predictor ".concat(I.predictor," /Colors 1 /BitsPerComponent ").concat(P," /Columns ").concat(I.width),z.filter=I.filter),k.call(this,z)}if(I.colorSpace===A.INDEXED){var Z=this.internal.newObject();ne({data:R(new Uint8Array(I.palette)),objectId:Z}),J("endobj")}},l=function(){var k=this.internal.collections[e+"images"];for(var I in k)s.call(this,k[I])},u=function(){var k,I=this.internal.collections[e+"images"],J=this.internal.write;for(var ne in I)J("/I"+(k=I[ne]).index,k.objectId,"0","R")},d=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",l),this.internal.events.subscribe("putXobjectDict",u))},f=function(){var k=this.internal.collections[e+"images"];return d.call(this),k},p=function(){return Object.keys(this.internal.collections[e+"images"]).length},g=function(k){return typeof t["process"+k.toUpperCase()]=="function"},y=function(k){return Ln(k)==="object"&&k.nodeType===1},v=function(k,I){if(k.nodeName==="IMG"&&k.hasAttribute("src")){var J=""+k.getAttribute("src");if(J.indexOf("data:image/")===0)return um(unescape(J).split("base64,").pop());var ne=t.loadFile(J,!0);if(ne!==void 0)return ne}if(k.nodeName==="CANVAS"){if(k.width===0||k.height===0)throw new Error("Given canvas must have data. Canvas width: "+k.width+", height: "+k.height);var we;switch(I){case"PNG":we="image/png";break;case"WEBP":we="image/webp";break;default:we="image/jpeg"}return um(k.toDataURL(we,1).split("base64,").pop())}},N=function(k){var I=this.internal.collections[e+"images"];if(I){for(var J in I)if(k===I[J].alias)return I[J]}},C=function(k,I,J){return k||I||(k=-96,I=-96),k<0&&(k=-1*J.width*72/k/this.internal.scaleFactor),I<0&&(I=-1*J.height*72/I/this.internal.scaleFactor),k===0&&(k=I*J.width/J.height),I===0&&(I=k*J.height/J.width),[k,I]},T=function(k,I,J,ne,we,re){var le=C.call(this,J,ne,we),ce=this.internal.getCoordinateString,me=this.internal.getVerticalCoordinateString,Re=f.call(this);if(J=le[0],ne=le[1],Re[we.index]=we,re){re*=Math.PI/180;var Y=Math.cos(re),P=Math.sin(re),z=function(se){return se.toFixed(4)},Z=[z(Y),z(P),z(-1*P),z(Y),0,0,"cm"]}this.internal.write("q"),re?(this.internal.write([1,"0","0",1,ce(k),me(I+ne),"cm"].join(" ")),this.internal.write(Z.join(" ")),this.internal.write([ce(J),"0","0",ce(ne),"0","0","cm"].join(" "))):this.internal.write([ce(J),"0","0",ce(ne),ce(k),me(I+ne),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+we.index+" Do"),this.internal.write("Q")},A=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var D=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},M=t.__addimage__.sHashCode=function(k){var I,J,ne=0;if(typeof k=="string")for(J=k.length,I=0;I<J;I++)ne=(ne<<5)-ne+k.charCodeAt(I),ne|=0;else if(V(k))for(J=k.byteLength/2,I=0;I<J;I++)ne=(ne<<5)-ne+k[I],ne|=0;return ne},B=t.__addimage__.validateStringAsBase64=function(k){(k=k||"").toString().trim();var I=!0;return k.length===0&&(I=!1),k.length%4!=0&&(I=!1),/^[A-Za-z0-9+/]+$/.test(k.substr(0,k.length-2))===!1&&(I=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(k.substr(-2))===!1&&(I=!1),I},q=t.__addimage__.extractImageFromDataUrl=function(k){if(k==null||!(k=k.trim()).startsWith("data:"))return null;var I=k.indexOf(",");return I<0?null:k.substring(0,I).trim().endsWith("base64")?k.substring(I+1):null};t.__addimage__.isArrayBuffer=function(k){return k instanceof ArrayBuffer};var V=t.__addimage__.isArrayBufferView=function(k){return k instanceof Int8Array||k instanceof Uint8Array||k instanceof Uint8ClampedArray||k instanceof Int16Array||k instanceof Uint16Array||k instanceof Int32Array||k instanceof Uint32Array||k instanceof Float32Array||k instanceof Float64Array},W=t.__addimage__.binaryStringToUint8Array=function(k){for(var I=k.length,J=new Uint8Array(I),ne=0;ne<I;ne++)J[ne]=k.charCodeAt(ne);return J},R=t.__addimage__.arrayBufferToBinaryString=function(k){for(var I="",J=V(k)?k:new Uint8Array(k),ne=0;ne<J.length;ne+=8192)I+=String.fromCharCode.apply(null,J.subarray(ne,ne+8192));return I};t.addImage=function(){var k,I,J,ne,we,re,le,ce,me;if(typeof arguments[1]=="number"?(I=n,J=arguments[1],ne=arguments[2],we=arguments[3],re=arguments[4],le=arguments[5],ce=arguments[6],me=arguments[7]):(I=arguments[1],J=arguments[2],ne=arguments[3],we=arguments[4],re=arguments[5],le=arguments[6],ce=arguments[7],me=arguments[8]),Ln(k=arguments[0])==="object"&&!y(k)&&"imageData"in k){var Re=k;k=Re.imageData,I=Re.format||I||n,J=Re.x||J||0,ne=Re.y||ne||0,we=Re.w||Re.width||we,re=Re.h||Re.height||re,le=Re.alias||le,ce=Re.compression||ce,me=Re.rotation||Re.angle||me}var Y=this.internal.getFilters();if(ce===void 0&&Y.indexOf("FlateEncode")!==-1&&(ce="SLOW"),isNaN(J)||isNaN(ne))throw new Error("Invalid coordinates passed to jsPDF.addImage");d.call(this);var P=L.call(this,k,I,le,ce);return T.call(this,J,ne,we,re,P,me),this};var L=function(k,I,J,ne){var we,re,le;if(typeof k=="string"&&a(k)===n){k=unescape(k);var ce=$(k,!1);(ce!==""||(ce=t.loadFile(k,!0))!==void 0)&&(k=ce)}if(y(k)&&(k=v(k,I)),I=a(k,I),!g(I))throw new Error("addImage does not support files of type '"+I+"', please ensure that a plugin for '"+I+"' support is added.");if(((le=J)==null||le.length===0)&&(J=(function(me){return typeof me=="string"||V(me)?M(me):V(me.data)?M(me.data):null})(k)),(we=N.call(this,J))||(k instanceof Uint8Array||I==="RGBA"||(re=k,k=W(k)),we=this["process"+I.toUpperCase()](k,p.call(this),J,(function(me){return me&&typeof me=="string"&&(me=me.toUpperCase()),me in t.image_compression?me:D.NONE})(ne),re)),!we)throw new Error("An unknown error occurred whilst processing the image.");return we},$=t.__addimage__.convertBase64ToBinaryString=function(k,I){I=typeof I!="boolean"||I;var J,ne="";if(typeof k=="string"){var we;J=(we=q(k))!==null&&we!==void 0?we:k;try{ne=um(J)}catch(re){if(I)throw B(J)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+re.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return ne};t.getImageProperties=function(k){var I,J,ne="";if(y(k)&&(k=v(k)),typeof k=="string"&&a(k)===n&&((ne=$(k,!1))===""&&(ne=t.loadFile(k)||""),k=ne),J=a(k),!g(J))throw new Error("addImage does not support files of type '"+J+"', please ensure that a plugin for '"+J+"' support is added.");if(k instanceof Uint8Array||(k=W(k)),!(I=this["process"+J.toUpperCase()](k)))throw new Error("An unknown error occurred whilst processing the image");return I.fileType=J,I}})(Nt.API),(function(t){var e=function(n){if(n!==void 0&&n!="")return!0};Nt.API.events.push(["addPage",function(n){this.internal.getPageInfo(n.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(n){for(var r,a,s,l=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString,d=this.internal.getPageInfoByObjId(n.objId),f=n.pageContext.annotations,p=!1,g=0;g<f.length&&!p;g++)switch((r=f[g]).type){case"link":(e(r.options.url)||e(r.options.pageNumber))&&(p=!0);break;case"reference":case"text":case"freetext":p=!0}if(p!=0){this.internal.write("/Annots [");for(var y=0;y<f.length;y++){r=f[y];var v=this.internal.pdfEscape,N=this.internal.getEncryptor(n.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var C=this.internal.newAdditionalObject(),T=this.internal.newAdditionalObject(),A=this.internal.getEncryptor(C.objId),D=r.title||"Note";s="<</Type /Annot /Subtype /Text "+(a="/Rect ["+l(r.bounds.x)+" "+u(r.bounds.y+r.bounds.h)+" "+l(r.bounds.x+r.bounds.w)+" "+u(r.bounds.y)+"] ")+"/Contents ("+v(A(r.contents))+")",s+=" /Popup "+T.objId+" 0 R",s+=" /P "+d.objId+" 0 R",s+=" /T ("+v(A(D))+") >>",C.content=s;var M=C.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(a="/Rect ["+l(r.bounds.x+30)+" "+u(r.bounds.y+r.bounds.h)+" "+l(r.bounds.x+r.bounds.w+30)+" "+u(r.bounds.y)+"] ")+" /Parent "+M,r.open&&(s+=" /Open true"),s+=" >>",T.content=s,this.internal.write(C.objId,"0 R",T.objId,"0 R");break;case"freetext":a="/Rect ["+l(r.bounds.x)+" "+u(r.bounds.y)+" "+l(r.bounds.x+r.bounds.w)+" "+u(r.bounds.y+r.bounds.h)+"] ";var B=r.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+a+"/Contents ("+v(N(r.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+B+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(r.options.name){var q=this.annotations._nameMap[r.options.name];r.options.pageNumber=q.page,r.options.top=q.y}else r.options.top||(r.options.top=0);if(a="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",s="",r.options.url)s="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /A <</S /URI /URI ("+v(N(r.options.url))+") >>";else if(r.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,s+=" /FitV "+r.options.left+"]";break;default:var V=u(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),s+=" /XYZ "+r.options.left+" "+V+" "+r.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),t.createAnnotation=function(n){var r=this.internal.getCurrentPageInfo();switch(n.type){case"link":this.link(n.bounds.x,n.bounds.y,n.bounds.w,n.bounds.h,n);break;case"text":case"freetext":r.pageContext.annotations.push(n)}},t.link=function(n,r,a,s,l){var u=this.internal.getCurrentPageInfo(),d=this.internal.getCoordinateString,f=this.internal.getVerticalCoordinateString;u.pageContext.annotations.push({finalBounds:{x:d(n),y:f(r),w:d(n+a),h:f(r+s)},options:l,type:"link"})},t.textWithLink=function(n,r,a,s){var l,u,d=this.getTextWidth(n),f=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){u=s.maxWidth;var p=this.splitTextToSize(n,u).length;l=Math.ceil(f*p)}else u=d,l=f;return this.text(n,r,a,s),a+=.2*f,s.align==="center"&&(r-=d/2),s.align==="right"&&(r-=d),this.link(r,a-f,u,l,s),d},t.getTextWidth=function(n){var r=this.internal.getFontSize();return this.getStringUnitWidth(n)*r/this.internal.scaleFactor}})(Nt.API),(function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},a=[1570,1571,1573,1575];t.__arabicParser__={};var s=t.__arabicParser__.isInArabicSubstitutionA=function(C){return e[C.charCodeAt(0)]!==void 0},l=t.__arabicParser__.isArabicLetter=function(C){return typeof C=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(C)},u=t.__arabicParser__.isArabicEndLetter=function(C){return l(C)&&s(C)&&e[C.charCodeAt(0)].length<=2},d=t.__arabicParser__.isArabicAlfLetter=function(C){return l(C)&&a.indexOf(C.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(C){return l(C)&&s(C)&&e[C.charCodeAt(0)].length>=1};var f=t.__arabicParser__.arabicLetterHasFinalForm=function(C){return l(C)&&s(C)&&e[C.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(C){return l(C)&&s(C)&&e[C.charCodeAt(0)].length>=3};var p=t.__arabicParser__.arabicLetterHasMedialForm=function(C){return l(C)&&s(C)&&e[C.charCodeAt(0)].length==4},g=t.__arabicParser__.resolveLigatures=function(C){var T=0,A=n,D="",M=0;for(T=0;T<C.length;T+=1)A[C.charCodeAt(T)]!==void 0?(M++,typeof(A=A[C.charCodeAt(T)])=="number"&&(D+=String.fromCharCode(A),A=n,M=0),T===C.length-1&&(A=n,D+=C.charAt(T-(M-1)),T-=M-1,M=0)):(A=n,D+=C.charAt(T-M),T-=M,M=0);return D};t.__arabicParser__.isArabicDiacritic=function(C){return C!==void 0&&r[C.charCodeAt(0)]!==void 0};var y=t.__arabicParser__.getCorrectForm=function(C,T,A){return l(C)?s(C)===!1?-1:!f(C)||!l(T)&&!l(A)||!l(A)&&u(T)||u(C)&&!l(T)||u(C)&&d(T)||u(C)&&u(T)?0:p(C)&&l(T)&&!u(T)&&l(A)&&f(A)?3:u(C)||!l(A)?1:2:-1},v=function(C){var T=0,A=0,D=0,M="",B="",q="",V=(C=C||"").split("\\s+"),W=[];for(T=0;T<V.length;T+=1){for(W.push(""),A=0;A<V[T].length;A+=1)M=V[T][A],B=V[T][A-1],q=V[T][A+1],l(M)?(D=y(M,B,q),W[T]+=D!==-1?String.fromCharCode(e[M.charCodeAt(0)][D]):M):W[T]+=M;W[T]=g(W[T])}return W.join(" ")},N=t.__arabicParser__.processArabic=t.processArabic=function(){var C,T=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,A=[];if(Array.isArray(T)){var D=0;for(A=[],D=0;D<T.length;D+=1)Array.isArray(T[D])?A.push([v(T[D][0]),T[D][1],T[D][2]]):A.push([v(T[D])]);C=A}else C=v(T);return typeof arguments[0]=="string"?C:(arguments[0].text=C,arguments[0])};t.events.push(["preProcessText",N])})(Nt.API),Nt.API.autoPrint=function(t){var e;return(t=t||{}).variant=t.variant||"non-conform",t.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},(function(t){var e=function(){var n=void 0;Object.defineProperty(this,"pdf",{get:function(){return n},set:function(u){n=u}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(u){r=isNaN(u)||Number.isInteger(u)===!1||u<0?150:u,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var a=300;Object.defineProperty(this,"height",{get:function(){return a},set:function(u){a=isNaN(u)||Number.isInteger(u)===!1||u<0?300:u,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=a+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(u){s=u}});var l={};Object.defineProperty(this,"style",{get:function(){return l},set:function(u){l=u}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(n,r){var a;if((n=n||"2d")!=="2d")return null;for(a in r)this.pdf.context2d.hasOwnProperty(a)&&(this.pdf.context2d[a]=r[a]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])})(Nt.API),(function(t){var e={left:0,top:0,bottom:0,right:0},n=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),a.call(this))},a=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var d=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return d},set:function(C){d=C}});var f=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return f},set:function(C){f=C}});var p=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return p},set:function(C){p=C}});var g=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return g},set:function(C){g=C}});var y=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return y},set:function(C){y=C}});var v=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return v},set:function(C){v=C}});var N=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return N},set:function(C){N=C}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(d){return r.call(this),this.internal.__cell__.headerFunction=typeof d=="function"?d:void 0,this},t.getTextDimensions=function(d,f){r.call(this);var p=(f=f||{}).fontSize||this.getFontSize(),g=f.font||this.getFont(),y=f.scaleFactor||this.internal.scaleFactor,v=0,N=0,C=0,T=this;if(!Array.isArray(d)&&typeof d!="string"){if(typeof d!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");d=String(d)}var A=f.maxWidth;A>0?typeof d=="string"?d=this.splitTextToSize(d,A):Object.prototype.toString.call(d)==="[object Array]"&&(d=d.reduce(function(M,B){return M.concat(T.splitTextToSize(B,A))},[])):d=Array.isArray(d)?d:[d];for(var D=0;D<d.length;D++)v<(C=this.getStringUnitWidth(d[D],{font:g})*p)&&(v=C);return v!==0&&(N=d.length),{w:v/=y,h:Math.max((N*p*this.getLineHeightFactor()-p*(this.getLineHeightFactor()-1))/y,0)}},t.cellAddPage=function(){r.call(this),this.addPage();var d=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new s(d.left,d.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var l=t.cell=function(){var d;d=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),r.call(this);var f=this.internal.__cell__.lastCell,p=this.internal.__cell__.padding,g=this.internal.__cell__.margins||e,y=this.internal.__cell__.tableHeaderRow,v=this.internal.__cell__.printHeaders;return f.lineNumber!==void 0&&(f.lineNumber===d.lineNumber?(d.x=(f.x||0)+(f.width||0),d.y=f.y||0):f.y+f.height+d.height+g.bottom>this.getPageHeight()?(this.cellAddPage(),d.y=g.top,v&&y&&(this.printHeaderRow(d.lineNumber,!0),d.y+=y[0].height)):d.y=f.y+f.height||d.y),d.text[0]!==void 0&&(this.rect(d.x,d.y,d.width,d.height,n===!0?"FD":void 0),d.align==="right"?this.text(d.text,d.x+d.width-p,d.y+p,{align:"right",baseline:"top"}):d.align==="center"?this.text(d.text,d.x+d.width/2,d.y+p,{align:"center",baseline:"top",maxWidth:d.width-p-p}):this.text(d.text,d.x+p,d.y+p,{align:"left",baseline:"top",maxWidth:d.width-p-p})),this.internal.__cell__.lastCell=d,this};t.table=function(d,f,p,g,y){if(r.call(this),!p)throw new Error("No data for PDF table.");var v,N,C,T,A=[],D=[],M=[],B={},q={},V=[],W=[],R=(y=y||{}).autoSize||!1,L=y.printHeaders!==!1,$=y.css&&y.css["font-size"]!==void 0?16*y.css["font-size"]:y.fontSize||12,k=y.margins||Object.assign({width:this.getPageWidth()},e),I=typeof y.padding=="number"?y.padding:3,J=y.headerBackgroundColor||"#c8c8c8",ne=y.headerTextColor||"#000";if(a.call(this),this.internal.__cell__.printHeaders=L,this.internal.__cell__.margins=k,this.internal.__cell__.table_font_size=$,this.internal.__cell__.padding=I,this.internal.__cell__.headerBackgroundColor=J,this.internal.__cell__.headerTextColor=ne,this.setFontSize($),g==null)D=A=Object.keys(p[0]),M=A.map(function(){return"left"});else if(Array.isArray(g)&&Ln(g[0])==="object")for(A=g.map(function(Re){return Re.name}),D=g.map(function(Re){return Re.prompt||Re.name||""}),M=g.map(function(Re){return Re.align||"left"}),v=0;v<g.length;v+=1)q[g[v].name]=.7499990551181103*g[v].width;else Array.isArray(g)&&typeof g[0]=="string"&&(D=A=g,M=A.map(function(){return"left"}));if(R||Array.isArray(g)&&typeof g[0]=="string")for(v=0;v<A.length;v+=1){for(B[T=A[v]]=p.map(function(Re){return Re[T]}),this.setFont(void 0,"bold"),V.push(this.getTextDimensions(D[v],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),N=B[T],this.setFont(void 0,"normal"),C=0;C<N.length;C+=1)V.push(this.getTextDimensions(N[C],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);q[T]=Math.max.apply(null,V)+I+I,V=[]}if(L){var we={};for(v=0;v<A.length;v+=1)we[A[v]]={},we[A[v]].text=D[v],we[A[v]].align=M[v];var re=u.call(this,we,q);W=A.map(function(Re){return new s(d,f,q[Re],re,we[Re].text,void 0,we[Re].align)}),this.setTableHeaderRow(W),this.printHeaderRow(1,!1)}var le=g.reduce(function(Re,Y){return Re[Y.name]=Y.align,Re},{});for(v=0;v<p.length;v+=1){"rowStart"in y&&y.rowStart instanceof Function&&y.rowStart({row:v,data:p[v]},this);var ce=u.call(this,p[v],q);for(C=0;C<A.length;C+=1){var me=p[v][A[C]];"cellStart"in y&&y.cellStart instanceof Function&&y.cellStart({row:v,col:C,data:me},this),l.call(this,new s(d,f,q[A[C]],ce,me,v+2,le[A[C]]))}}return this.internal.__cell__.table_x=d,this.internal.__cell__.table_y=f,this};var u=function(d,f){var p=this.internal.__cell__.padding,g=this.internal.__cell__.table_font_size,y=this.internal.scaleFactor;return Object.keys(d).map(function(v){var N=d[v];return this.splitTextToSize(N.hasOwnProperty("text")?N.text:N,f[v]-p-p)},this).map(function(v){return this.getLineHeightFactor()*v.length*g/y+p+p},this).reduce(function(v,N){return Math.max(v,N)},0)};t.setTableHeaderRow=function(d){r.call(this),this.internal.__cell__.tableHeaderRow=d},t.printHeaderRow=function(d,f){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var p;if(n=!0,typeof this.internal.__cell__.headerFunction=="function"){var g=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(g[0],g[1],g[2],g[3],void 0,-1)}this.setFont(void 0,"bold");for(var y=[],v=0;v<this.internal.__cell__.tableHeaderRow.length;v+=1){p=this.internal.__cell__.tableHeaderRow[v].clone(),f&&(p.y=this.internal.__cell__.margins.top||0,y.push(p)),p.lineNumber=d;var N=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),l.call(this,p),this.setTextColor(N)}y.length>0&&this.setTableHeaderRow(y),this.setFont(void 0,"normal"),n=!1}})(Nt.API);var RN={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},ON=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],Hv=LN(ON),DN=[100,200,300,400,500,600,700,800,900],WF=LN(DN);function V1(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),n=(function(s){return RN[s=s||"normal"]?s:"normal"})(t.style),r=(function(s){return s?typeof s=="number"?s>=100&&s<=900&&s%100==0?s:400:/^\d00$/.test(s)?parseInt(s):s==="bold"?700:400:400})(t.weight),a=(function(s){return typeof Hv[s=s||"normal"]=="number"?s:"normal"})(t.stretch);return{family:e,style:n,weight:r,stretch:a,src:t.src||[],ref:t.ref||{name:e,style:[a,n,r].join(" ")}}}function s4(t,e,n,r){var a;for(a=n;a>=0&&a<e.length;a+=r)if(t[e[a]])return t[e[a]];for(a=n;a>=0&&a<e.length;a-=r)if(t[e[a]])return t[e[a]]}var YF={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},o4={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function l4(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function c4(t){return t.trimLeft()}function KF(t,e){for(var n=0;n<t.length;){if(t.charAt(n)===e)return[t.substring(0,n),t.substring(n+1)];n+=1}return null}function XF(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var Jp,u4,d4,yd,Qp,f4,h4,p4,H1=["times"];function m4(t,e,n,r,a){var s=4,l=v4;switch(a){case Nt.API.image_compression.FAST:s=1,l=g4;break;case Nt.API.image_compression.MEDIUM:s=6,l=y4;break;case Nt.API.image_compression.SLOW:s=9,l=b4}t=(function(d,f,p,g){for(var y,v=d.length/f,N=new Uint8Array(d.length+v),C=[JF,g4,v4,y4,b4],T=0;T<v;T+=1){var A=T*f,D=d.subarray(A,A+f);if(g)N.set(g(D,p,y),A+T);else{for(var M=C.length,B=[],q=0;q<M;q+=1)B[q]=C[q](D,p,y);var V=ZF(B.concat());N.set(B[V],A+T)}y=D}return N})(t,e,Math.ceil(n*r/8),l);var u=Bv(t,{level:s});return Nt.API.__addimage__.arrayBufferToBinaryString(u)}function JF(t){var e=Array.apply([],t);return e.unshift(0),e}function g4(t,e){var n=t.length,r=[];r[0]=1;for(var a=0;a<n;a+=1){var s=t[a-e]||0;r[a+1]=t[a]-s+256&255}return r}function v4(t,e,n){var r=t.length,a=[];a[0]=2;for(var s=0;s<r;s+=1){var l=n&&n[s]||0;a[s+1]=t[s]-l+256&255}return a}function y4(t,e,n){var r=t.length,a=[];a[0]=3;for(var s=0;s<r;s+=1){var l=t[s-e]||0,u=n&&n[s]||0;a[s+1]=t[s]+256-(l+u>>>1)&255}return a}function b4(t,e,n){var r=t.length,a=[];a[0]=4;for(var s=0;s<r;s+=1){var l=QF(t[s-e]||0,n&&n[s]||0,n&&n[s-e]||0);a[s+1]=t[s]-l+256&255}return a}function QF(t,e,n){if(t===e&&e===n)return t;var r=Math.abs(e-n),a=Math.abs(t-n),s=Math.abs(t+e-n-n);return r<=a&&r<=s?t:a<=s?e:n}function ZF(t){var e=t.map(function(n){return n.reduce(function(r,a){return r+Math.abs(a)},0)});return e.indexOf(Math.min.apply(null,e))}function $1(t,e,n){var r=e*n,a=Math.floor(r/8),s=16-(r-8*a+n),l=(1<<n)-1;return PN(t,a)>>s&l}function w4(t,e,n,r){var a=n*r,s=Math.floor(a/8),l=16-(a-8*s+r),u=(1<<r)-1,d=(e&u)<<l;(function(f,p,g){if(p+1<f.byteLength)f.setUint16(p,g,!1);else{var y=g>>8&255;f.setUint8(p,y)}})(t,s,PN(t,s)&~(u<<l)&65535|d)}function PN(t,e){return e+1<t.byteLength?t.getUint16(e,!1):t.getUint8(e)<<8}function eU(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var n=t[e++]|t[e++]<<8,r=t[e++]|t[e++]<<8,a=t[e++],s=a>>7,l=1<<1+(7&a);t[e++],t[e++];var u=null,d=null;s&&(u=e,d=l,e+=3*l);var f=!0,p=[],g=0,y=null,v=0,N=null;for(this.width=n,this.height=r;f&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,N=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((k=t[e++])>=0))throw Error("Invalid block size");if(k===0)break;e+=k}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var C=t[e++];g=t[e++]|t[e++]<<8,y=t[e++],1&C||(y=null),v=C>>2&7,e++;break;case 254:for(;;){if(!((k=t[e++])>=0))throw Error("Invalid block size");if(k===0)break;e+=k}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var T=t[e++]|t[e++]<<8,A=t[e++]|t[e++]<<8,D=t[e++]|t[e++]<<8,M=t[e++]|t[e++]<<8,B=t[e++],q=B>>6&1,V=1<<1+(7&B),W=u,R=d,L=!1;B>>7&&(L=!0,W=e,R=V,e+=3*V);var $=e;for(e++;;){var k;if(!((k=t[e++])>=0))throw Error("Invalid block size");if(k===0)break;e+=k}p.push({x:T,y:A,width:D,height:M,has_local_palette:L,palette_offset:W,palette_size:R,data_offset:$,data_length:e-$,transparent_index:y,interlaced:!!q,delay:g,disposal:v});break;case 59:f=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return p.length},this.loopCount=function(){return N},this.frameInfo=function(I){if(I<0||I>=p.length)throw new Error("Frame index out of range.");return p[I]},this.decodeAndBlitFrameBGRA=function(I,J){var ne=this.frameInfo(I),we=ne.width*ne.height,re=new Uint8Array(we);x4(t,ne.data_offset,re,we);var le=ne.palette_offset,ce=ne.transparent_index;ce===null&&(ce=256);var me=ne.width,Re=n-me,Y=me,P=4*(ne.y*n+ne.x),z=4*((ne.y+ne.height)*n+ne.x),Z=P,se=4*Re;ne.interlaced===!0&&(se+=4*n*7);for(var ue=8,he=0,ve=re.length;he<ve;++he){var be=re[he];if(Y===0&&(Y=me,(Z+=se)>=z&&(se=4*Re+4*n*(ue-1),Z=P+(me+Re)*(ue<<1),ue>>=1)),be===ce)Z+=4;else{var je=t[le+3*be],Oe=t[le+3*be+1],qe=t[le+3*be+2];J[Z++]=qe,J[Z++]=Oe,J[Z++]=je,J[Z++]=255}--Y}},this.decodeAndBlitFrameRGBA=function(I,J){var ne=this.frameInfo(I),we=ne.width*ne.height,re=new Uint8Array(we);x4(t,ne.data_offset,re,we);var le=ne.palette_offset,ce=ne.transparent_index;ce===null&&(ce=256);var me=ne.width,Re=n-me,Y=me,P=4*(ne.y*n+ne.x),z=4*((ne.y+ne.height)*n+ne.x),Z=P,se=4*Re;ne.interlaced===!0&&(se+=4*n*7);for(var ue=8,he=0,ve=re.length;he<ve;++he){var be=re[he];if(Y===0&&(Y=me,(Z+=se)>=z&&(se=4*Re+4*n*(ue-1),Z=P+(me+Re)*(ue<<1),ue>>=1)),be===ce)Z+=4;else{var je=t[le+3*be],Oe=t[le+3*be+1],qe=t[le+3*be+2];J[Z++]=je,J[Z++]=Oe,J[Z++]=qe,J[Z++]=255}--Y}}}function x4(t,e,n,r){for(var a=t[e++],s=1<<a,l=s+1,u=l+1,d=a+1,f=(1<<d)-1,p=0,g=0,y=0,v=t[e++],N=new Int32Array(4096),C=null;;){for(;p<16&&v!==0;)g|=t[e++]<<p,p+=8,v===1?v=t[e++]:--v;if(p<d)break;var T=g&f;if(g>>=d,p-=d,T!==s){if(T===l)break;for(var A=T<u?T:C,D=0,M=A;M>s;)M=N[M]>>8,++D;var B=M;if(y+D+(A!==T?1:0)>r)return void zn.log("Warning, gif stream longer than expected.");n[y++]=B;var q=y+=D;for(A!==T&&(n[y++]=B),M=A;D--;)M=N[M],n[--q]=255&M,M>>=8;C!==null&&u<4096&&(N[u++]=C<<8|B,u>=f+1&&d<12&&(++d,f=f<<1|1)),C=T}else u=l+1,f=(1<<(d=a+1))-1,C=null}return y!==r&&zn.log("Warning, gif stream shorter than expected."),n}function G1(t){var e,n,r,a,s,l=Math.floor,u=new Array(64),d=new Array(64),f=new Array(64),p=new Array(64),g=new Array(65535),y=new Array(65535),v=new Array(64),N=new Array(64),C=[],T=0,A=7,D=new Array(64),M=new Array(64),B=new Array(64),q=new Array(256),V=new Array(2048),W=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],R=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],L=[0,1,2,3,4,5,6,7,8,9,10,11],$=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],k=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],I=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],J=[0,1,2,3,4,5,6,7,8,9,10,11],ne=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],we=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function re(P,z){for(var Z=0,se=0,ue=new Array,he=1;he<=16;he++){for(var ve=1;ve<=P[he];ve++)ue[z[se]]=[],ue[z[se]][0]=Z,ue[z[se]][1]=he,se++,Z++;Z*=2}return ue}function le(P){for(var z=P[0],Z=P[1]-1;Z>=0;)z&1<<Z&&(T|=1<<A),Z--,--A<0&&(T==255?(ce(255),ce(0)):ce(T),A=7,T=0)}function ce(P){C.push(P)}function me(P){ce(P>>8&255),ce(255&P)}function Re(P,z,Z,se,ue){for(var he,ve=ue[0],be=ue[240],je=(function(Me,de){var Ne,Ke,Ge,He,Ie,Je,ot,ct,Ze,ht,it=0;for(Ze=0;Ze<8;++Ze){Ne=Me[it],Ke=Me[it+1],Ge=Me[it+2],He=Me[it+3],Ie=Me[it+4],Je=Me[it+5],ot=Me[it+6];var Qt=Ne+(ct=Me[it+7]),kt=Ne-ct,rt=Ke+ot,lt=Ke-ot,Dt=Ge+Je,ft=Ge-Je,Zt=He+Ie,_t=He-Ie,Et=Qt+Zt,Xt=Qt-Zt,Lt=rt+Dt,pt=rt-Dt;Me[it]=Et+Lt,Me[it+4]=Et-Lt;var Ht=.707106781*(pt+Xt);Me[it+2]=Xt+Ht,Me[it+6]=Xt-Ht;var ki=.382683433*((Et=_t+ft)-(pt=lt+kt)),Rr=.5411961*Et+ki,Ia=1.306562965*pt+ki,$i=.707106781*(Lt=ft+lt),Tt=kt+$i,fs=kt-$i;Me[it+5]=fs+Rr,Me[it+3]=fs-Rr,Me[it+1]=Tt+Ia,Me[it+7]=Tt-Ia,it+=8}for(it=0,Ze=0;Ze<8;++Ze){Ne=Me[it],Ke=Me[it+8],Ge=Me[it+16],He=Me[it+24],Ie=Me[it+32],Je=Me[it+40],ot=Me[it+48];var Fa=Ne+(ct=Me[it+56]),Li=Ne-ct,Ri=Ke+ot,qn=Ke-ot,fr=Ge+Je,Or=Ge-Je,Js=He+Ie,li=He-Ie,En=Fa+Js,Hn=Fa-Js,Qr=Ri+fr,Oi=Ri-fr;Me[it]=En+Qr,Me[it+32]=En-Qr;var Gi=.707106781*(Oi+Hn);Me[it+16]=Hn+Gi,Me[it+48]=Hn-Gi;var To=.382683433*((En=li+Or)-(Oi=qn+Li)),fa=.5411961*En+To,ha=1.306562965*Oi+To,Qs=.707106781*(Qr=Or+qn),pa=Li+Qs,ma=Li-Qs;Me[it+40]=ma+fa,Me[it+24]=ma-fa,Me[it+8]=pa+ha,Me[it+56]=pa-ha,it++}for(Ze=0;Ze<64;++Ze)ht=Me[Ze]*de[Ze],v[Ze]=ht>0?ht+.5|0:ht-.5|0;return v})(P,z),Oe=0;Oe<64;++Oe)N[W[Oe]]=je[Oe];var qe=N[0]-Z;Z=N[0],qe==0?le(se[0]):(le(se[y[he=32767+qe]]),le(g[he]));for(var Qe=63;Qe>0&&N[Qe]==0;)Qe--;if(Qe==0)return le(ve),Z;for(var nt,ee=1;ee<=Qe;){for(var $e=ee;N[ee]==0&&ee<=Qe;)++ee;var St=ee-$e;if(St>=16){nt=St>>4;for(var tt=1;tt<=nt;++tt)le(be);St&=15}he=32767+N[ee],le(ue[(St<<4)+y[he]]),le(g[he]),ee++}return Qe!=63&&le(ve),Z}function Y(P){P=Math.min(Math.max(P,1),100),s!=P&&((function(z){for(var Z=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],se=0;se<64;se++){var ue=l((Z[se]*z+50)/100);ue=Math.min(Math.max(ue,1),255),u[W[se]]=ue}for(var he=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],ve=0;ve<64;ve++){var be=l((he[ve]*z+50)/100);be=Math.min(Math.max(be,1),255),d[W[ve]]=be}for(var je=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Oe=0,qe=0;qe<8;qe++)for(var Qe=0;Qe<8;Qe++)f[Oe]=1/(u[W[Oe]]*je[qe]*je[Qe]*8),p[Oe]=1/(d[W[Oe]]*je[qe]*je[Qe]*8),Oe++})(P<50?Math.floor(5e3/P):Math.floor(200-2*P)),s=P)}this.encode=function(P,z){z&&Y(z),C=new Array,T=0,A=7,me(65496),me(65504),me(16),ce(74),ce(70),ce(73),ce(70),ce(0),ce(1),ce(1),ce(0),me(1),me(1),ce(0),ce(0),(function(){me(65499),me(132),ce(0);for(var Ke=0;Ke<64;Ke++)ce(u[Ke]);ce(1);for(var Ge=0;Ge<64;Ge++)ce(d[Ge])})(),(function(Ke,Ge){me(65472),me(17),ce(8),me(Ge),me(Ke),ce(3),ce(1),ce(17),ce(0),ce(2),ce(17),ce(1),ce(3),ce(17),ce(1)})(P.width,P.height),(function(){me(65476),me(418),ce(0);for(var Ke=0;Ke<16;Ke++)ce(R[Ke+1]);for(var Ge=0;Ge<=11;Ge++)ce(L[Ge]);ce(16);for(var He=0;He<16;He++)ce($[He+1]);for(var Ie=0;Ie<=161;Ie++)ce(k[Ie]);ce(1);for(var Je=0;Je<16;Je++)ce(I[Je+1]);for(var ot=0;ot<=11;ot++)ce(J[ot]);ce(17);for(var ct=0;ct<16;ct++)ce(ne[ct+1]);for(var Ze=0;Ze<=161;Ze++)ce(we[Ze])})(),me(65498),me(12),ce(3),ce(1),ce(0),ce(2),ce(17),ce(3),ce(17),ce(0),ce(63),ce(0);var Z=0,se=0,ue=0;T=0,A=7,this.encode.displayName="_encode_";for(var he,ve,be,je,Oe,qe,Qe,nt,ee,$e=P.data,St=P.width,tt=P.height,Me=4*St,de=0;de<tt;){for(he=0;he<Me;){for(Oe=Me*de+he,Qe=-1,nt=0,ee=0;ee<64;ee++)qe=Oe+(nt=ee>>3)*Me+(Qe=4*(7&ee)),de+nt>=tt&&(qe-=Me*(de+1+nt-tt)),he+Qe>=Me&&(qe-=he+Qe-Me+4),ve=$e[qe++],be=$e[qe++],je=$e[qe++],D[ee]=(V[ve]+V[be+256|0]+V[je+512|0]>>16)-128,M[ee]=(V[ve+768|0]+V[be+1024|0]+V[je+1280|0]>>16)-128,B[ee]=(V[ve+1280|0]+V[be+1536|0]+V[je+1792|0]>>16)-128;Z=Re(D,f,Z,e,r),se=Re(M,p,se,n,a),ue=Re(B,p,ue,n,a),he+=32}de+=8}if(A>=0){var Ne=[];Ne[1]=A+1,Ne[0]=(1<<A+1)-1,le(Ne)}return me(65497),new Uint8Array(C)},t=t||50,(function(){for(var P=String.fromCharCode,z=0;z<256;z++)q[z]=P(z)})(),e=re(R,L),n=re(I,J),r=re($,k),a=re(ne,we),(function(){for(var P=1,z=2,Z=1;Z<=15;Z++){for(var se=P;se<z;se++)y[32767+se]=Z,g[32767+se]=[],g[32767+se][1]=Z,g[32767+se][0]=se;for(var ue=-(z-1);ue<=-P;ue++)y[32767+ue]=Z,g[32767+ue]=[],g[32767+ue][1]=Z,g[32767+ue][0]=z-1+ue;P<<=1,z<<=1}})(),(function(){for(var P=0;P<256;P++)V[P]=19595*P,V[P+256|0]=38470*P,V[P+512|0]=7471*P+32768,V[P+768|0]=-11059*P,V[P+1024|0]=-21709*P,V[P+1280|0]=32768*P+8421375,V[P+1536|0]=-27439*P,V[P+1792|0]=-5329*P})(),Y(t)}function Us(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function _4(t){function e(L){if(!L)throw Error("assert :P")}function n(L,$,k){for(var I=0;4>I;I++)if(L[$+I]!=k.charCodeAt(I))return!0;return!1}function r(L,$,k,I,J){for(var ne=0;ne<J;ne++)L[$+ne]=k[I+ne]}function a(L,$,k,I){for(var J=0;J<I;J++)L[$+J]=k}function s(L){return new Int32Array(L)}function l(L,$){for(var k=[],I=0;I<L;I++)k.push(new $);return k}function u(L,$){var k=[];return(function I(J,ne,we){for(var re=we[ne],le=0;le<re&&(J.push(we.length>ne+1?[]:new $),!(we.length<ne+1));le++)I(J[le],ne+1,we)})(k,0,L),k}var d=function(){var L=this;function $(m,x){for(var E=1<<x-1>>>0;m&E;)E>>>=1;return E?(m&E-1)+E:m}function k(m,x,E,j,U){e(!(j%E));do m[x+(j-=E)]=U;while(0<j)}function I(m,x,E,j,U){if(e(2328>=U),512>=U)var H=s(512);else if((H=s(U))==null)return 0;return(function(G,Q,te,ae,ge,Ce){var ie,xe,Ae=Q,Be=1<<te,Ee=s(16),Pe=s(16);for(e(ge!=0),e(ae!=null),e(G!=null),e(0<te),xe=0;xe<ge;++xe){if(15<ae[xe])return 0;++Ee[ae[xe]]}if(Ee[0]==ge)return 0;for(Pe[1]=0,ie=1;15>ie;++ie){if(Ee[ie]>1<<ie)return 0;Pe[ie+1]=Pe[ie]+Ee[ie]}for(xe=0;xe<ge;++xe)ie=ae[xe],0<ae[xe]&&(Ce[Pe[ie]++]=xe);if(Pe[15]==1)return(ae=new J).g=0,ae.value=Ce[0],k(G,Ae,1,Be,ae),Be;var ze,et=-1,Ye=Be-1,yt=0,ut=1,qt=1,mt=1<<te;for(xe=0,ie=1,ge=2;ie<=te;++ie,ge<<=1){if(ut+=qt<<=1,0>(qt-=Ee[ie]))return 0;for(;0<Ee[ie];--Ee[ie])(ae=new J).g=ie,ae.value=Ce[xe++],k(G,Ae+yt,ge,mt,ae),yt=$(yt,ie)}for(ie=te+1,ge=2;15>=ie;++ie,ge<<=1){if(ut+=qt<<=1,0>(qt-=Ee[ie]))return 0;for(;0<Ee[ie];--Ee[ie]){if(ae=new J,(yt&Ye)!=et){for(Ae+=mt,ze=1<<(et=ie)-te;15>et&&!(0>=(ze-=Ee[et]));)++et,ze<<=1;Be+=mt=1<<(ze=et-te),G[Q+(et=yt&Ye)].g=ze+te,G[Q+et].value=Ae-Q-et}ae.g=ie-te,ae.value=Ce[xe++],k(G,Ae+(yt>>te),ge,mt,ae),yt=$(yt,ie)}}return ut!=2*Pe[15]-1?0:Be})(m,x,E,j,U,H)}function J(){this.value=this.g=0}function ne(){this.value=this.g=0}function we(){this.G=l(5,J),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=l(ro,ne)}function re(m,x,E,j){e(m!=null),e(x!=null),e(2147483648>j),m.Ca=254,m.I=0,m.b=-8,m.Ka=0,m.oa=x,m.pa=E,m.Jd=x,m.Yc=E+j,m.Zc=4<=j?E+j-4+1:E,ve(m)}function le(m,x){for(var E=0;0<x--;)E|=je(m,128)<<x;return E}function ce(m,x){var E=le(m,x);return be(m)?-E:E}function me(m,x,E,j){var U,H=0;for(e(m!=null),e(x!=null),e(4294967288>j),m.Sb=j,m.Ra=0,m.u=0,m.h=0,4<j&&(j=4),U=0;U<j;++U)H+=x[E+U]<<8*U;m.Ra=H,m.bb=j,m.oa=x,m.pa=E}function Re(m){for(;8<=m.u&&m.bb<m.Sb;)m.Ra>>>=8,m.Ra+=m.oa[m.pa+m.bb]<<Ga-8>>>0,++m.bb,m.u-=8;se(m)&&(m.h=1,m.u=0)}function Y(m,x){if(e(0<=x),!m.h&&x<=fi){var E=Z(m)&_i[x];return m.u+=x,Re(m),E}return m.h=1,m.u=0}function P(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function z(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function Z(m){return m.Ra>>>(m.u&Ga-1)>>>0}function se(m){return e(m.bb<=m.Sb),m.h||m.bb==m.Sb&&m.u>Ga}function ue(m,x){m.u=x,m.h=se(m)}function he(m){m.u>=Wa&&(e(m.u>=Wa),Re(m))}function ve(m){e(m!=null&&m.oa!=null),m.pa<m.Zc?(m.I=(m.oa[m.pa++]|m.I<<8)>>>0,m.b+=8):(e(m!=null&&m.oa!=null),m.pa<m.Yc?(m.b+=8,m.I=m.oa[m.pa++]|m.I<<8):m.Ka?m.b=0:(m.I<<=8,m.b+=8,m.Ka=1))}function be(m){return le(m,1)}function je(m,x){var E=m.Ca;0>m.b&&ve(m);var j=m.b,U=E*x>>>8,H=(m.I>>>j>U)+0;for(H?(E-=U,m.I-=U+1<<j>>>0):E=U+1,j=E,U=0;256<=j;)U+=8,j>>=8;return j=7^U+Cs[j],m.b-=j,m.Ca=(E<<j)-1,H}function Oe(m,x,E){m[x+0]=E>>24&255,m[x+1]=E>>16&255,m[x+2]=E>>8&255,m[x+3]=255&E}function qe(m,x){return m[x+0]|m[x+1]<<8}function Qe(m,x){return qe(m,x)|m[x+2]<<16}function nt(m,x){return qe(m,x)|qe(m,x+2)<<16}function ee(m,x){var E=1<<x;return e(m!=null),e(0<x),m.X=s(E),m.X==null?0:(m.Mb=32-x,m.Xa=x,1)}function $e(m,x){e(m!=null),e(x!=null),e(m.Xa==x.Xa),r(x.X,0,m.X,0,1<<x.Xa)}function St(){this.X=[],this.Xa=this.Mb=0}function tt(m,x,E,j){e(E!=null),e(j!=null);var U=E[0],H=j[0];return U==0&&(U=(m*H+x/2)/x),H==0&&(H=(x*U+m/2)/m),0>=U||0>=H?0:(E[0]=U,j[0]=H,1)}function Me(m,x){return m+(1<<x)-1>>>x}function de(m,x){return((4278255360&m)+(4278255360&x)>>>0&4278255360)+((16711935&m)+(16711935&x)>>>0&16711935)>>>0}function Ne(m,x){L[x]=function(E,j,U,H,G,Q,te){var ae;for(ae=0;ae<G;++ae){var ge=L[m](Q[te+ae-1],U,H+ae);Q[te+ae]=de(E[j+ae],ge)}}}function Ke(){this.ud=this.hd=this.jd=0}function Ge(m,x){return((4278124286&(m^x))>>>1)+(m&x)>>>0}function He(m){return 0<=m&&256>m?m:0>m?0:255<m?255:void 0}function Ie(m,x){return He(m+(m-x+.5>>1))}function Je(m,x,E){return Math.abs(x-E)-Math.abs(m-E)}function ot(m,x,E,j,U,H,G){for(j=H[G-1],E=0;E<U;++E)H[G+E]=j=de(m[x+E],j)}function ct(m,x,E,j,U){var H;for(H=0;H<E;++H){var G=m[x+H],Q=G>>8&255,te=16711935&(te=(te=16711935&G)+((Q<<16)+Q));j[U+H]=(4278255360&G)+te>>>0}}function Ze(m,x){x.jd=255&m,x.hd=m>>8&255,x.ud=m>>16&255}function ht(m,x,E,j,U,H){var G;for(G=0;G<j;++G){var Q=x[E+G],te=Q>>>8,ae=Q,ge=255&(ge=(ge=Q>>>16)+((m.jd<<24>>24)*(te<<24>>24)>>>5));ae=255&(ae=(ae+=(m.hd<<24>>24)*(te<<24>>24)>>>5)+((m.ud<<24>>24)*(ge<<24>>24)>>>5)),U[H+G]=(4278255360&Q)+(ge<<16)+ae}}function it(m,x,E,j,U){L[x]=function(H,G,Q,te,ae,ge,Ce,ie,xe){for(te=Ce;te<ie;++te)for(Ce=0;Ce<xe;++Ce)ae[ge++]=U(Q[j(H[G++])])},L[m]=function(H,G,Q,te,ae,ge,Ce){var ie=8>>H.b,xe=H.Ea,Ae=H.K[0],Be=H.w;if(8>ie)for(H=(1<<H.b)-1,Be=(1<<ie)-1;G<Q;++G){var Ee,Pe=0;for(Ee=0;Ee<xe;++Ee)Ee&H||(Pe=j(te[ae++])),ge[Ce++]=U(Ae[Pe&Be]),Pe>>=ie}else L["VP8LMapColor"+E](te,ae,Ae,Be,ge,Ce,G,Q,xe)}}function Qt(m,x,E,j,U){for(E=x+E;x<E;){var H=m[x++];j[U++]=H>>16&255,j[U++]=H>>8&255,j[U++]=255&H}}function kt(m,x,E,j,U){for(E=x+E;x<E;){var H=m[x++];j[U++]=H>>16&255,j[U++]=H>>8&255,j[U++]=255&H,j[U++]=H>>24&255}}function rt(m,x,E,j,U){for(E=x+E;x<E;){var H=(G=m[x++])>>16&240|G>>12&15,G=240&G|G>>28&15;j[U++]=H,j[U++]=G}}function lt(m,x,E,j,U){for(E=x+E;x<E;){var H=(G=m[x++])>>16&248|G>>13&7,G=G>>5&224|G>>3&31;j[U++]=H,j[U++]=G}}function Dt(m,x,E,j,U){for(E=x+E;x<E;){var H=m[x++];j[U++]=255&H,j[U++]=H>>8&255,j[U++]=H>>16&255}}function ft(m,x,E,j,U,H){if(H==0)for(E=x+E;x<E;)Oe(j,((H=m[x++])[0]>>24|H[1]>>8&65280|H[2]<<8&16711680|H[3]<<24)>>>0),U+=32;else r(j,U,m,x,E)}function Zt(m,x){L[x][0]=L[m+"0"],L[x][1]=L[m+"1"],L[x][2]=L[m+"2"],L[x][3]=L[m+"3"],L[x][4]=L[m+"4"],L[x][5]=L[m+"5"],L[x][6]=L[m+"6"],L[x][7]=L[m+"7"],L[x][8]=L[m+"8"],L[x][9]=L[m+"9"],L[x][10]=L[m+"10"],L[x][11]=L[m+"11"],L[x][12]=L[m+"12"],L[x][13]=L[m+"13"],L[x][14]=L[m+"0"],L[x][15]=L[m+"0"]}function _t(m){return m==Mc||m==Ou||m==Cl||m==Du}function Et(){this.eb=[],this.size=this.A=this.fb=0}function Xt(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Lt(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Et,this.f.kb=new Xt,this.sd=null}function pt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Ht(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function ki(m){return alert("todo:WebPSamplerProcessPlane"),m.T}function Rr(m,x){var E=m.T,j=x.ba.f.RGBA,U=j.eb,H=j.fb+m.ka*j.A,G=Gr[x.ba.S],Q=m.y,te=m.O,ae=m.f,ge=m.N,Ce=m.ea,ie=m.W,xe=x.cc,Ae=x.dc,Be=x.Mc,Ee=x.Nc,Pe=m.ka,ze=m.ka+m.T,et=m.U,Ye=et+1>>1;for(Pe==0?G(Q,te,null,null,ae,ge,Ce,ie,ae,ge,Ce,ie,U,H,null,null,et):(G(x.ec,x.fc,Q,te,xe,Ae,Be,Ee,ae,ge,Ce,ie,U,H-j.A,U,H,et),++E);Pe+2<ze;Pe+=2)xe=ae,Ae=ge,Be=Ce,Ee=ie,ge+=m.Rc,ie+=m.Rc,H+=2*j.A,G(Q,(te+=2*m.fa)-m.fa,Q,te,xe,Ae,Be,Ee,ae,ge,Ce,ie,U,H-j.A,U,H,et);return te+=m.fa,m.j+ze<m.o?(r(x.ec,x.fc,Q,te,et),r(x.cc,x.dc,ae,ge,Ye),r(x.Mc,x.Nc,Ce,ie,Ye),E--):1&ze||G(Q,te,null,null,ae,ge,Ce,ie,ae,ge,Ce,ie,U,H+j.A,null,null,et),E}function Ia(m,x,E){var j=m.F,U=[m.J];if(j!=null){var H=m.U,G=x.ba.S,Q=G==Pc||G==Cl;x=x.ba.f.RGBA;var te=[0],ae=m.ka;te[0]=m.T,m.Kb&&(ae==0?--te[0]:(--ae,U[0]-=m.width),m.j+m.ka+m.T==m.o&&(te[0]=m.o-m.j-ae));var ge=x.eb;ae=x.fb+ae*x.A,m=Lc(j,U[0],m.width,H,te,ge,ae+(Q?0:3),x.A),e(E==te),m&&_t(G)&&Fo(ge,ae,Q,H,te,x.A)}return 0}function $i(m){var x=m.ma,E=x.ba.S,j=11>E,U=E==ti||E==Ji||E==Pc||E==El||E==12||_t(E);if(x.memory=null,x.Ib=null,x.Jb=null,x.Nd=null,!Es(x.Oa,m,U?11:12))return 0;if(U&&_t(E)&&Cc(),m.da)alert("todo:use_scaling");else{if(j){if(x.Ib=ki,m.Kb){if(E=m.U+1>>1,x.memory=s(m.U+2*E),x.memory==null)return 0;x.ec=x.memory,x.fc=0,x.cc=x.ec,x.dc=x.fc+m.U,x.Mc=x.cc,x.Nc=x.dc+E,x.Ib=Rr,Cc()}}else alert("todo:EmitYUV");U&&(x.Jb=Ia,j&&wa())}if(j&&!uo){for(m=0;256>m;++m)Wr[m]=89858*(m-128)+kl>>ra,h0[m]=-22014*(m-128)+kl,$h[m]=-45773*(m-128),Fu[m]=113618*(m-128)+kl>>ra;for(m=Vo;m<co;++m)x=76283*(m-16)+kl>>ra,p0[m-Vo]=Pi(x,255),m0[m-Vo]=Pi(x+8>>4,15);uo=1}return 1}function Tt(m){var x=m.ma,E=m.U,j=m.T;return e(!(1&m.ka)),0>=E||0>=j?0:(E=x.Ib(m,x),x.Jb!=null&&x.Jb(m,x,E),x.Dc+=E,1)}function fs(m){m.ma.memory=null}function Fa(m,x,E,j){return Y(m,8)!=47?0:(x[0]=Y(m,14)+1,E[0]=Y(m,14)+1,j[0]=Y(m,1),Y(m,3)!=0?0:!m.h)}function Li(m,x){if(4>m)return m+1;var E=m-2>>1;return(2+(1&m)<<E)+Y(x,E)+1}function Ri(m,x){return 120<x?x-120:1<=(E=((E=Zi[x-1])>>4)*m+(8-(15&E)))?E:1;var E}function qn(m,x,E){var j=Z(E),U=m[x+=255&j].g-8;return 0<U&&(ue(E,E.u+8),j=Z(E),x+=m[x].value,x+=j&(1<<U)-1),ue(E,E.u+m[x].g),m[x].value}function fr(m,x,E){return E.g+=m.g,E.value+=m.value<<x>>>0,e(8>=E.g),m.g}function Or(m,x,E){var j=m.xc;return e((x=j==0?0:m.vc[m.md*(E>>j)+(x>>j)])<m.Wb),m.Ya[x]}function Js(m,x,E,j){var U=m.ab,H=m.c*x,G=m.C;x=G+x;var Q=E,te=j;for(j=m.Ta,E=m.Ua;0<U--;){var ae=m.gc[U],ge=G,Ce=x,ie=Q,xe=te,Ae=(te=j,Q=E,ae.Ea);switch(e(ge<Ce),e(Ce<=ae.nc),ae.hc){case 2:sr(ie,xe,(Ce-ge)*Ae,te,Q);break;case 0:var Be=ge,Ee=Ce,Pe=te,ze=Q,et=(mt=ae).Ea;Be==0&&(_l(ie,xe,null,null,1,Pe,ze),ot(ie,xe+1,0,0,et-1,Pe,ze+1),xe+=et,ze+=et,++Be);for(var Ye=1<<mt.b,yt=Ye-1,ut=Me(et,mt.b),qt=mt.K,mt=mt.w+(Be>>mt.b)*ut;Be<Ee;){var tn=qt,Fn=mt,Gt=1;for(Sl(ie,xe,Pe,ze-et,1,Pe,ze);Gt<et;){var dt=(Gt&~yt)+Ye;dt>et&&(dt=et),(0,Ts[tn[Fn++]>>8&15])(ie,xe+ +Gt,Pe,ze+Gt-et,dt-Gt,Pe,ze+Gt),Gt=dt}xe+=et,ze+=et,++Be&yt||(mt+=ut)}Ce!=ae.nc&&r(te,Q-Ae,te,Q+(Ce-ge-1)*Ae,Ae);break;case 1:for(Ae=ie,Ee=xe,et=(ie=ae.Ea)-(ze=ie&~(Pe=(xe=1<<ae.b)-1)),Be=Me(ie,ae.b),Ye=ae.K,ae=ae.w+(ge>>ae.b)*Be;ge<Ce;){for(yt=Ye,ut=ae,qt=new Ke,mt=Ee+ze,tn=Ee+ie;Ee<mt;)Ze(yt[ut++],qt),Al(qt,Ae,Ee,xe,te,Q),Ee+=xe,Q+=xe;Ee<tn&&(Ze(yt[ut++],qt),Al(qt,Ae,Ee,et,te,Q),Ee+=et,Q+=et),++ge&Pe||(ae+=Be)}break;case 3:if(ie==te&&xe==Q&&0<ae.b){for(Ee=te,ie=Ae=Q+(Ce-ge)*Ae-(ze=(Ce-ge)*Me(ae.Ea,ae.b)),xe=te,Pe=Q,Be=[],ze=(et=ze)-1;0<=ze;--ze)Be[ze]=xe[Pe+ze];for(ze=et-1;0<=ze;--ze)Ee[ie+ze]=Be[ze];Tu(ae,ge,Ce,te,Ae,te,Q)}else Tu(ae,ge,Ce,ie,xe,te,Q)}Q=j,te=E}te!=E&&r(j,E,Q,te,H)}function li(m,x){var E=m.V,j=m.Ba+m.c*m.C,U=x-m.C;if(e(x<=m.l.o),e(16>=U),0<U){var H=m.l,G=m.Ta,Q=m.Ua,te=H.width;if(Js(m,U,E,j),U=Q=[Q],e((E=m.C)<(j=x)),e(H.v<H.va),j>H.o&&(j=H.o),E<H.j){var ae=H.j-E;E=H.j,U[0]+=ae*te}if(E>=j?E=0:(U[0]+=4*H.v,H.ka=E-H.j,H.U=H.va-H.v,H.T=j-E,E=1),E){if(Q=Q[0],11>(E=m.ca).S){var ge=E.f.RGBA,Ce=(j=E.S,U=H.U,H=H.T,ae=ge.eb,ge.A),ie=H;for(ge=ge.fb+m.Ma*ge.A;0<ie--;){var xe=G,Ae=Q,Be=U,Ee=ae,Pe=ge;switch(j){case Lu:Nl(xe,Ae,Be,Ee,Pe);break;case ti:js(xe,Ae,Be,Ee,Pe);break;case Mc:js(xe,Ae,Be,Ee,Pe),Fo(Ee,Pe,0,Be,1,0);break;case Ru:Bo(xe,Ae,Be,Ee,Pe);break;case Ji:ft(xe,Ae,Be,Ee,Pe,1);break;case Ou:ft(xe,Ae,Be,Ee,Pe,1),Fo(Ee,Pe,0,Be,1,0);break;case Pc:ft(xe,Ae,Be,Ee,Pe,0);break;case Cl:ft(xe,Ae,Be,Ee,Pe,0),Fo(Ee,Pe,1,Be,1,0);break;case El:ks(xe,Ae,Be,Ee,Pe);break;case Du:ks(xe,Ae,Be,Ee,Pe),Xi(Ee,Pe,Be,1,0);break;case io:Xa(xe,Ae,Be,Ee,Pe);break;default:e(0)}Q+=te,ge+=Ce}m.Ma+=H}else alert("todo:EmitRescaledRowsYUVA");e(m.Ma<=E.height)}}m.C=x,e(m.C<=m.i)}function En(m){var x;if(0<m.ua)return 0;for(x=0;x<m.Wb;++x){var E=m.Ya[x].G,j=m.Ya[x].H;if(0<E[1][j[1]+0].g||0<E[2][j[2]+0].g||0<E[3][j[3]+0].g)return 0}return 1}function Hn(m,x,E,j,U,H){if(m.Z!=0){var G=m.qd,Q=m.rd;for(e(Os[m.Z]!=null);x<E;++x)Os[m.Z](G,Q,j,U,j,U,H),G=j,Q=U,U+=H;m.qd=G,m.rd=Q}}function Qr(m,x){var E=m.l.ma,j=E.Z==0||E.Z==1?m.l.j:m.C;if(j=m.C<j?j:m.C,e(x<=m.l.o),x>j){var U=m.l.width,H=E.ca,G=E.tb+U*j,Q=m.V,te=m.Ba+m.c*j,ae=m.gc;e(m.ab==1),e(ae[0].hc==3),Ka(ae[0],j,x,Q,te,H,G),Hn(E,j,x,H,G,U)}m.C=m.Ma=x}function Oi(m,x,E,j,U,H,G){var Q=m.$/j,te=m.$%j,ae=m.m,ge=m.s,Ce=E+m.$,ie=Ce;U=E+j*U;var xe=E+j*H,Ae=280+ge.ua,Be=m.Pb?Q:16777216,Ee=0<ge.ua?ge.Wa:null,Pe=ge.wc,ze=Ce<xe?Or(ge,te,Q):null;e(m.C<H),e(xe<=U);var et=!1;e:for(;;){for(;et||Ce<xe;){var Ye=0;if(Q>=Be){var yt=Ce-E;e((Be=m).Pb),Be.wd=Be.m,Be.xd=yt,0<Be.s.ua&&$e(Be.s.Wa,Be.s.vb),Be=Q+ao}if(te&Pe||(ze=Or(ge,te,Q)),e(ze!=null),ze.Qb&&(x[Ce]=ze.qb,et=!0),!et)if(he(ae),ze.jc){Ye=ae,yt=x;var ut=Ce,qt=ze.pd[Z(Ye)&ro-1];e(ze.jc),256>qt.g?(ue(Ye,Ye.u+qt.g),yt[ut]=qt.value,Ye=0):(ue(Ye,Ye.u+qt.g-256),e(256<=qt.value),Ye=qt.value),Ye==0&&(et=!0)}else Ye=qn(ze.G[0],ze.H[0],ae);if(ae.h)break;if(et||256>Ye){if(!et)if(ze.nd)x[Ce]=(ze.qb|Ye<<8)>>>0;else{if(he(ae),et=qn(ze.G[1],ze.H[1],ae),he(ae),yt=qn(ze.G[2],ze.H[2],ae),ut=qn(ze.G[3],ze.H[3],ae),ae.h)break;x[Ce]=(ut<<24|et<<16|Ye<<8|yt)>>>0}if(et=!1,++Ce,++te>=j&&(te=0,++Q,G!=null&&Q<=H&&!(Q%16)&&G(m,Q),Ee!=null))for(;ie<Ce;)Ye=x[ie++],Ee.X[(506832829*Ye&4294967295)>>>Ee.Mb]=Ye}else if(280>Ye){if(Ye=Li(Ye-256,ae),yt=qn(ze.G[4],ze.H[4],ae),he(ae),yt=Ri(j,yt=Li(yt,ae)),ae.h)break;if(Ce-E<yt||U-Ce<Ye)break e;for(ut=0;ut<Ye;++ut)x[Ce+ut]=x[Ce+ut-yt];for(Ce+=Ye,te+=Ye;te>=j;)te-=j,++Q,G!=null&&Q<=H&&!(Q%16)&&G(m,Q);if(e(Ce<=U),te&Pe&&(ze=Or(ge,te,Q)),Ee!=null)for(;ie<Ce;)Ye=x[ie++],Ee.X[(506832829*Ye&4294967295)>>>Ee.Mb]=Ye}else{if(!(Ye<Ae))break e;for(et=Ye-280,e(Ee!=null);ie<Ce;)Ye=x[ie++],Ee.X[(506832829*Ye&4294967295)>>>Ee.Mb]=Ye;Ye=Ce,e(!(et>>>(yt=Ee).Xa)),x[Ye]=yt.X[et],et=!0}et||e(ae.h==se(ae))}if(m.Pb&&ae.h&&Ce<U)e(m.m.h),m.a=5,m.m=m.wd,m.$=m.xd,0<m.s.ua&&$e(m.s.vb,m.s.Wa);else{if(ae.h)break e;G?.(m,Q>H?H:Q),m.a=0,m.$=Ce-E}return 1}return m.a=3,0}function Gi(m){e(m!=null),m.vc=null,m.yc=null,m.Ya=null;var x=m.Wa;x!=null&&(x.X=null),m.vb=null,e(m!=null)}function To(){var m=new It;return m==null?null:(m.a=0,m.xb=af,Zt("Predictor","VP8LPredictors"),Zt("Predictor","VP8LPredictors_C"),Zt("PredictorAdd","VP8LPredictorsAdd"),Zt("PredictorAdd","VP8LPredictorsAdd_C"),sr=ct,Al=ht,Nl=Qt,js=kt,ks=rt,Xa=lt,Bo=Dt,L.VP8LMapColor32b=Ya,L.VP8LMapColor8b=Vr,m)}function fa(m,x,E,j,U){var H=1,G=[m],Q=[x],te=j.m,ae=j.s,ge=null,Ce=0;e:for(;;){if(E)for(;H&&Y(te,1);){var ie=G,xe=Q,Ae=j,Be=1,Ee=Ae.m,Pe=Ae.gc[Ae.ab],ze=Y(Ee,2);if(Ae.Oc&1<<ze)H=0;else{switch(Ae.Oc|=1<<ze,Pe.hc=ze,Pe.Ea=ie[0],Pe.nc=xe[0],Pe.K=[null],++Ae.ab,e(4>=Ae.ab),ze){case 0:case 1:Pe.b=Y(Ee,3)+2,Be=fa(Me(Pe.Ea,Pe.b),Me(Pe.nc,Pe.b),0,Ae,Pe.K),Pe.K=Pe.K[0];break;case 3:var et,Ye=Y(Ee,8)+1,yt=16<Ye?0:4<Ye?1:2<Ye?2:3;if(ie[0]=Me(Pe.Ea,yt),Pe.b=yt,et=Be=fa(Ye,1,0,Ae,Pe.K)){var ut,qt=Ye,mt=Pe,tn=1<<(8>>mt.b),Fn=s(tn);if(Fn==null)et=0;else{var Gt=mt.K[0],dt=mt.w;for(Fn[0]=mt.K[0][0],ut=1;ut<1*qt;++ut)Fn[ut]=de(Gt[dt+ut],Fn[ut-1]);for(;ut<4*tn;++ut)Fn[ut]=0;mt.K[0]=null,mt.K[0]=Fn,et=1}}Be=et;break;case 2:break;default:e(0)}H=Be}}if(G=G[0],Q=Q[0],H&&Y(te,1)&&!(H=1<=(Ce=Y(te,4))&&11>=Ce)){j.a=3;break e}var st;if(st=H)t:{var Gn,Mt,Kt,_n=j,Cr=G,Yr=Q,Dn=Ce,mr=E,ni=_n.m,gr=_n.s,en=[null],hn=1,Wn=0,bn=ea[Dn];n:for(;;){if(mr&&Y(ni,1)){var Tr=Y(ni,3)+2,Yn=Me(Cr,Tr),pn=Me(Yr,Tr),cr=Yn*pn;if(!fa(Yn,pn,0,_n,en))break n;for(en=en[0],gr.xc=Tr,Gn=0;Gn<cr;++Gn){var Sn=en[Gn]>>8&65535;en[Gn]=Sn,Sn>=hn&&(hn=Sn+1)}}if(ni.h)break n;for(Mt=0;5>Mt;++Mt){var vr=zo[Mt];!Mt&&0<Dn&&(vr+=1<<Dn),Wn<vr&&(Wn=vr)}var yr=l(hn*bn,J),Cn=hn,fn=l(Cn,we);if(fn==null)var ri=null;else e(65536>=Cn),ri=fn;var Qn=s(Wn);if(ri==null||Qn==null||yr==null){_n.a=1;break n}var jt=yr;for(Gn=Kt=0;Gn<hn;++Gn){var Rt=ri[Gn],mn=Rt.G,Si=Rt.H,ia=0,pi=1,br=0;for(Mt=0;5>Mt;++Mt){vr=zo[Mt],mn[Mt]=jt,Si[Mt]=Kt,!Mt&&0<Dn&&(vr+=1<<Dn);i:{var fo,ho=vr,zu=_n,Pn=Qn,of=jt,lf=Kt,qu=0,Ds=zu.m,g0=Y(Ds,1);if(a(Pn,0,0,ho),g0){var cf=Y(Ds,1)+1,uf=Y(Ds,1),Vu=Y(Ds,uf==0?1:8);Pn[Vu]=1,cf==2&&(Pn[Vu=Y(Ds,8)]=1);var Mr=1}else{var Zn=s(19),Uc=Y(Ds,4)+4;if(19<Uc){zu.a=3;var po=0;break i}for(fo=0;fo<Uc;++fo)Zn[Bc[fo]]=Y(Ds,3);var Rl=void 0,Ho=void 0,Za=zu,Hu=Zn,Ol=ho,$u=Pn,Gu=0,Ps=Za.m,df=8,ff=l(128,J);r:for(;I(ff,0,7,Hu,19);){if(Y(Ps,1)){var Gh=2+2*Y(Ps,3);if((Rl=2+Y(Ps,Gh))>Ol)break r}else Rl=Ol;for(Ho=0;Ho<Ol&&Rl--;){he(Ps);var hf=ff[0+(127&Z(Ps))];ue(Ps,Ps.u+hf.g);var mo=hf.value;if(16>mo)$u[Ho++]=mo,mo!=0&&(df=mo);else{var Wh=mo==16,Yh=mo-16,Kh=Tl[Yh],pf=Y(Ps,Qi[Yh])+Kh;if(Ho+pf>Ol)break r;for(var Xh=Wh?df:0;0<pf--;)$u[Ho++]=Xh}}Gu=1;break r}Gu||(Za.a=3),Mr=Gu}(Mr=Mr&&!Ds.h)&&(qu=I(of,lf,8,Pn,ho)),Mr&&qu!=0?po=qu:(zu.a=3,po=0)}if(po==0)break n;if(pi&&Pu[Mt]==1&&(pi=jt[Kt].g==0),ia+=jt[Kt].g,Kt+=po,3>=Mt){var $o,Wu=Qn[0];for($o=1;$o<vr;++$o)Qn[$o]>Wu&&(Wu=Qn[$o]);br+=Wu}}if(Rt.nd=pi,Rt.Qb=0,pi&&(Rt.qb=(mn[3][Si[3]+0].value<<24|mn[1][Si[1]+0].value<<16|mn[2][Si[2]+0].value)>>>0,ia==0&&256>mn[0][Si[0]+0].value&&(Rt.Qb=1,Rt.qb+=mn[0][Si[0]+0].value<<8)),Rt.jc=!Rt.Qb&&6>br,Rt.jc){var zc,es=Rt;for(zc=0;zc<ro;++zc){var Ms=zc,Bs=es.pd[Ms],Yu=es.G[0][es.H[0]+Ms];256<=Yu.value?(Bs.g=Yu.g+256,Bs.value=Yu.value):(Bs.g=0,Bs.value=0,Ms>>=fr(Yu,8,Bs),Ms>>=fr(es.G[1][es.H[1]+Ms],16,Bs),Ms>>=fr(es.G[2][es.H[2]+Ms],0,Bs),fr(es.G[3][es.H[3]+Ms],24,Bs))}}}gr.vc=en,gr.Wb=hn,gr.Ya=ri,gr.yc=yr,st=1;break t}st=0}if(!(H=st)){j.a=3;break e}if(0<Ce){if(ae.ua=1<<Ce,!ee(ae.Wa,Ce)){j.a=1,H=0;break e}}else ae.ua=0;var Ku=j,Go=G,Jh=Q,Dl=Ku.s,Pl=Dl.xc;if(Ku.c=Go,Ku.i=Jh,Dl.md=Me(Go,Pl),Dl.wc=Pl==0?-1:(1<<Pl)-1,E){j.xb=so;break e}if((ge=s(G*Q))==null){j.a=1,H=0;break e}H=(H=Oi(j,ge,0,G,Q,Q,null))&&!te.h;break e}return H?(U!=null?U[0]=ge:(e(ge==null),e(E)),j.$=0,E||Gi(ae)):Gi(ae),H}function ha(m,x){var E=m.c*m.i,j=E+x+16*x;return e(m.c<=x),m.V=s(j),m.V==null?(m.Ta=null,m.Ua=0,m.a=1,0):(m.Ta=m.V,m.Ua=m.Ba+E+x,1)}function Qs(m,x){var E=m.C,j=x-E,U=m.V,H=m.Ba+m.c*E;for(e(x<=m.l.o);0<j;){var G=16<j?16:j,Q=m.l.ma,te=m.l.width,ae=te*G,ge=Q.ca,Ce=Q.tb+te*E,ie=m.Ta,xe=m.Ua;Js(m,G,U,H),Ui(ie,xe,ge,Ce,ae),Hn(Q,E,E+G,ge,Ce,te),j-=G,U+=G*m.c,E+=G}e(E==x),m.C=m.Ma=x}function pa(){this.ub=this.yd=this.td=this.Rb=0}function ma(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function jo(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function Ua(){this.Yb=(function(){var m=[];return(function x(E,j,U){for(var H=U[j],G=0;G<H&&(E.push(U.length>j+1?[]:0),!(U.length<j+1));G++)x(E[G],j+1,U)})(m,0,[3,11]),m})()}function ir(){this.jb=s(3),this.Wc=u([4,8],Ua),this.Xc=u([4,17],Ua)}function hc(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function Di(){this.ld=this.La=this.dd=this.tc=0}function ga(){this.Na=this.la=0}function hs(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function pc(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function mc(){this.uc=this.M=this.Nb=0,this.wa=Array(new Di),this.Y=0,this.ya=Array(new pc),this.aa=0,this.l=new ps}function gc(){this.y=s(16),this.f=s(8),this.ea=s(8)}function yu(){this.cb=this.a=0,this.sc="",this.m=new P,this.Od=new pa,this.Kc=new ma,this.ed=new hc,this.Qa=new jo,this.Ic=this.$c=this.Aa=0,this.D=new mc,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=l(8,P),this.ia=0,this.pb=l(4,hs),this.Pa=new ir,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new gc),this.Hd=0,this.rb=Array(new ga),this.sb=0,this.wa=Array(new Di),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new pc),this.L=this.aa=0,this.gd=u([4,2],Di),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Pi(m,x){return 0>m?0:m>x?x:m}function ps(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function va(){var m=new yu;return m!=null&&(m.a=0,m.sc="OK",m.cb=0,m.Xb=0,zi||(zi=Zs)),m}function vn(m,x,E){return m.a==0&&(m.a=x,m.sc=E,m.cb=0),0}function vc(m,x,E){return 3<=E&&m[x+0]==157&&m[x+1]==1&&m[x+2]==42}function za(m,x){if(m==null)return 0;if(m.a=0,m.sc="OK",x==null)return vn(m,2,"null VP8Io passed to VP8GetHeaders()");var E=x.data,j=x.w,U=x.ha;if(4>U)return vn(m,7,"Truncated header.");var H=E[j+0]|E[j+1]<<8|E[j+2]<<16,G=m.Od;if(G.Rb=!(1&H),G.td=H>>1&7,G.yd=H>>4&1,G.ub=H>>5,3<G.td)return vn(m,3,"Incorrect keyframe parameters.");if(!G.yd)return vn(m,4,"Frame not displayable.");j+=3,U-=3;var Q=m.Kc;if(G.Rb){if(7>U)return vn(m,7,"cannot parse picture header");if(!vc(E,j,U))return vn(m,3,"Bad code word");Q.c=16383&(E[j+4]<<8|E[j+3]),Q.Td=E[j+4]>>6,Q.i=16383&(E[j+6]<<8|E[j+5]),Q.Ud=E[j+6]>>6,j+=7,U-=7,m.za=Q.c+15>>4,m.Ub=Q.i+15>>4,x.width=Q.c,x.height=Q.i,x.Da=0,x.j=0,x.v=0,x.va=x.width,x.o=x.height,x.da=0,x.ib=x.width,x.hb=x.height,x.U=x.width,x.T=x.height,a((H=m.Pa).jb,0,255,H.jb.length),e((H=m.Qa)!=null),H.Cb=0,H.Bb=0,H.Fb=1,a(H.Zb,0,0,H.Zb.length),a(H.Lb,0,0,H.Lb)}if(G.ub>U)return vn(m,7,"bad partition length");re(H=m.m,E,j,G.ub),j+=G.ub,U-=G.ub,G.Rb&&(Q.Ld=be(H),Q.Kd=be(H)),Q=m.Qa;var te,ae=m.Pa;if(e(H!=null),e(Q!=null),Q.Cb=be(H),Q.Cb){if(Q.Bb=be(H),be(H)){for(Q.Fb=be(H),te=0;4>te;++te)Q.Zb[te]=be(H)?ce(H,7):0;for(te=0;4>te;++te)Q.Lb[te]=be(H)?ce(H,6):0}if(Q.Bb)for(te=0;3>te;++te)ae.jb[te]=be(H)?le(H,8):255}else Q.Bb=0;if(H.Ka)return vn(m,3,"cannot parse segment header");if((Q=m.ed).zd=be(H),Q.Tb=le(H,6),Q.wb=le(H,3),Q.Pc=be(H),Q.Pc&&be(H)){for(ae=0;4>ae;++ae)be(H)&&(Q.vd[ae]=ce(H,6));for(ae=0;4>ae;++ae)be(H)&&(Q.od[ae]=ce(H,6))}if(m.L=Q.Tb==0?0:Q.zd?1:2,H.Ka)return vn(m,3,"cannot parse filter header");var ge=U;if(U=te=j,j=te+ge,Q=ge,m.Xb=(1<<le(m.m,2))-1,ge<3*(ae=m.Xb))E=7;else{for(te+=3*ae,Q-=3*ae,ge=0;ge<ae;++ge){var Ce=E[U+0]|E[U+1]<<8|E[U+2]<<16;Ce>Q&&(Ce=Q),re(m.Jc[+ge],E,te,Ce),te+=Ce,Q-=Ce,U+=3}re(m.Jc[+ae],E,te,Q),E=te<j?0:5}if(E!=0)return vn(m,E,"cannot parse partitions");for(E=le(te=m.m,7),U=be(te)?ce(te,4):0,j=be(te)?ce(te,4):0,Q=be(te)?ce(te,4):0,ae=be(te)?ce(te,4):0,te=be(te)?ce(te,4):0,ge=m.Qa,Ce=0;4>Ce;++Ce){if(ge.Cb){var ie=ge.Zb[Ce];ge.Fb||(ie+=E)}else{if(0<Ce){m.pb[Ce]=m.pb[0];continue}ie=E}var xe=m.pb[Ce];xe.Sc[0]=ta[Pi(ie+U,127)],xe.Sc[1]=na[Pi(ie+0,127)],xe.Eb[0]=2*ta[Pi(ie+j,127)],xe.Eb[1]=101581*na[Pi(ie+Q,127)]>>16,8>xe.Eb[1]&&(xe.Eb[1]=8),xe.Qc[0]=ta[Pi(ie+ae,117)],xe.Qc[1]=na[Pi(ie+te,127)],xe.lc=ie+te}if(!G.Rb)return vn(m,4,"Not a key frame.");for(be(H),G=m.Pa,E=0;4>E;++E){for(U=0;8>U;++U)for(j=0;3>j;++j)for(Q=0;11>Q;++Q)ae=je(H,In[E][U][j][Q])?le(H,8):Hh[E][U][j][Q],G.Wc[E][U].Yb[j][Q]=ae;for(U=0;17>U;++U)G.Xc[E][U]=G.Wc[E][nn[U]]}return m.kc=be(H),m.kc&&(m.Bd=le(H,8)),m.cb=1}function Zs(m,x,E,j,U,H,G){var Q=x[U].Yb[E];for(E=0;16>U;++U){if(!je(m,Q[E+0]))return U;for(;!je(m,Q[E+1]);)if(Q=x[++U].Yb[0],E=0,U==16)return 16;var te=x[U+1].Yb;if(je(m,Q[E+2])){var ae=m,ge=0;if(je(ae,(ie=Q)[(Ce=E)+3]))if(je(ae,ie[Ce+6])){for(Q=0,Ce=2*(ge=je(ae,ie[Ce+8]))+(ie=je(ae,ie[Ce+9+ge])),ge=0,ie=Vh[Ce];ie[Q];++Q)ge+=ge+je(ae,ie[Q]);ge+=3+(8<<Ce)}else je(ae,ie[Ce+7])?(ge=7+2*je(ae,165),ge+=je(ae,145)):ge=5+je(ae,159);else ge=je(ae,ie[Ce+4])?3+je(ae,ie[Ce+5]):2;Q=te[2]}else ge=1,Q=te[1];te=G+rf[U],0>(ae=m).b&&ve(ae);var Ce,ie=ae.b,xe=(Ce=ae.Ca>>1)-(ae.I>>ie)>>31;--ae.b,ae.Ca+=xe,ae.Ca|=1,ae.I-=(Ce+1&xe)<<ie,H[te]=((ge^xe)-xe)*j[(0<U)+0]}return 16}function yc(m){var x=m.rb[m.sb-1];x.la=0,x.Na=0,a(m.zc,0,0,m.zc.length),m.ja=0}function ci(m,x,E,j,U){U=m[x+E+32*j]+(U>>3),m[x+E+32*j]=-256&U?0>U?0:255:U}function Nr(m,x,E,j,U,H){ci(m,x,0,E,j+U),ci(m,x,1,E,j+H),ci(m,x,2,E,j-H),ci(m,x,3,E,j-U)}function hr(m){return(20091*m>>16)+m}function ml(m,x,E,j){var U,H=0,G=s(16);for(U=0;4>U;++U){var Q=m[x+0]+m[x+8],te=m[x+0]-m[x+8],ae=(35468*m[x+4]>>16)-hr(m[x+12]),ge=hr(m[x+4])+(35468*m[x+12]>>16);G[H+0]=Q+ge,G[H+1]=te+ae,G[H+2]=te-ae,G[H+3]=Q-ge,H+=4,x++}for(U=H=0;4>U;++U)Q=(m=G[H+0]+4)+G[H+8],te=m-G[H+8],ae=(35468*G[H+4]>>16)-hr(G[H+12]),ci(E,j,0,0,Q+(ge=hr(G[H+4])+(35468*G[H+12]>>16))),ci(E,j,1,0,te+ae),ci(E,j,2,0,te-ae),ci(E,j,3,0,Q-ge),H++,j+=32}function bu(m,x,E,j){var U=m[x+0]+4,H=35468*m[x+4]>>16,G=hr(m[x+4]),Q=35468*m[x+1]>>16;Nr(E,j,0,U+G,m=hr(m[x+1]),Q),Nr(E,j,1,U+H,m,Q),Nr(E,j,2,U-H,m,Q),Nr(E,j,3,U-G,m,Q)}function bc(m,x,E,j,U){ml(m,x,E,j),U&&ml(m,x+16,E,j+4)}function ui(m,x,E,j){Ls(m,x+0,E,j,1),Ls(m,x+32,E,j+128,1)}function wc(m,x,E,j){var U;for(m=m[x+0]+4,U=0;4>U;++U)for(x=0;4>x;++x)ci(E,j,x,U,m)}function xc(m,x,E,j){m[x+0]&&yn(m,x+0,E,j),m[x+16]&&yn(m,x+16,E,j+4),m[x+32]&&yn(m,x+32,E,j+128),m[x+48]&&yn(m,x+48,E,j+128+4)}function ya(m,x,E,j){var U,H=s(16);for(U=0;4>U;++U){var G=m[x+0+U]+m[x+12+U],Q=m[x+4+U]+m[x+8+U],te=m[x+4+U]-m[x+8+U],ae=m[x+0+U]-m[x+12+U];H[0+U]=G+Q,H[8+U]=G-Q,H[4+U]=ae+te,H[12+U]=ae-te}for(U=0;4>U;++U)G=(m=H[0+4*U]+3)+H[3+4*U],Q=H[1+4*U]+H[2+4*U],te=H[1+4*U]-H[2+4*U],ae=m-H[3+4*U],E[j+0]=G+Q>>3,E[j+16]=ae+te>>3,E[j+32]=G-Q>>3,E[j+48]=ae-te>>3,j+=64}function ko(m,x,E){var j,U=x-32,H=ei,G=255-m[U-1];for(j=0;j<E;++j){var Q,te=H,ae=G+m[x-1];for(Q=0;Q<E;++Q)m[x+Q]=te[ae+m[U+Q]];x+=32}}function wu(m,x){ko(m,x,4)}function xu(m,x){ko(m,x,8)}function _c(m,x){ko(m,x,16)}function Sc(m,x){var E;for(E=0;16>E;++E)r(m,x+32*E,m,x-32,16)}function _u(m,x){var E;for(E=16;0<E;--E)a(m,x,m[x-1],16),x+=32}function xi(m,x,E){var j;for(j=0;16>j;++j)a(x,E+32*j,m,16)}function ba(m,x){var E,j=16;for(E=0;16>E;++E)j+=m[x-1+32*E]+m[x+E-32];xi(j>>5,m,x)}function ms(m,x){var E,j=8;for(E=0;16>E;++E)j+=m[x-1+32*E];xi(j>>4,m,x)}function Lo(m,x){var E,j=8;for(E=0;16>E;++E)j+=m[x+E-32];xi(j>>4,m,x)}function eo(m,x){xi(128,m,x)}function Pt(m,x,E){return m+2*x+E+2>>2}function Su(m,x){var E,j=x-32;for(j=new Uint8Array([Pt(m[j-1],m[j+0],m[j+1]),Pt(m[j+0],m[j+1],m[j+2]),Pt(m[j+1],m[j+2],m[j+3]),Pt(m[j+2],m[j+3],m[j+4])]),E=0;4>E;++E)r(m,x+32*E,j,0,j.length)}function Ac(m,x){var E=m[x-1],j=m[x-1+32],U=m[x-1+64],H=m[x-1+96];Oe(m,x+0,16843009*Pt(m[x-1-32],E,j)),Oe(m,x+32,16843009*Pt(E,j,U)),Oe(m,x+64,16843009*Pt(j,U,H)),Oe(m,x+96,16843009*Pt(U,H,H))}function Au(m,x){var E,j=4;for(E=0;4>E;++E)j+=m[x+E-32]+m[x-1+32*E];for(j>>=3,E=0;4>E;++E)a(m,x+32*E,j,4)}function Mi(m,x){var E=m[x-1+0],j=m[x-1+32],U=m[x-1+64],H=m[x-1-32],G=m[x+0-32],Q=m[x+1-32],te=m[x+2-32],ae=m[x+3-32];m[x+0+96]=Pt(j,U,m[x-1+96]),m[x+1+96]=m[x+0+64]=Pt(E,j,U),m[x+2+96]=m[x+1+64]=m[x+0+32]=Pt(H,E,j),m[x+3+96]=m[x+2+64]=m[x+1+32]=m[x+0+0]=Pt(G,H,E),m[x+3+64]=m[x+2+32]=m[x+1+0]=Pt(Q,G,H),m[x+3+32]=m[x+2+0]=Pt(te,Q,G),m[x+3+0]=Pt(ae,te,Q)}function zr(m,x){var E=m[x+1-32],j=m[x+2-32],U=m[x+3-32],H=m[x+4-32],G=m[x+5-32],Q=m[x+6-32],te=m[x+7-32];m[x+0+0]=Pt(m[x+0-32],E,j),m[x+1+0]=m[x+0+32]=Pt(E,j,U),m[x+2+0]=m[x+1+32]=m[x+0+64]=Pt(j,U,H),m[x+3+0]=m[x+2+32]=m[x+1+64]=m[x+0+96]=Pt(U,H,G),m[x+3+32]=m[x+2+64]=m[x+1+96]=Pt(H,G,Q),m[x+3+64]=m[x+2+96]=Pt(G,Q,te),m[x+3+96]=Pt(Q,te,te)}function Nc(m,x){var E=m[x-1+0],j=m[x-1+32],U=m[x-1+64],H=m[x-1-32],G=m[x+0-32],Q=m[x+1-32],te=m[x+2-32],ae=m[x+3-32];m[x+0+0]=m[x+1+64]=H+G+1>>1,m[x+1+0]=m[x+2+64]=G+Q+1>>1,m[x+2+0]=m[x+3+64]=Q+te+1>>1,m[x+3+0]=te+ae+1>>1,m[x+0+96]=Pt(U,j,E),m[x+0+64]=Pt(j,E,H),m[x+0+32]=m[x+1+96]=Pt(E,H,G),m[x+1+32]=m[x+2+96]=Pt(H,G,Q),m[x+2+32]=m[x+3+96]=Pt(G,Q,te),m[x+3+32]=Pt(Q,te,ae)}function Ro(m,x){var E=m[x+0-32],j=m[x+1-32],U=m[x+2-32],H=m[x+3-32],G=m[x+4-32],Q=m[x+5-32],te=m[x+6-32],ae=m[x+7-32];m[x+0+0]=E+j+1>>1,m[x+1+0]=m[x+0+64]=j+U+1>>1,m[x+2+0]=m[x+1+64]=U+H+1>>1,m[x+3+0]=m[x+2+64]=H+G+1>>1,m[x+0+32]=Pt(E,j,U),m[x+1+32]=m[x+0+96]=Pt(j,U,H),m[x+2+32]=m[x+1+96]=Pt(U,H,G),m[x+3+32]=m[x+2+96]=Pt(H,G,Q),m[x+3+64]=Pt(G,Q,te),m[x+3+96]=Pt(Q,te,ae)}function Bi(m,x){var E=m[x-1+0],j=m[x-1+32],U=m[x-1+64],H=m[x-1+96];m[x+0+0]=E+j+1>>1,m[x+2+0]=m[x+0+32]=j+U+1>>1,m[x+2+32]=m[x+0+64]=U+H+1>>1,m[x+1+0]=Pt(E,j,U),m[x+3+0]=m[x+1+32]=Pt(j,U,H),m[x+3+32]=m[x+1+64]=Pt(U,H,H),m[x+3+64]=m[x+2+64]=m[x+0+96]=m[x+1+96]=m[x+2+96]=m[x+3+96]=H}function Oo(m,x){var E=m[x-1+0],j=m[x-1+32],U=m[x-1+64],H=m[x-1+96],G=m[x-1-32],Q=m[x+0-32],te=m[x+1-32],ae=m[x+2-32];m[x+0+0]=m[x+2+32]=E+G+1>>1,m[x+0+32]=m[x+2+64]=j+E+1>>1,m[x+0+64]=m[x+2+96]=U+j+1>>1,m[x+0+96]=H+U+1>>1,m[x+3+0]=Pt(Q,te,ae),m[x+2+0]=Pt(G,Q,te),m[x+1+0]=m[x+3+32]=Pt(E,G,Q),m[x+1+32]=m[x+3+64]=Pt(j,E,G),m[x+1+64]=m[x+3+96]=Pt(U,j,E),m[x+1+96]=Pt(H,U,j)}function qa(m,x){var E;for(E=0;8>E;++E)r(m,x+32*E,m,x-32,8)}function Nu(m,x){var E;for(E=0;8>E;++E)a(m,x,m[x-1],8),x+=32}function Wi(m,x,E){var j;for(j=0;8>j;++j)a(x,E+32*j,m,8)}function gl(m,x){var E,j=8;for(E=0;8>E;++E)j+=m[x+E-32]+m[x-1+32*E];Wi(j>>4,m,x)}function vl(m,x){var E,j=4;for(E=0;8>E;++E)j+=m[x+E-32];Wi(j>>3,m,x)}function Dr(m,x){var E,j=4;for(E=0;8>E;++E)j+=m[x-1+32*E];Wi(j>>3,m,x)}function Va(m,x){Wi(128,m,x)}function Yi(m,x,E){var j=m[x-E],U=m[x+0],H=3*(U-j)+Rs[1020+m[x-2*E]-m[x+E]],G=Dc[112+(H+4>>3)];m[x-E]=ei[255+j+Dc[112+(H+3>>3)]],m[x+0]=ei[255+U-G]}function gs(m,x,E,j){var U=m[x+0],H=m[x+E];return Hr[255+m[x-2*E]-m[x-E]]>j||Hr[255+H-U]>j}function yl(m,x,E,j){return 4*Hr[255+m[x-E]-m[x+0]]+Hr[255+m[x-2*E]-m[x+E]]<=j}function Do(m,x,E,j,U){var H=m[x-3*E],G=m[x-2*E],Q=m[x-E],te=m[x+0],ae=m[x+E],ge=m[x+2*E],Ce=m[x+3*E];return 4*Hr[255+Q-te]+Hr[255+G-ae]>j?0:Hr[255+m[x-4*E]-H]<=U&&Hr[255+H-G]<=U&&Hr[255+G-Q]<=U&&Hr[255+Ce-ge]<=U&&Hr[255+ge-ae]<=U&&Hr[255+ae-te]<=U}function vs(m,x,E,j){var U=2*j+1;for(j=0;16>j;++j)yl(m,x+j,E,U)&&Yi(m,x+j,E)}function ys(m,x,E,j){var U=2*j+1;for(j=0;16>j;++j)yl(m,x+j*E,1,U)&&Yi(m,x+j*E,1)}function Po(m,x,E,j){var U;for(U=3;0<U;--U)vs(m,x+=4*E,E,j)}function Ec(m,x,E,j){var U;for(U=3;0<U;--U)ys(m,x+=4,E,j)}function bs(m,x,E,j,U,H,G,Q){for(H=2*H+1;0<U--;){if(Do(m,x,E,H,G))if(gs(m,x,E,Q))Yi(m,x,E);else{var te=m,ae=x,ge=E,Ce=te[ae-2*ge],ie=te[ae-ge],xe=te[ae+0],Ae=te[ae+ge],Be=te[ae+2*ge],Ee=27*(ze=Rs[1020+3*(xe-ie)+Rs[1020+Ce-Ae]])+63>>7,Pe=18*ze+63>>7,ze=9*ze+63>>7;te[ae-3*ge]=ei[255+te[ae-3*ge]+ze],te[ae-2*ge]=ei[255+Ce+Pe],te[ae-ge]=ei[255+ie+Ee],te[ae+0]=ei[255+xe-Ee],te[ae+ge]=ei[255+Ae-Pe],te[ae+2*ge]=ei[255+Be-ze]}x+=j}}function ws(m,x,E,j,U,H,G,Q){for(H=2*H+1;0<U--;){if(Do(m,x,E,H,G))if(gs(m,x,E,Q))Yi(m,x,E);else{var te=m,ae=x,ge=E,Ce=te[ae-ge],ie=te[ae+0],xe=te[ae+ge],Ae=Dc[112+(4+(Be=3*(ie-Ce))>>3)],Be=Dc[112+(Be+3>>3)],Ee=Ae+1>>1;te[ae-2*ge]=ei[255+te[ae-2*ge]+Ee],te[ae-ge]=ei[255+Ce+Be],te[ae+0]=ei[255+ie-Ae],te[ae+ge]=ei[255+xe-Ee]}x+=j}}function Eu(m,x,E,j,U,H){bs(m,x,E,1,16,j,U,H)}function xs(m,x,E,j,U,H){bs(m,x,1,E,16,j,U,H)}function Cu(m,x,E,j,U,H){var G;for(G=3;0<G;--G)ws(m,x+=4*E,E,1,16,j,U,H)}function S(m,x,E,j,U,H){var G;for(G=3;0<G;--G)ws(m,x+=4,1,E,16,j,U,H)}function F(m,x,E,j,U,H,G,Q){bs(m,x,U,1,8,H,G,Q),bs(E,j,U,1,8,H,G,Q)}function oe(m,x,E,j,U,H,G,Q){bs(m,x,1,U,8,H,G,Q),bs(E,j,1,U,8,H,G,Q)}function pe(m,x,E,j,U,H,G,Q){ws(m,x+4*U,U,1,8,H,G,Q),ws(E,j+4*U,U,1,8,H,G,Q)}function _e(m,x,E,j,U,H,G,Q){ws(m,x+4,1,U,8,H,G,Q),ws(E,j+4,1,U,8,H,G,Q)}function Ue(){this.ba=new Lt,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Ht,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Xe(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function gt(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function wt(){this.ua=0,this.Wa=new St,this.vb=new St,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new we,this.yc=new J}function It(){this.xb=this.a=0,this.l=new ps,this.ca=new Lt,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new z,this.Pb=0,this.wd=new z,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new wt,this.ab=0,this.gc=l(4,gt),this.Oc=0}function $t(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new ps,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function un(m,x,E,j,U,H,G){for(m=m==null?0:m[x+0],x=0;x<G;++x)U[H+x]=m+E[j+x]&255,m=U[H+x]}function $n(m,x,E,j,U,H,G){var Q;if(m==null)un(null,null,E,j,U,H,G);else for(Q=0;Q<G;++Q)U[H+Q]=m[x+Q]+E[j+Q]&255}function ar(m,x,E,j,U,H,G){if(m==null)un(null,null,E,j,U,H,G);else{var Q,te=m[x+0],ae=te,ge=te;for(Q=0;Q<G;++Q)ae=ge+(te=m[x+Q])-ae,ge=E[j+Q]+(-256&ae?0>ae?0:255:ae)&255,ae=te,U[H+Q]=ge}}function Rn(m,x,E,j){var U=x.width,H=x.o;if(e(m!=null&&x!=null),0>E||0>=j||E+j>H)return null;if(!m.Cc){if(m.ga==null){var G;if(m.ga=new $t,(G=m.ga==null)||(G=x.width*x.o,e(m.Gb.length==0),m.Gb=s(G),m.Uc=0,m.Gb==null?G=0:(m.mb=m.Gb,m.nb=m.Uc,m.rc=null,G=1),G=!G),!G){G=m.ga;var Q=m.Fa,te=m.P,ae=m.qc,ge=m.mb,Ce=m.nb,ie=te+1,xe=ae-1,Ae=G.l;if(e(Q!=null&&ge!=null&&x!=null),Os[0]=null,Os[1]=un,Os[2]=$n,Os[3]=ar,G.ca=ge,G.tb=Ce,G.c=x.width,G.i=x.height,e(0<G.c&&0<G.i),1>=ae)x=0;else if(G.$a=3&Q[te+0],G.Z=Q[te+0]>>2&3,G.Lc=Q[te+0]>>4&3,te=Q[te+0]>>6&3,0>G.$a||1<G.$a||4<=G.Z||1<G.Lc||te)x=0;else if(Ae.put=Tt,Ae.ac=$i,Ae.bc=fs,Ae.ma=G,Ae.width=x.width,Ae.height=x.height,Ae.Da=x.Da,Ae.v=x.v,Ae.va=x.va,Ae.j=x.j,Ae.o=x.o,G.$a)e:{e(G.$a==1),x=To();t:for(;;){if(x==null){x=0;break e}if(e(G!=null),G.mc=x,x.c=G.c,x.i=G.i,x.l=G.l,x.l.ma=G,x.l.width=G.c,x.l.height=G.i,x.a=0,me(x.m,Q,ie,xe),!fa(G.c,G.i,1,x,null)||(x.ab==1&&x.gc[0].hc==3&&En(x.s)?(G.ic=1,Q=x.c*x.i,x.Ta=null,x.Ua=0,x.V=s(Q),x.Ba=0,x.V==null?(x.a=1,x=0):x=1):(G.ic=0,x=ha(x,G.c)),!x))break t;x=1;break e}G.mc=null,x=0}else x=xe>=G.c*G.i;G=!x}if(G)return null;m.ga.Lc!=1?m.Ga=0:j=H-E}e(m.ga!=null),e(E+j<=H);e:{if(x=(Q=m.ga).c,H=Q.l.o,Q.$a==0){if(ie=m.rc,xe=m.Vc,Ae=m.Fa,te=m.P+1+E*x,ae=m.mb,ge=m.nb+E*x,e(te<=m.P+m.qc),Q.Z!=0)for(e(Os[Q.Z]!=null),G=0;G<j;++G)Os[Q.Z](ie,xe,Ae,te,ae,ge,x),ie=ae,xe=ge,ge+=x,te+=x;else for(G=0;G<j;++G)r(ae,ge,Ae,te,x),ie=ae,xe=ge,ge+=x,te+=x;m.rc=ie,m.Vc=xe}else{if(e(Q.mc!=null),x=E+j,e((G=Q.mc)!=null),e(x<=G.i),G.C>=x)x=1;else if(Q.ic||wa(),Q.ic){Q=G.V,ie=G.Ba,xe=G.c;var Be=G.i,Ee=(Ae=1,te=G.$/xe,ae=G.$%xe,ge=G.m,Ce=G.s,G.$),Pe=xe*Be,ze=xe*x,et=Ce.wc,Ye=Ee<ze?Or(Ce,ae,te):null;e(Ee<=Pe),e(x<=Be),e(En(Ce));t:for(;;){for(;!ge.h&&Ee<ze;){if(ae&et||(Ye=Or(Ce,ae,te)),e(Ye!=null),he(ge),256>(Be=qn(Ye.G[0],Ye.H[0],ge)))Q[ie+Ee]=Be,++Ee,++ae>=xe&&(ae=0,++te<=x&&!(te%16)&&Qr(G,te));else{if(!(280>Be)){Ae=0;break t}Be=Li(Be-256,ge);var yt,ut=qn(Ye.G[4],Ye.H[4],ge);if(he(ge),!(Ee>=(ut=Ri(xe,ut=Li(ut,ge)))&&Pe-Ee>=Be)){Ae=0;break t}for(yt=0;yt<Be;++yt)Q[ie+Ee+yt]=Q[ie+Ee+yt-ut];for(Ee+=Be,ae+=Be;ae>=xe;)ae-=xe,++te<=x&&!(te%16)&&Qr(G,te);Ee<ze&&ae&et&&(Ye=Or(Ce,ae,te))}e(ge.h==se(ge))}Qr(G,te>x?x:te);break t}!Ae||ge.h&&Ee<Pe?(Ae=0,G.a=ge.h?5:3):G.$=Ee,x=Ae}else x=Oi(G,G.V,G.Ba,G.c,G.i,x,Qs);if(!x){j=0;break e}}E+j>=H&&(m.Cc=1),j=1}if(!j)return null;if(m.Cc&&((j=m.ga)!=null&&(j.mc=null),m.ga=null,0<m.Ga))return alert("todo:WebPDequantizeLevels"),null}return m.nb+E*U}function Er(m,x,E,j,U,H){for(;0<U--;){var G,Q=m,te=x+(E?1:0),ae=m,ge=x+(E?0:3);for(G=0;G<j;++G){var Ce=ae[ge+4*G];Ce!=255&&(Ce*=32897,Q[te+4*G+0]=Q[te+4*G+0]*Ce>>23,Q[te+4*G+1]=Q[te+4*G+1]*Ce>>23,Q[te+4*G+2]=Q[te+4*G+2]*Ce>>23)}x+=H}}function pr(m,x,E,j,U){for(;0<j--;){var H;for(H=0;H<E;++H){var G=m[x+2*H+0],Q=15&(ae=m[x+2*H+1]),te=4369*Q,ae=(240&ae|ae>>4)*te>>16;m[x+2*H+0]=(240&G|G>>4)*te>>16&240|(15&G|G<<4)*te>>16>>4&15,m[x+2*H+1]=240&ae|Q}x+=U}}function qr(m,x,E,j,U,H,G,Q){var te,ae,ge=255;for(ae=0;ae<U;++ae){for(te=0;te<j;++te){var Ce=m[x+te];H[G+4*te]=Ce,ge&=Ce}x+=E,G+=Q}return ge!=255}function _s(m,x,E,j,U){var H;for(H=0;H<U;++H)E[j+H]=m[x+H]>>8}function wa(){Fo=Er,Xi=pr,Lc=qr,Ui=_s}function Ss(m,x,E){L[m]=function(j,U,H,G,Q,te,ae,ge,Ce,ie,xe,Ae,Be,Ee,Pe,ze,et){var Ye,yt=et-1>>1,ut=Q[te+0]|ae[ge+0]<<16,qt=Ce[ie+0]|xe[Ae+0]<<16;e(j!=null);var mt=3*ut+qt+131074>>2;for(x(j[U+0],255&mt,mt>>16,Be,Ee),H!=null&&(mt=3*qt+ut+131074>>2,x(H[G+0],255&mt,mt>>16,Pe,ze)),Ye=1;Ye<=yt;++Ye){var tn=Q[te+Ye]|ae[ge+Ye]<<16,Fn=Ce[ie+Ye]|xe[Ae+Ye]<<16,Gt=ut+tn+qt+Fn+524296,dt=Gt+2*(tn+qt)>>3;mt=dt+ut>>1,ut=(Gt=Gt+2*(ut+Fn)>>3)+tn>>1,x(j[U+2*Ye-1],255&mt,mt>>16,Be,Ee+(2*Ye-1)*E),x(j[U+2*Ye-0],255&ut,ut>>16,Be,Ee+(2*Ye-0)*E),H!=null&&(mt=Gt+qt>>1,ut=dt+Fn>>1,x(H[G+2*Ye-1],255&mt,mt>>16,Pe,ze+(2*Ye-1)*E),x(H[G+2*Ye+0],255&ut,ut>>16,Pe,ze+(2*Ye+0)*E)),ut=tn,qt=Fn}1&et||(mt=3*ut+qt+131074>>2,x(j[U+et-1],255&mt,mt>>16,Be,Ee+(et-1)*E),H!=null&&(mt=3*qt+ut+131074>>2,x(H[G+et-1],255&mt,mt>>16,Pe,ze+(et-1)*E)))}}function Cc(){Gr[Lu]=qo,Gr[ti]=jl,Gr[Ru]=sf,Gr[Ji]=Bu,Gr[Pc]=oo,Gr[El]=Qa,Gr[io]=lo,Gr[Mc]=jl,Gr[Ou]=Bu,Gr[Cl]=oo,Gr[Du]=Qa}function bl(m){return m&-16384?0>m?0:255:m>>Iu}function Ha(m,x){return bl((19077*m>>8)+(26149*x>>8)-14234)}function xa(m,x,E){return bl((19077*m>>8)-(6419*x>>8)-(13320*E>>8)+8708)}function Mo(m,x){return bl((19077*m>>8)+(33050*x>>8)-17685)}function As(m,x,E,j,U){j[U+0]=Ha(m,E),j[U+1]=xa(m,x,E),j[U+2]=Mo(m,x)}function Pr(m,x,E,j,U){j[U+0]=Mo(m,x),j[U+1]=xa(m,x,E),j[U+2]=Ha(m,E)}function to(m,x,E,j,U){var H=xa(m,x,E);x=H<<3&224|Mo(m,x)>>3,j[U+0]=248&Ha(m,E)|H>>5,j[U+1]=x}function no(m,x,E,j,U){var H=240&Mo(m,x)|15;j[U+0]=240&Ha(m,E)|xa(m,x,E)>>4,j[U+1]=H}function wl(m,x,E,j,U){j[U+0]=255,As(m,x,E,j,U+1)}function $a(m,x,E,j,U){Pr(m,x,E,j,U),j[U+3]=255}function di(m,x,E,j,U){As(m,x,E,j,U),j[U+3]=255}function Ns(m,x,E){L[m]=function(j,U,H,G,Q,te,ae,ge,Ce){for(var ie=ge+(-2&Ce)*E;ge!=ie;)x(j[U+0],H[G+0],Q[te+0],ae,ge),x(j[U+1],H[G+0],Q[te+0],ae,ge+E),U+=2,++G,++te,ge+=2*E;1&Ce&&x(j[U+0],H[G+0],Q[te+0],ae,ge)}}function xl(m,x,E){return E==0?m==0?x==0?6:5:x==0?4:0:E}function Tc(m,x,E,j,U){switch(m>>>30){case 3:Ls(x,E,j,U,0);break;case 2:Zr(x,E,j,U);break;case 1:yn(x,E,j,U)}}function Ii(m,x){var E,j,U=x.M,H=x.Nb,G=m.oc,Q=m.pc+40,te=m.oc,ae=m.pc+584,ge=m.oc,Ce=m.pc+600;for(E=0;16>E;++E)G[Q+32*E-1]=129;for(E=0;8>E;++E)te[ae+32*E-1]=129,ge[Ce+32*E-1]=129;for(0<U?G[Q-1-32]=te[ae-1-32]=ge[Ce-1-32]=129:(a(G,Q-32-1,127,21),a(te,ae-32-1,127,9),a(ge,Ce-32-1,127,9)),j=0;j<m.za;++j){var ie=x.ya[x.aa+j];if(0<j){for(E=-1;16>E;++E)r(G,Q+32*E-4,G,Q+32*E+12,4);for(E=-1;8>E;++E)r(te,ae+32*E-4,te,ae+32*E+4,4),r(ge,Ce+32*E-4,ge,Ce+32*E+4,4)}var xe=m.Gd,Ae=m.Hd+j,Be=ie.ad,Ee=ie.Hc;if(0<U&&(r(G,Q-32,xe[Ae].y,0,16),r(te,ae-32,xe[Ae].f,0,8),r(ge,Ce-32,xe[Ae].ea,0,8)),ie.Za){var Pe=G,ze=Q-32+16;for(0<U&&(j>=m.za-1?a(Pe,ze,xe[Ae].y[15],4):r(Pe,ze,xe[Ae+1].y,0,4)),E=0;4>E;E++)Pe[ze+128+E]=Pe[ze+256+E]=Pe[ze+384+E]=Pe[ze+0+E];for(E=0;16>E;++E,Ee<<=2)Pe=G,ze=Q+lr[E],Jn[ie.Ob[E]](Pe,ze),Tc(Ee,Be,16*+E,Pe,ze)}else if(Pe=xl(j,U,ie.Ob[0]),hi[Pe](G,Q),Ee!=0)for(E=0;16>E;++E,Ee<<=2)Tc(Ee,Be,16*+E,G,Q+lr[E]);for(E=ie.Gc,Pe=xl(j,U,ie.Dd),Na[Pe](te,ae),Na[Pe](ge,Ce),Ee=Be,Pe=te,ze=ae,255&(ie=0|E)&&(170&ie?Ki(Ee,256,Pe,ze):dn(Ee,256,Pe,ze)),ie=ge,Ee=Ce,255&(E>>=8)&&(170&E?Ki(Be,320,ie,Ee):dn(Be,320,ie,Ee)),U<m.Ub-1&&(r(xe[Ae].y,0,G,Q+480,16),r(xe[Ae].f,0,te,ae+224,8),r(xe[Ae].ea,0,ge,Ce+224,8)),E=8*H*m.B,xe=m.sa,Ae=m.ta+16*j+16*H*m.R,Be=m.qa,ie=m.ra+8*j+E,Ee=m.Ha,Pe=m.Ia+8*j+E,E=0;16>E;++E)r(xe,Ae+E*m.R,G,Q+32*E,16);for(E=0;8>E;++E)r(Be,ie+E*m.B,te,ae+32*E,8),r(Ee,Pe+E*m.B,ge,Ce+32*E,8)}}function _a(m,x,E,j,U,H,G,Q,te){var ae=[0],ge=[0],Ce=0,ie=te!=null?te.kd:0,xe=te??new Xe;if(m==null||12>E)return 7;xe.data=m,xe.w=x,xe.ha=E,x=[x],E=[E],xe.gb=[xe.gb];e:{var Ae=x,Be=E,Ee=xe.gb;if(e(m!=null),e(Be!=null),e(Ee!=null),Ee[0]=0,12<=Be[0]&&!n(m,Ae[0],"RIFF")){if(n(m,Ae[0]+8,"WEBP")){Ee=3;break e}var Pe=nt(m,Ae[0]+4);if(12>Pe||4294967286<Pe){Ee=3;break e}if(ie&&Pe>Be[0]-8){Ee=7;break e}Ee[0]=Pe,Ae[0]+=12,Be[0]-=12}Ee=0}if(Ee!=0)return Ee;for(Pe=0<xe.gb[0],E=E[0];;){e:{var ze=m;Be=x,Ee=E;var et=ae,Ye=ge,yt=Ae=[0];if((mt=Ce=[Ce])[0]=0,8>Ee[0])Ee=7;else{if(!n(ze,Be[0],"VP8X")){if(nt(ze,Be[0]+4)!=10){Ee=3;break e}if(18>Ee[0]){Ee=7;break e}var ut=nt(ze,Be[0]+8),qt=1+Qe(ze,Be[0]+12);if(2147483648<=qt*(ze=1+Qe(ze,Be[0]+15))){Ee=3;break e}yt!=null&&(yt[0]=ut),et!=null&&(et[0]=qt),Ye!=null&&(Ye[0]=ze),Be[0]+=18,Ee[0]-=18,mt[0]=1}Ee=0}}if(Ce=Ce[0],Ae=Ae[0],Ee!=0)return Ee;if(Be=!!(2&Ae),!Pe&&Ce)return 3;if(H!=null&&(H[0]=!!(16&Ae)),G!=null&&(G[0]=Be),Q!=null&&(Q[0]=0),G=ae[0],Ae=ge[0],Ce&&Be&&te==null){Ee=0;break}if(4>E){Ee=7;break}if(Pe&&Ce||!Pe&&!Ce&&!n(m,x[0],"ALPH")){E=[E],xe.na=[xe.na],xe.P=[xe.P],xe.Sa=[xe.Sa];e:{ut=m,Ee=x,Pe=E;var mt=xe.gb;et=xe.na,Ye=xe.P,yt=xe.Sa,qt=22,e(ut!=null),e(Pe!=null),ze=Ee[0];var tn=Pe[0];for(e(et!=null),e(yt!=null),et[0]=null,Ye[0]=null,yt[0]=0;;){if(Ee[0]=ze,Pe[0]=tn,8>tn){Ee=7;break e}var Fn=nt(ut,ze+4);if(4294967286<Fn){Ee=3;break e}var Gt=8+Fn+1&-2;if(qt+=Gt,0<mt&&qt>mt){Ee=3;break e}if(!n(ut,ze,"VP8 ")||!n(ut,ze,"VP8L")){Ee=0;break e}if(tn[0]<Gt){Ee=7;break e}n(ut,ze,"ALPH")||(et[0]=ut,Ye[0]=ze+8,yt[0]=Fn),ze+=Gt,tn-=Gt}}if(E=E[0],xe.na=xe.na[0],xe.P=xe.P[0],xe.Sa=xe.Sa[0],Ee!=0)break}E=[E],xe.Ja=[xe.Ja],xe.xa=[xe.xa];e:if(mt=m,Ee=x,Pe=E,et=xe.gb[0],Ye=xe.Ja,yt=xe.xa,ut=Ee[0],ze=!n(mt,ut,"VP8 "),qt=!n(mt,ut,"VP8L"),e(mt!=null),e(Pe!=null),e(Ye!=null),e(yt!=null),8>Pe[0])Ee=7;else{if(ze||qt){if(mt=nt(mt,ut+4),12<=et&&mt>et-12){Ee=3;break e}if(ie&&mt>Pe[0]-8){Ee=7;break e}Ye[0]=mt,Ee[0]+=8,Pe[0]-=8,yt[0]=qt}else yt[0]=5<=Pe[0]&&mt[ut+0]==47&&!(mt[ut+4]>>5),Ye[0]=Pe[0];Ee=0}if(E=E[0],xe.Ja=xe.Ja[0],xe.xa=xe.xa[0],x=x[0],Ee!=0)break;if(4294967286<xe.Ja)return 3;if(Q==null||Be||(Q[0]=xe.xa?2:1),G=[G],Ae=[Ae],xe.xa){if(5>E){Ee=7;break}Q=G,ie=Ae,Be=H,m==null||5>E?m=0:5<=E&&m[x+0]==47&&!(m[x+4]>>5)?(Pe=[0],mt=[0],et=[0],me(Ye=new z,m,x,E),Fa(Ye,Pe,mt,et)?(Q!=null&&(Q[0]=Pe[0]),ie!=null&&(ie[0]=mt[0]),Be!=null&&(Be[0]=et[0]),m=1):m=0):m=0}else{if(10>E){Ee=7;break}Q=Ae,m==null||10>E||!vc(m,x+3,E-3)?m=0:(ie=m[x+0]|m[x+1]<<8|m[x+2]<<16,Be=16383&(m[x+7]<<8|m[x+6]),m=16383&(m[x+9]<<8|m[x+8]),1&ie||3<(ie>>1&7)||!(ie>>4&1)||ie>>5>=xe.Ja||!Be||!m?m=0:(G&&(G[0]=Be),Q&&(Q[0]=m),m=1))}if(!m||(G=G[0],Ae=Ae[0],Ce&&(ae[0]!=G||ge[0]!=Ae)))return 3;te!=null&&(te[0]=xe,te.offset=x-te.w,e(4294967286>x-te.w),e(te.offset==te.ha-E));break}return Ee==0||Ee==7&&Ce&&te==null?(H!=null&&(H[0]|=xe.na!=null&&0<xe.na.length),j!=null&&(j[0]=G),U!=null&&(U[0]=Ae),0):Ee}function Es(m,x,E){var j=x.width,U=x.height,H=0,G=0,Q=j,te=U;if(x.Da=m!=null&&0<m.Da,x.Da&&(Q=m.cd,te=m.bd,H=m.v,G=m.j,11>E||(H&=-2,G&=-2),0>H||0>G||0>=Q||0>=te||H+Q>j||G+te>U))return 0;if(x.v=H,x.j=G,x.va=H+Q,x.o=G+te,x.U=Q,x.T=te,x.da=m!=null&&0<m.da,x.da){if(!tt(Q,te,E=[m.ib],H=[m.hb]))return 0;x.ib=E[0],x.hb=H[0]}return x.ob=m!=null&&m.ob,x.Kb=m==null||!m.Sd,x.da&&(x.ob=x.ib<3*j/4&&x.hb<3*U/4,x.Kb=0),1}function jc(m){if(m==null)return 2;if(11>m.S){var x=m.f.RGBA;x.fb+=(m.height-1)*x.A,x.A=-x.A}else x=m.f.kb,m=m.height,x.O+=(m-1)*x.fa,x.fa=-x.fa,x.N+=(m-1>>1)*x.Ab,x.Ab=-x.Ab,x.W+=(m-1>>1)*x.Db,x.Db=-x.Db,x.F!=null&&(x.J+=(m-1)*x.lb,x.lb=-x.lb);return 0}function Sa(m,x,E,j){if(j==null||0>=m||0>=x)return 2;if(E!=null){if(E.Da){var U=E.cd,H=E.bd,G=-2&E.v,Q=-2&E.j;if(0>G||0>Q||0>=U||0>=H||G+U>m||Q+H>x)return 2;m=U,x=H}if(E.da){if(!tt(m,x,U=[E.ib],H=[E.hb]))return 2;m=U[0],x=H[0]}}j.width=m,j.height=x;e:{var te=j.width,ae=j.height;if(m=j.S,0>=te||0>=ae||!(m>=Lu&&13>m))m=2;else{if(0>=j.Rd&&j.sd==null){G=H=U=x=0;var ge=(Q=te*Uu[m])*ae;if(11>m||(H=(ae+1)/2*(x=(te+1)/2),m==12&&(G=(U=te)*ae)),(ae=s(ge+2*H+G))==null){m=1;break e}j.sd=ae,11>m?((te=j.f.RGBA).eb=ae,te.fb=0,te.A=Q,te.size=ge):((te=j.f.kb).y=ae,te.O=0,te.fa=Q,te.Fd=ge,te.f=ae,te.N=0+ge,te.Ab=x,te.Cd=H,te.ea=ae,te.W=0+ge+H,te.Db=x,te.Ed=H,m==12&&(te.F=ae,te.J=0+ge+2*H),te.Tc=G,te.lb=U)}if(x=1,U=j.S,H=j.width,G=j.height,U>=Lu&&13>U)if(11>U)m=j.f.RGBA,x&=(Q=Math.abs(m.A))*(G-1)+H<=m.size,x&=Q>=H*Uu[U],x&=m.eb!=null;else{m=j.f.kb,Q=(H+1)/2,ge=(G+1)/2,te=Math.abs(m.fa),ae=Math.abs(m.Ab);var Ce=Math.abs(m.Db),ie=Math.abs(m.lb),xe=ie*(G-1)+H;x&=te*(G-1)+H<=m.Fd,x&=ae*(ge-1)+Q<=m.Cd,x=(x&=Ce*(ge-1)+Q<=m.Ed)&te>=H&ae>=Q&Ce>=Q,x&=m.y!=null,x&=m.f!=null,x&=m.ea!=null,U==12&&(x&=ie>=H,x&=xe<=m.Tc,x&=m.F!=null)}else x=0;m=x?0:2}}return m!=0||E!=null&&E.fd&&(m=jc(j)),m}var ro=64,_i=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],fi=24,Ga=32,Wa=8,Cs=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Ne("Predictor0","PredictorAdd0"),L.Predictor0=function(){return 4278190080},L.Predictor1=function(m){return m},L.Predictor2=function(m,x,E){return x[E+0]},L.Predictor3=function(m,x,E){return x[E+1]},L.Predictor4=function(m,x,E){return x[E-1]},L.Predictor5=function(m,x,E){return Ge(Ge(m,x[E+1]),x[E+0])},L.Predictor6=function(m,x,E){return Ge(m,x[E-1])},L.Predictor7=function(m,x,E){return Ge(m,x[E+0])},L.Predictor8=function(m,x,E){return Ge(x[E-1],x[E+0])},L.Predictor9=function(m,x,E){return Ge(x[E+0],x[E+1])},L.Predictor10=function(m,x,E){return Ge(Ge(m,x[E-1]),Ge(x[E+0],x[E+1]))},L.Predictor11=function(m,x,E){var j=x[E+0];return 0>=Je(j>>24&255,m>>24&255,(x=x[E-1])>>24&255)+Je(j>>16&255,m>>16&255,x>>16&255)+Je(j>>8&255,m>>8&255,x>>8&255)+Je(255&j,255&m,255&x)?j:m},L.Predictor12=function(m,x,E){var j=x[E+0];return(He((m>>24&255)+(j>>24&255)-((x=x[E-1])>>24&255))<<24|He((m>>16&255)+(j>>16&255)-(x>>16&255))<<16|He((m>>8&255)+(j>>8&255)-(x>>8&255))<<8|He((255&m)+(255&j)-(255&x)))>>>0},L.Predictor13=function(m,x,E){var j=x[E-1];return(Ie((m=Ge(m,x[E+0]))>>24&255,j>>24&255)<<24|Ie(m>>16&255,j>>16&255)<<16|Ie(m>>8&255,j>>8&255)<<8|Ie(255&m,255&j))>>>0};var _l=L.PredictorAdd0;L.PredictorAdd1=ot,Ne("Predictor2","PredictorAdd2"),Ne("Predictor3","PredictorAdd3"),Ne("Predictor4","PredictorAdd4"),Ne("Predictor5","PredictorAdd5"),Ne("Predictor6","PredictorAdd6"),Ne("Predictor7","PredictorAdd7"),Ne("Predictor8","PredictorAdd8"),Ne("Predictor9","PredictorAdd9"),Ne("Predictor10","PredictorAdd10"),Ne("Predictor11","PredictorAdd11"),Ne("Predictor12","PredictorAdd12"),Ne("Predictor13","PredictorAdd13");var Sl=L.PredictorAdd2;it("ColorIndexInverseTransform","MapARGB","32b",function(m){return m>>8&255},function(m){return m}),it("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(m){return m},function(m){return m>>8&255});var sr,Tu=L.ColorIndexInverseTransform,Ya=L.MapARGB,Ka=L.VP8LColorIndexInverseTransformAlpha,Vr=L.MapAlpha,Ts=L.VP8LPredictorsAdd=[];Ts.length=16,(L.VP8LPredictors=[]).length=16,(L.VP8LPredictorsAdd_C=[]).length=16,(L.VP8LPredictors_C=[]).length=16;var Al,Nl,js,ks,Xa,Bo,Fi,Ls,Zr,Ki,yn,dn,On,or,Ja,Aa,Io,kc,ef,Uh,zh,qh,tf,nf,Fo,Xi,Lc,Ui,Uo=s(511),ju=s(2041),Rc=s(225),Oc=s(767),ku=0,Rs=ju,Dc=Rc,ei=Oc,Hr=Uo,Lu=0,ti=1,Ru=2,Ji=3,Pc=4,El=5,io=6,Mc=7,Ou=8,Cl=9,Du=10,Qi=[2,3,7],Tl=[3,3,11],zo=[280,256,256,256,40],Pu=[0,1,1,1,0],Bc=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Zi=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],ea=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],ao=8,ta=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],na=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],zi=null,Vh=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],rf=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Mu=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Hh=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],$r=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],In=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],nn=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],hi=[],Jn=[],Na=[],so=1,af=2,Os=[],Gr=[];Ss("UpsampleRgbLinePair",As,3),Ss("UpsampleBgrLinePair",Pr,3),Ss("UpsampleRgbaLinePair",di,4),Ss("UpsampleBgraLinePair",$a,4),Ss("UpsampleArgbLinePair",wl,4),Ss("UpsampleRgba4444LinePair",no,2),Ss("UpsampleRgb565LinePair",to,2);var qo=L.UpsampleRgbLinePair,sf=L.UpsampleBgrLinePair,jl=L.UpsampleRgbaLinePair,Bu=L.UpsampleBgraLinePair,oo=L.UpsampleArgbLinePair,Qa=L.UpsampleRgba4444LinePair,lo=L.UpsampleRgb565LinePair,ra=16,kl=1<<ra-1,Vo=-227,co=482,Iu=6,uo=0,Wr=s(256),Fu=s(256),$h=s(256),h0=s(256),p0=s(co-Vo),m0=s(co-Vo);Ns("YuvToRgbRow",As,3),Ns("YuvToBgrRow",Pr,3),Ns("YuvToRgbaRow",di,4),Ns("YuvToBgraRow",$a,4),Ns("YuvToArgbRow",wl,4),Ns("YuvToRgba4444Row",no,2),Ns("YuvToRgb565Row",to,2);var lr=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Ll=[0,2,8],Ic=[8,7,6,4,4,2,2,2,1,1,1,1],Fc=1;this.WebPDecodeRGBA=function(m,x,E,j,U){var H=ti,G=new Ue,Q=new Lt;G.ba=Q,Q.S=H,Q.width=[Q.width],Q.height=[Q.height];var te=Q.width,ae=Q.height,ge=new pt;if(ge==null||m==null)var Ce=2;else e(ge!=null),Ce=_a(m,x,E,ge.width,ge.height,ge.Pd,ge.Qd,ge.format,null);if(Ce!=0?te=0:(te!=null&&(te[0]=ge.width[0]),ae!=null&&(ae[0]=ge.height[0]),te=1),te){Q.width=Q.width[0],Q.height=Q.height[0],j!=null&&(j[0]=Q.width),U!=null&&(U[0]=Q.height);e:{if(j=new ps,(U=new Xe).data=m,U.w=x,U.ha=E,U.kd=1,x=[0],e(U!=null),((m=_a(U.data,U.w,U.ha,null,null,null,x,null,U))==0||m==7)&&x[0]&&(m=4),(x=m)==0){if(e(G!=null),j.data=U.data,j.w=U.w+U.offset,j.ha=U.ha-U.offset,j.put=Tt,j.ac=$i,j.bc=fs,j.ma=G,U.xa){if((m=To())==null){G=1;break e}if((function(ie,xe){var Ae=[0],Be=[0],Ee=[0];t:for(;;){if(ie==null)return 0;if(xe==null)return ie.a=2,0;if(ie.l=xe,ie.a=0,me(ie.m,xe.data,xe.w,xe.ha),!Fa(ie.m,Ae,Be,Ee)){ie.a=3;break t}if(ie.xb=af,xe.width=Ae[0],xe.height=Be[0],!fa(Ae[0],Be[0],1,ie,null))break t;return 1}return e(ie.a!=0),0})(m,j)){if(j=(x=Sa(j.width,j.height,G.Oa,G.ba))==0){t:{j=m;n:for(;;){if(j==null){j=0;break t}if(e(j.s.yc!=null),e(j.s.Ya!=null),e(0<j.s.Wb),e((E=j.l)!=null),e((U=E.ma)!=null),j.xb!=0){if(j.ca=U.ba,j.tb=U.tb,e(j.ca!=null),!Es(U.Oa,E,Ji)){j.a=2;break n}if(!ha(j,E.width)||E.da)break n;if((E.da||_t(j.ca.S))&&wa(),11>j.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),j.ca.f.kb.F!=null&&wa()),j.Pb&&0<j.s.ua&&j.s.vb.X==null&&!ee(j.s.vb,j.s.Wa.Xa)){j.a=1;break n}j.xb=0}if(!Oi(j,j.V,j.Ba,j.c,j.i,E.o,li))break n;U.Dc=j.Ma,j=1;break t}e(j.a!=0),j=0}j=!j}j&&(x=m.a)}else x=m.a}else{if((m=new va)==null){G=1;break e}if(m.Fa=U.na,m.P=U.P,m.qc=U.Sa,za(m,j)){if((x=Sa(j.width,j.height,G.Oa,G.ba))==0){if(m.Aa=0,E=G.Oa,e((U=m)!=null),E!=null){if(0<(te=0>(te=E.Md)?0:100<te?255:255*te/100)){for(ae=ge=0;4>ae;++ae)12>(Ce=U.pb[ae]).lc&&(Ce.ia=te*Ic[0>Ce.lc?0:Ce.lc]>>3),ge|=Ce.ia;ge&&(alert("todo:VP8InitRandom"),U.ia=1)}U.Ga=E.Id,100<U.Ga?U.Ga=100:0>U.Ga&&(U.Ga=0)}(function(ie,xe){if(ie==null)return 0;if(xe==null)return vn(ie,2,"NULL VP8Io parameter in VP8Decode().");if(!ie.cb&&!za(ie,xe))return 0;if(e(ie.cb),xe.ac==null||xe.ac(xe)){xe.ob&&(ie.L=0);var Ae=Ll[ie.L];if(ie.L==2?(ie.yb=0,ie.zb=0):(ie.yb=xe.v-Ae>>4,ie.zb=xe.j-Ae>>4,0>ie.yb&&(ie.yb=0),0>ie.zb&&(ie.zb=0)),ie.Va=xe.o+15+Ae>>4,ie.Hb=xe.va+15+Ae>>4,ie.Hb>ie.za&&(ie.Hb=ie.za),ie.Va>ie.Ub&&(ie.Va=ie.Ub),0<ie.L){var Be=ie.ed;for(Ae=0;4>Ae;++Ae){var Ee;if(ie.Qa.Cb){var Pe=ie.Qa.Lb[Ae];ie.Qa.Fb||(Pe+=Be.Tb)}else Pe=Be.Tb;for(Ee=0;1>=Ee;++Ee){var ze=ie.gd[Ae][Ee],et=Pe;if(Be.Pc&&(et+=Be.vd[0],Ee&&(et+=Be.od[0])),0<(et=0>et?0:63<et?63:et)){var Ye=et;0<Be.wb&&(Ye=4<Be.wb?Ye>>2:Ye>>1)>9-Be.wb&&(Ye=9-Be.wb),1>Ye&&(Ye=1),ze.dd=Ye,ze.tc=2*et+Ye,ze.ld=40<=et?2:15<=et?1:0}else ze.tc=0;ze.La=Ee}}}Ae=0}else vn(ie,6,"Frame setup failed"),Ae=ie.a;if(Ae=Ae==0){if(Ae){ie.$c=0,0<ie.Aa||(ie.Ic=Fc);t:{Ae=ie.Ic,Be=4*(Ye=ie.za);var yt=32*Ye,ut=Ye+1,qt=0<ie.L?Ye*(0<ie.Aa?2:1):0,mt=(ie.Aa==2?2:1)*Ye;if((ze=Be+832+(Ee=3*(16*Ae+Ll[ie.L])/2*yt)+(Pe=ie.Fa!=null&&0<ie.Fa.length?ie.Kc.c*ie.Kc.i:0))!=ze)Ae=0;else{if(ze>ie.Vb){if(ie.Vb=0,ie.Ec=s(ze),ie.Fc=0,ie.Ec==null){Ae=vn(ie,1,"no memory during frame initialization.");break t}ie.Vb=ze}ze=ie.Ec,et=ie.Fc,ie.Ac=ze,ie.Bc=et,et+=Be,ie.Gd=l(yt,gc),ie.Hd=0,ie.rb=l(ut+1,ga),ie.sb=1,ie.wa=qt?l(qt,Di):null,ie.Y=0,ie.D.Nb=0,ie.D.wa=ie.wa,ie.D.Y=ie.Y,0<ie.Aa&&(ie.D.Y+=Ye),e(!0),ie.oc=ze,ie.pc=et,et+=832,ie.ya=l(mt,pc),ie.aa=0,ie.D.ya=ie.ya,ie.D.aa=ie.aa,ie.Aa==2&&(ie.D.aa+=Ye),ie.R=16*Ye,ie.B=8*Ye,Ye=(yt=Ll[ie.L])*ie.R,yt=yt/2*ie.B,ie.sa=ze,ie.ta=et+Ye,ie.qa=ie.sa,ie.ra=ie.ta+16*Ae*ie.R+yt,ie.Ha=ie.qa,ie.Ia=ie.ra+8*Ae*ie.B+yt,ie.$c=0,et+=Ee,ie.mb=Pe?ze:null,ie.nb=Pe?et:null,e(et+Pe<=ie.Fc+ie.Vb),yc(ie),a(ie.Ac,ie.Bc,0,Be),Ae=1}}if(Ae){if(xe.ka=0,xe.y=ie.sa,xe.O=ie.ta,xe.f=ie.qa,xe.N=ie.ra,xe.ea=ie.Ha,xe.Vd=ie.Ia,xe.fa=ie.R,xe.Rc=ie.B,xe.F=null,xe.J=0,!ku){for(Ae=-255;255>=Ae;++Ae)Uo[255+Ae]=0>Ae?-Ae:Ae;for(Ae=-1020;1020>=Ae;++Ae)ju[1020+Ae]=-128>Ae?-128:127<Ae?127:Ae;for(Ae=-112;112>=Ae;++Ae)Rc[112+Ae]=-16>Ae?-16:15<Ae?15:Ae;for(Ae=-255;510>=Ae;++Ae)Oc[255+Ae]=0>Ae?0:255<Ae?255:Ae;ku=1}Fi=ya,Ls=bc,Ki=ui,yn=wc,dn=xc,Zr=bu,On=Eu,or=xs,Ja=F,Aa=oe,Io=Cu,kc=S,ef=pe,Uh=_e,zh=vs,qh=ys,tf=Po,nf=Ec,Jn[0]=Au,Jn[1]=wu,Jn[2]=Su,Jn[3]=Ac,Jn[4]=Mi,Jn[5]=Nc,Jn[6]=zr,Jn[7]=Ro,Jn[8]=Oo,Jn[9]=Bi,hi[0]=ba,hi[1]=_c,hi[2]=Sc,hi[3]=_u,hi[4]=ms,hi[5]=Lo,hi[6]=eo,Na[0]=gl,Na[1]=xu,Na[2]=qa,Na[3]=Nu,Na[4]=Dr,Na[5]=vl,Na[6]=Va,Ae=1}else Ae=0}Ae&&(Ae=(function(tn,Fn){for(tn.M=0;tn.M<tn.Va;++tn.M){var Gt,dt=tn.Jc[tn.M&tn.Xb],st=tn.m,Gn=tn;for(Gt=0;Gt<Gn.za;++Gt){var Mt=st,Kt=Gn,_n=Kt.Ac,Cr=Kt.Bc+4*Gt,Yr=Kt.zc,Dn=Kt.ya[Kt.aa+Gt];if(Kt.Qa.Bb?Dn.$b=je(Mt,Kt.Pa.jb[0])?2+je(Mt,Kt.Pa.jb[2]):je(Mt,Kt.Pa.jb[1]):Dn.$b=0,Kt.kc&&(Dn.Ad=je(Mt,Kt.Bd)),Dn.Za=!je(Mt,145)+0,Dn.Za){var mr=Dn.Ob,ni=0;for(Kt=0;4>Kt;++Kt){var gr,en=Yr[0+Kt];for(gr=0;4>gr;++gr){en=$r[_n[Cr+gr]][en];for(var hn=Mu[je(Mt,en[0])];0<hn;)hn=Mu[2*hn+je(Mt,en[hn])];en=-hn,_n[Cr+gr]=en}r(mr,ni,_n,Cr,4),ni+=4,Yr[0+Kt]=en}}else en=je(Mt,156)?je(Mt,128)?1:3:je(Mt,163)?2:0,Dn.Ob[0]=en,a(_n,Cr,en,4),a(Yr,0,en,4);Dn.Dd=je(Mt,142)?je(Mt,114)?je(Mt,183)?1:3:2:0}if(Gn.m.Ka)return vn(tn,7,"Premature end-of-partition0 encountered.");for(;tn.ja<tn.za;++tn.ja){if(Gn=dt,Mt=(st=tn).rb[st.sb-1],_n=st.rb[st.sb+st.ja],Gt=st.ya[st.aa+st.ja],Cr=st.kc?Gt.Ad:0)Mt.la=_n.la=0,Gt.Za||(Mt.Na=_n.Na=0),Gt.Hc=0,Gt.Gc=0,Gt.ia=0;else{var Wn,bn;if(Mt=_n,_n=Gn,Cr=st.Pa.Xc,Yr=st.ya[st.aa+st.ja],Dn=st.pb[Yr.$b],Kt=Yr.ad,mr=0,ni=st.rb[st.sb-1],en=gr=0,a(Kt,mr,0,384),Yr.Za)var Tr=0,Yn=Cr[3];else{hn=s(16);var pn=Mt.Na+ni.Na;if(pn=zi(_n,Cr[1],pn,Dn.Eb,0,hn,0),Mt.Na=ni.Na=(0<pn)+0,1<pn)Fi(hn,0,Kt,mr);else{var cr=hn[0]+3>>3;for(hn=0;256>hn;hn+=16)Kt[mr+hn]=cr}Tr=1,Yn=Cr[0]}var Sn=15&Mt.la,vr=15&ni.la;for(hn=0;4>hn;++hn){var yr=1&vr;for(cr=bn=0;4>cr;++cr)Sn=Sn>>1|(yr=(pn=zi(_n,Yn,pn=yr+(1&Sn),Dn.Sc,Tr,Kt,mr))>Tr)<<7,bn=bn<<2|(3<pn?3:1<pn?2:Kt[mr+0]!=0),mr+=16;Sn>>=4,vr=vr>>1|yr<<7,gr=(gr<<8|bn)>>>0}for(Yn=Sn,Tr=vr>>4,Wn=0;4>Wn;Wn+=2){for(bn=0,Sn=Mt.la>>4+Wn,vr=ni.la>>4+Wn,hn=0;2>hn;++hn){for(yr=1&vr,cr=0;2>cr;++cr)pn=yr+(1&Sn),Sn=Sn>>1|(yr=0<(pn=zi(_n,Cr[2],pn,Dn.Qc,0,Kt,mr)))<<3,bn=bn<<2|(3<pn?3:1<pn?2:Kt[mr+0]!=0),mr+=16;Sn>>=2,vr=vr>>1|yr<<5}en|=bn<<4*Wn,Yn|=Sn<<4<<Wn,Tr|=(240&vr)<<Wn}Mt.la=Yn,ni.la=Tr,Yr.Hc=gr,Yr.Gc=en,Yr.ia=43690&en?0:Dn.ia,Cr=!(gr|en)}if(0<st.L&&(st.wa[st.Y+st.ja]=st.gd[Gt.$b][Gt.Za],st.wa[st.Y+st.ja].La|=!Cr),Gn.Ka)return vn(tn,7,"Premature end-of-file encountered.")}if(yc(tn),st=Fn,Gn=1,Gt=(dt=tn).D,Mt=0<dt.L&&dt.M>=dt.zb&&dt.M<=dt.Va,dt.Aa==0)t:{if(Gt.M=dt.M,Gt.uc=Mt,Ii(dt,Gt),Gn=1,Gt=(bn=dt.D).Nb,Mt=(en=Ll[dt.L])*dt.R,_n=en/2*dt.B,hn=16*Gt*dt.R,cr=8*Gt*dt.B,Cr=dt.sa,Yr=dt.ta-Mt+hn,Dn=dt.qa,Kt=dt.ra-_n+cr,mr=dt.Ha,ni=dt.Ia-_n+cr,vr=(Sn=bn.M)==0,gr=Sn>=dt.Va-1,dt.Aa==2&&Ii(dt,bn),bn.uc)for(yr=(pn=dt).D.M,e(pn.D.uc),bn=pn.yb;bn<pn.Hb;++bn){Tr=bn,Yn=yr;var Cn=(fn=(br=pn).D).Nb;Wn=br.R;var fn=fn.wa[fn.Y+Tr],ri=br.sa,Qn=br.ta+16*Cn*Wn+16*Tr,jt=fn.dd,Rt=fn.tc;if(Rt!=0)if(e(3<=Rt),br.L==1)0<Tr&&qh(ri,Qn,Wn,Rt+4),fn.La&&nf(ri,Qn,Wn,Rt),0<Yn&&zh(ri,Qn,Wn,Rt+4),fn.La&&tf(ri,Qn,Wn,Rt);else{var mn=br.B,Si=br.qa,ia=br.ra+8*Cn*mn+8*Tr,pi=br.Ha,br=br.Ia+8*Cn*mn+8*Tr;Cn=fn.ld,0<Tr&&(or(ri,Qn,Wn,Rt+4,jt,Cn),Aa(Si,ia,pi,br,mn,Rt+4,jt,Cn)),fn.La&&(kc(ri,Qn,Wn,Rt,jt,Cn),Uh(Si,ia,pi,br,mn,Rt,jt,Cn)),0<Yn&&(On(ri,Qn,Wn,Rt+4,jt,Cn),Ja(Si,ia,pi,br,mn,Rt+4,jt,Cn)),fn.La&&(Io(ri,Qn,Wn,Rt,jt,Cn),ef(Si,ia,pi,br,mn,Rt,jt,Cn))}}if(dt.ia&&alert("todo:DitherRow"),st.put!=null){if(bn=16*Sn,Sn=16*(Sn+1),vr?(st.y=dt.sa,st.O=dt.ta+hn,st.f=dt.qa,st.N=dt.ra+cr,st.ea=dt.Ha,st.W=dt.Ia+cr):(bn-=en,st.y=Cr,st.O=Yr,st.f=Dn,st.N=Kt,st.ea=mr,st.W=ni),gr||(Sn-=en),Sn>st.o&&(Sn=st.o),st.F=null,st.J=null,dt.Fa!=null&&0<dt.Fa.length&&bn<Sn&&(st.J=Rn(dt,st,bn,Sn-bn),st.F=dt.mb,st.F==null&&st.F.length==0)){Gn=vn(dt,3,"Could not decode alpha data.");break t}bn<st.j&&(en=st.j-bn,bn=st.j,e(!(1&en)),st.O+=dt.R*en,st.N+=dt.B*(en>>1),st.W+=dt.B*(en>>1),st.F!=null&&(st.J+=st.width*en)),bn<Sn&&(st.O+=st.v,st.N+=st.v>>1,st.W+=st.v>>1,st.F!=null&&(st.J+=st.v),st.ka=bn-st.j,st.U=st.va-st.v,st.T=Sn-bn,Gn=st.put(st))}Gt+1!=dt.Ic||gr||(r(dt.sa,dt.ta-Mt,Cr,Yr+16*dt.R,Mt),r(dt.qa,dt.ra-_n,Dn,Kt+8*dt.B,_n),r(dt.Ha,dt.Ia-_n,mr,ni+8*dt.B,_n))}if(!Gn)return vn(tn,6,"Output aborted.")}return 1})(ie,xe)),xe.bc!=null&&xe.bc(xe),Ae&=1}return Ae?(ie.cb=0,Ae):0})(m,j)||(x=m.a)}}else x=m.a}x==0&&G.Oa!=null&&G.Oa.fd&&(x=jc(G.ba))}G=x}H=G!=0?null:11>H?Q.f.RGBA.eb:Q.f.kb.y}else H=null;return H};var Uu=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function f(L,$){for(var k="",I=0;I<4;I++)k+=String.fromCharCode(L[$++]);return k}function p(L,$){return L[$+0]|L[$+1]<<8}function g(L,$){return(L[$+0]|L[$+1]<<8|L[$+2]<<16)>>>0}function y(L,$){return(L[$+0]|L[$+1]<<8|L[$+2]<<16|L[$+3]<<24)>>>0}new d;var v=[0],N=[0],C=[],T=new d,A=t,D=(function(L,$){var k={},I=0,J=!1,ne=0,we=0;if(k.frames=[],!(function(P,z){for(var Z=0;Z<4;Z++)if(P[z+Z]!="RIFF".charCodeAt(Z))return!0;return!1})(L,$)){for(y(L,$+=4),$+=8;$<L.length;){var re=f(L,$),le=y(L,$+=4);$+=4;var ce=le+(1&le);switch(re){case"VP8 ":case"VP8L":k.frames[I]===void 0&&(k.frames[I]={}),(Y=k.frames[I]).src_off=J?we:$-8,Y.src_size=ne+le+8,I++,J&&(J=!1,ne=0,we=0);break;case"VP8X":(Y=k.header={}).feature_flags=L[$];var me=$+4;Y.canvas_width=1+g(L,me),me+=3,Y.canvas_height=1+g(L,me),me+=3;break;case"ALPH":J=!0,ne=ce+8,we=$-8;break;case"ANIM":(Y=k.header).bgcolor=y(L,$),me=$+4,Y.loop_count=p(L,me),me+=2;break;case"ANMF":var Re,Y;(Y=k.frames[I]={}).offset_x=2*g(L,$),$+=3,Y.offset_y=2*g(L,$),$+=3,Y.width=1+g(L,$),$+=3,Y.height=1+g(L,$),$+=3,Y.duration=g(L,$),$+=3,Re=L[$++],Y.dispose=1&Re,Y.blend=Re>>1&1}re!="ANMF"&&($+=ce)}return k}})(A,0);D.response=A,D.rgbaoutput=!0,D.dataurl=!1;var M=D.header?D.header:null,B=D.frames?D.frames:null;if(M){M.loop_counter=M.loop_count,v=[M.canvas_height],N=[M.canvas_width];for(var q=0;q<B.length&&B[q].blend!=0;q++);}var V=B[0],W=T.WebPDecodeRGBA(A,V.src_off,V.src_size,N,v);V.rgba=W,V.imgwidth=N[0],V.imgheight=v[0];for(var R=0;R<N[0]*v[0]*4;R++)C[R]=W[R];return this.width=N,this.height=v,this.data=C,this}(function(t){var e,n,r,a,s,l,u,d,f,p=function(P){return P=P||{},this.isStrokeTransparent=P.isStrokeTransparent||!1,this.strokeOpacity=P.strokeOpacity||1,this.strokeStyle=P.strokeStyle||"#000000",this.fillStyle=P.fillStyle||"#000000",this.isFillTransparent=P.isFillTransparent||!1,this.fillOpacity=P.fillOpacity||1,this.font=P.font||"10px sans-serif",this.textBaseline=P.textBaseline||"alphabetic",this.textAlign=P.textAlign||"left",this.lineWidth=P.lineWidth||1,this.lineJoin=P.lineJoin||"miter",this.lineCap=P.lineCap||"butt",this.path=P.path||[],this.transform=P.transform!==void 0?P.transform.clone():new d,this.globalCompositeOperation=P.globalCompositeOperation||"normal",this.globalAlpha=P.globalAlpha||1,this.clip_path=P.clip_path||[],this.currentPoint=P.currentPoint||new l,this.miterLimit=P.miterLimit||10,this.lastPoint=P.lastPoint||new l,this.lineDashOffset=P.lineDashOffset||0,this.lineDash=P.lineDash||[],this.margin=P.margin||[0,0,0,0],this.prevPageLastElemOffset=P.prevPageLastElemOffset||0,this.ignoreClearRect=typeof P.ignoreClearRect!="boolean"||P.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new g(this),e=this.internal.f2,n=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,a=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,l=this.internal.Point,u=this.internal.Rectangle,d=this.internal.Matrix,f=new p}]);var g=function(P){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var z=P;Object.defineProperty(this,"pdf",{get:function(){return z}});var Z=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return Z},set:function(ee){Z=!!ee}});var se=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return se},set:function(ee){se=!!ee}});var ue=0;Object.defineProperty(this,"posX",{get:function(){return ue},set:function(ee){isNaN(ee)||(ue=ee)}});var he=0;Object.defineProperty(this,"posY",{get:function(){return he},set:function(ee){isNaN(ee)||(he=ee)}}),Object.defineProperty(this,"margin",{get:function(){return f.margin},set:function(ee){var $e;typeof ee=="number"?$e=[ee,ee,ee,ee]:(($e=new Array(4))[0]=ee[0],$e[1]=ee.length>=2?ee[1]:$e[0],$e[2]=ee.length>=3?ee[2]:$e[0],$e[3]=ee.length>=4?ee[3]:$e[1]),f.margin=$e}});var ve=!1;Object.defineProperty(this,"autoPaging",{get:function(){return ve},set:function(ee){ve=ee}});var be=0;Object.defineProperty(this,"lastBreak",{get:function(){return be},set:function(ee){be=ee}});var je=[];Object.defineProperty(this,"pageBreaks",{get:function(){return je},set:function(ee){je=ee}}),Object.defineProperty(this,"ctx",{get:function(){return f},set:function(ee){ee instanceof p&&(f=ee)}}),Object.defineProperty(this,"path",{get:function(){return f.path},set:function(ee){f.path=ee}});var Oe=[];Object.defineProperty(this,"ctxStack",{get:function(){return Oe},set:function(ee){Oe=ee}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(ee){var $e;$e=y(ee),this.ctx.fillStyle=$e.style,this.ctx.isFillTransparent=$e.a===0,this.ctx.fillOpacity=$e.a,this.pdf.setFillColor($e.r,$e.g,$e.b,{a:$e.a}),this.pdf.setTextColor($e.r,$e.g,$e.b,{a:$e.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(ee){var $e=y(ee);this.ctx.strokeStyle=$e.style,this.ctx.isStrokeTransparent=$e.a===0,this.ctx.strokeOpacity=$e.a,$e.a===0?this.pdf.setDrawColor(255,255,255):($e.a,this.pdf.setDrawColor($e.r,$e.g,$e.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(ee){["butt","round","square"].indexOf(ee)!==-1&&(this.ctx.lineCap=ee,this.pdf.setLineCap(ee))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(ee){isNaN(ee)||(this.ctx.lineWidth=ee,this.pdf.setLineWidth(ee))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(ee){["bevel","round","miter"].indexOf(ee)!==-1&&(this.ctx.lineJoin=ee,this.pdf.setLineJoin(ee))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(ee){isNaN(ee)||(this.ctx.miterLimit=ee,this.pdf.setMiterLimit(ee))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(ee){this.ctx.textBaseline=ee}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(ee){["right","end","center","left","start"].indexOf(ee)!==-1&&(this.ctx.textAlign=ee)}});var qe=null,Qe=null,nt=null;Object.defineProperty(this,"fontFaces",{get:function(){return nt},set:function(ee){qe=null,Qe=null,nt=ee}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(ee){var $e;if(this.ctx.font=ee,($e=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(ee))!==null){var St=$e[1];$e[2];var tt=$e[3],Me=$e[4];$e[5];var de=$e[6],Ne=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Me)[2];Me=Math.floor(Ne==="px"?parseFloat(Me)*this.pdf.internal.scaleFactor:Ne==="em"?parseFloat(Me)*this.pdf.getFontSize():parseFloat(Me)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Me);var Ke=(function(it){var Qt,kt,rt=[],lt=it.trim();if(lt==="")return H1;if(lt in o4)return[o4[lt]];for(;lt!=="";){switch(kt=null,Qt=(lt=c4(lt)).charAt(0)){case'"':case"'":kt=KF(lt.substring(1),Qt);break;default:kt=XF(lt)}if(kt===null||(rt.push(kt[0]),(lt=c4(kt[1]))!==""&&lt.charAt(0)!==","))return H1;lt=lt.replace(/^,/,"")}return rt})(de);if(this.fontFaces){var Ge=(function(it,Qt){var kt=it.getFontList(),rt=JSON.stringify(kt);if(qe===null||Qe!==rt){var lt=(function(Dt){var ft=[];return Object.keys(Dt).forEach(function(Zt){Dt[Zt].forEach(function(_t){var Et=null;switch(_t){case"bold":Et={family:Zt,weight:"bold"};break;case"italic":Et={family:Zt,style:"italic"};break;case"bolditalic":Et={family:Zt,weight:"bold",style:"italic"};break;case"":case"normal":Et={family:Zt}}Et!==null&&(Et.ref={name:Zt,style:_t},ft.push(Et))})}),ft})(kt);qe=(function(Dt){for(var ft={},Zt=0;Zt<Dt.length;++Zt){var _t=V1(Dt[Zt]),Et=_t.family,Xt=_t.stretch,Lt=_t.style,pt=_t.weight;ft[Et]=ft[Et]||{},ft[Et][Xt]=ft[Et][Xt]||{},ft[Et][Xt][Lt]=ft[Et][Xt][Lt]||{},ft[Et][Xt][Lt][pt]=_t}return ft})(lt.concat(Qt)),Qe=rt}return qe})(this.pdf,this.fontFaces),He=Ke.map(function(it){return{family:it,stretch:"normal",weight:tt,style:St}}),Ie=(function(it,Qt,kt){for(var rt=(kt=kt||{}).defaultFontFamily||"times",lt=Object.assign({},YF,kt.genericFontFamilies||{}),Dt=null,ft=null,Zt=0;Zt<Qt.length;++Zt)if(lt[(Dt=V1(Qt[Zt])).family]&&(Dt.family=lt[Dt.family]),it.hasOwnProperty(Dt.family)){ft=it[Dt.family];break}if(!(ft=ft||it[rt]))throw new Error("Could not find a font-family for the rule '"+l4(Dt)+"' and default family '"+rt+"'.");if(ft=(function(_t,Et){if(Et[_t])return Et[_t];var Xt=Hv[_t],Lt=Xt<=Hv.normal?-1:1,pt=s4(Et,ON,Xt,Lt);if(!pt)throw new Error("Could not find a matching font-stretch value for "+_t);return pt})(Dt.stretch,ft),ft=(function(_t,Et){if(Et[_t])return Et[_t];for(var Xt=RN[_t],Lt=0;Lt<Xt.length;++Lt)if(Et[Xt[Lt]])return Et[Xt[Lt]];throw new Error("Could not find a matching font-style for "+_t)})(Dt.style,ft),!(ft=(function(_t,Et){if(Et[_t])return Et[_t];if(_t===400&&Et[500])return Et[500];if(_t===500&&Et[400])return Et[400];var Xt=WF[_t],Lt=s4(Et,DN,Xt,_t<400?-1:1);if(!Lt)throw new Error("Could not find a matching font-weight for value "+_t);return Lt})(Dt.weight,ft)))throw new Error("Failed to resolve a font for the rule '"+l4(Dt)+"'.");return ft})(Ge,He);this.pdf.setFont(Ie.ref.name,Ie.ref.style)}else{var Je="";(tt==="bold"||parseInt(tt,10)>=700||St==="bold")&&(Je="bold"),St==="italic"&&(Je+="italic"),Je.length===0&&(Je="normal");for(var ot="",ct={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Ze=0;Ze<Ke.length;Ze++){if(this.pdf.internal.getFont(Ke[Ze],Je,{noFallback:!0,disableWarning:!0})!==void 0){ot=Ke[Ze];break}if(Je==="bolditalic"&&this.pdf.internal.getFont(Ke[Ze],"bold",{noFallback:!0,disableWarning:!0})!==void 0)ot=Ke[Ze],Je="bold";else if(this.pdf.internal.getFont(Ke[Ze],"normal",{noFallback:!0,disableWarning:!0})!==void 0){ot=Ke[Ze],Je="normal";break}}if(ot===""){for(var ht=0;ht<Ke.length;ht++)if(ct[Ke[ht]]){ot=ct[Ke[ht]];break}}ot=ot===""?"Times":ot,this.pdf.setFont(ot,Je)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(ee){this.ctx.globalCompositeOperation=ee}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(ee){this.ctx.globalAlpha=ee}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(ee){this.ctx.lineDashOffset=ee,Y.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(ee){this.ctx.lineDash=ee,Y.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(ee){this.ctx.ignoreClearRect=!!ee}})};g.prototype.setLineDash=function(P){this.lineDash=P},g.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},g.prototype.fill=function(){B.call(this,"fill",!1)},g.prototype.stroke=function(){B.call(this,"stroke",!1)},g.prototype.beginPath=function(){this.path=[{type:"begin"}]},g.prototype.moveTo=function(P,z){if(isNaN(P)||isNaN(z))throw zn.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var Z=this.ctx.transform.applyToPoint(new l(P,z));this.path.push({type:"mt",x:Z.x,y:Z.y}),this.ctx.lastPoint=new l(P,z)},g.prototype.closePath=function(){var P=new l(0,0),z=0;for(z=this.path.length-1;z!==-1;z--)if(this.path[z].type==="begin"&&Ln(this.path[z+1])==="object"&&typeof this.path[z+1].x=="number"){P=new l(this.path[z+1].x,this.path[z+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new l(P.x,P.y)},g.prototype.lineTo=function(P,z){if(isNaN(P)||isNaN(z))throw zn.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var Z=this.ctx.transform.applyToPoint(new l(P,z));this.path.push({type:"lt",x:Z.x,y:Z.y}),this.ctx.lastPoint=new l(Z.x,Z.y)},g.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),B.call(this,null,!0)},g.prototype.quadraticCurveTo=function(P,z,Z,se){if(isNaN(Z)||isNaN(se)||isNaN(P)||isNaN(z))throw zn.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ue=this.ctx.transform.applyToPoint(new l(Z,se)),he=this.ctx.transform.applyToPoint(new l(P,z));this.path.push({type:"qct",x1:he.x,y1:he.y,x:ue.x,y:ue.y}),this.ctx.lastPoint=new l(ue.x,ue.y)},g.prototype.bezierCurveTo=function(P,z,Z,se,ue,he){if(isNaN(ue)||isNaN(he)||isNaN(P)||isNaN(z)||isNaN(Z)||isNaN(se))throw zn.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var ve=this.ctx.transform.applyToPoint(new l(ue,he)),be=this.ctx.transform.applyToPoint(new l(P,z)),je=this.ctx.transform.applyToPoint(new l(Z,se));this.path.push({type:"bct",x1:be.x,y1:be.y,x2:je.x,y2:je.y,x:ve.x,y:ve.y}),this.ctx.lastPoint=new l(ve.x,ve.y)},g.prototype.arc=function(P,z,Z,se,ue,he){if(isNaN(P)||isNaN(z)||isNaN(Z)||isNaN(se)||isNaN(ue))throw zn.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(he=!!he,!this.ctx.transform.isIdentity){var ve=this.ctx.transform.applyToPoint(new l(P,z));P=ve.x,z=ve.y;var be=this.ctx.transform.applyToPoint(new l(0,Z)),je=this.ctx.transform.applyToPoint(new l(0,0));Z=Math.sqrt(Math.pow(be.x-je.x,2)+Math.pow(be.y-je.y,2))}Math.abs(ue-se)>=2*Math.PI&&(se=0,ue=2*Math.PI),this.path.push({type:"arc",x:P,y:z,radius:Z,startAngle:se,endAngle:ue,counterclockwise:he})},g.prototype.arcTo=function(P,z,Z,se,ue){throw new Error("arcTo not implemented.")},g.prototype.rect=function(P,z,Z,se){if(isNaN(P)||isNaN(z)||isNaN(Z)||isNaN(se))throw zn.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(P,z),this.lineTo(P+Z,z),this.lineTo(P+Z,z+se),this.lineTo(P,z+se),this.lineTo(P,z),this.lineTo(P+Z,z),this.lineTo(P,z)},g.prototype.fillRect=function(P,z,Z,se){if(isNaN(P)||isNaN(z)||isNaN(Z)||isNaN(se))throw zn.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!v.call(this)){var ue={};this.lineCap!=="butt"&&(ue.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ue.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(P,z,Z,se),this.fill(),ue.hasOwnProperty("lineCap")&&(this.lineCap=ue.lineCap),ue.hasOwnProperty("lineJoin")&&(this.lineJoin=ue.lineJoin)}},g.prototype.strokeRect=function(P,z,Z,se){if(isNaN(P)||isNaN(z)||isNaN(Z)||isNaN(se))throw zn.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");N.call(this)||(this.beginPath(),this.rect(P,z,Z,se),this.stroke())},g.prototype.clearRect=function(P,z,Z,se){if(isNaN(P)||isNaN(z)||isNaN(Z)||isNaN(se))throw zn.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(P,z,Z,se))},g.prototype.save=function(P){P=typeof P!="boolean"||P;for(var z=this.pdf.internal.getCurrentPageInfo().pageNumber,Z=0;Z<this.pdf.internal.getNumberOfPages();Z++)this.pdf.setPage(Z+1),this.pdf.internal.out("q");if(this.pdf.setPage(z),P){this.ctx.fontSize=this.pdf.internal.getFontSize();var se=new p(this.ctx);this.ctxStack.push(this.ctx),this.ctx=se}},g.prototype.restore=function(P){P=typeof P!="boolean"||P;for(var z=this.pdf.internal.getCurrentPageInfo().pageNumber,Z=0;Z<this.pdf.internal.getNumberOfPages();Z++)this.pdf.setPage(Z+1),this.pdf.internal.out("Q");this.pdf.setPage(z),P&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},g.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var y=function(P){var z,Z,se,ue;if(P.isCanvasGradient===!0&&(P=P.getColor()),!P)return{r:0,g:0,b:0,a:0,style:P};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(P))z=0,Z=0,se=0,ue=0;else{var he=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(P);if(he!==null)z=parseInt(he[1]),Z=parseInt(he[2]),se=parseInt(he[3]),ue=1;else if((he=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(P))!==null)z=parseInt(he[1]),Z=parseInt(he[2]),se=parseInt(he[3]),ue=parseFloat(he[4]);else{if(ue=1,typeof P=="string"&&P.charAt(0)!=="#"){var ve=new NN(P);P=ve.ok?ve.toHex():"#000000"}P.length===4?(z=P.substring(1,2),z+=z,Z=P.substring(2,3),Z+=Z,se=P.substring(3,4),se+=se):(z=P.substring(1,3),Z=P.substring(3,5),se=P.substring(5,7)),z=parseInt(z,16),Z=parseInt(Z,16),se=parseInt(se,16)}}return{r:z,g:Z,b:se,a:ue,style:P}},v=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},N=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};g.prototype.fillText=function(P,z,Z,se){if(isNaN(z)||isNaN(Z)||typeof P!="string")throw zn.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(se=isNaN(se)?void 0:se,!v.call(this)){var ue=ce(this.ctx.transform.rotation),he=this.ctx.transform.scaleX;I.call(this,{text:P,x:z,y:Z,scale:he,angle:ue,align:this.textAlign,maxWidth:se})}},g.prototype.strokeText=function(P,z,Z,se){if(isNaN(z)||isNaN(Z)||typeof P!="string")throw zn.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!N.call(this)){se=isNaN(se)?void 0:se;var ue=ce(this.ctx.transform.rotation),he=this.ctx.transform.scaleX;I.call(this,{text:P,x:z,y:Z,scale:he,renderingMode:"stroke",angle:ue,align:this.textAlign,maxWidth:se})}},g.prototype.measureText=function(P){if(typeof P!="string")throw zn.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var z=this.pdf,Z=this.pdf.internal.scaleFactor,se=z.internal.getFontSize(),ue=z.getStringUnitWidth(P)*se/z.internal.scaleFactor;return new function(he){var ve=(he=he||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return ve}}),this}({width:ue*=Math.round(96*Z/72*1e4)/1e4})},g.prototype.scale=function(P,z){if(isNaN(P)||isNaN(z))throw zn.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var Z=new d(P,0,0,z,0,0);this.ctx.transform=this.ctx.transform.multiply(Z)},g.prototype.rotate=function(P){if(isNaN(P))throw zn.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var z=new d(Math.cos(P),Math.sin(P),-Math.sin(P),Math.cos(P),0,0);this.ctx.transform=this.ctx.transform.multiply(z)},g.prototype.translate=function(P,z){if(isNaN(P)||isNaN(z))throw zn.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var Z=new d(1,0,0,1,P,z);this.ctx.transform=this.ctx.transform.multiply(Z)},g.prototype.transform=function(P,z,Z,se,ue,he){if(isNaN(P)||isNaN(z)||isNaN(Z)||isNaN(se)||isNaN(ue)||isNaN(he))throw zn.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var ve=new d(P,z,Z,se,ue,he);this.ctx.transform=this.ctx.transform.multiply(ve)},g.prototype.setTransform=function(P,z,Z,se,ue,he){P=isNaN(P)?1:P,z=isNaN(z)?0:z,Z=isNaN(Z)?0:Z,se=isNaN(se)?1:se,ue=isNaN(ue)?0:ue,he=isNaN(he)?0:he,this.ctx.transform=new d(P,z,Z,se,ue,he)};var C=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};g.prototype.drawImage=function(P,z,Z,se,ue,he,ve,be,je){var Oe=this.pdf.getImageProperties(P),qe=1,Qe=1,nt=1,ee=1;se!==void 0&&be!==void 0&&(nt=be/se,ee=je/ue,qe=Oe.width/se*be/se,Qe=Oe.height/ue*je/ue),he===void 0&&(he=z,ve=Z,z=0,Z=0),se!==void 0&&be===void 0&&(be=se,je=ue),se===void 0&&be===void 0&&(be=Oe.width,je=Oe.height);var $e=this.ctx.transform.decompose(),St=ce($e.rotate.shx),tt=new d,Me=(tt=(tt=(tt=tt.multiply($e.translate)).multiply($e.skew)).multiply($e.scale)).applyToRectangle(new u(he-z*nt,ve-Z*ee,se*qe,ue*Qe));if(this.autoPaging){for(var de,Ne=T.call(this,Me),Ke=[],Ge=0;Ge<Ne.length;Ge+=1)Ke.indexOf(Ne[Ge])===-1&&Ke.push(Ne[Ge]);M(Ke);for(var He=Ke[0],Ie=Ke[Ke.length-1],Je=He;Je<Ie+1;Je++){this.pdf.setPage(Je);var ot=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],ct=Je===1?this.posY+this.margin[0]:this.margin[0],Ze=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ht=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],it=Je===1?0:Ze+(Je-2)*ht;if(this.ctx.clip_path.length!==0){var Qt=this.path;de=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=D(de,this.posX+this.margin[3],-it+ct+this.ctx.prevPageLastElemOffset),q.call(this,"fill",!0),this.path=Qt}var kt=JSON.parse(JSON.stringify(Me));kt=D([kt],this.posX+this.margin[3],-it+ct+this.ctx.prevPageLastElemOffset)[0];var rt=(Je>He||Je<Ie)&&C.call(this);rt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ot,ht,null).clip().discardPath()),this.pdf.addImage(P,"JPEG",kt.x,kt.y,kt.w,kt.h,null,null,St),rt&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(P,"JPEG",Me.x,Me.y,Me.w,Me.h,null,null,St)};var T=function(P,z,Z){var se=[];z=z||this.pdf.internal.pageSize.width,Z=Z||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ue=this.posY+this.ctx.prevPageLastElemOffset;switch(P.type){default:case"mt":case"lt":se.push(Math.floor((P.y+ue)/Z)+1);break;case"arc":se.push(Math.floor((P.y+ue-P.radius)/Z)+1),se.push(Math.floor((P.y+ue+P.radius)/Z)+1);break;case"qct":var he=me(this.ctx.lastPoint.x,this.ctx.lastPoint.y,P.x1,P.y1,P.x,P.y);se.push(Math.floor((he.y+ue)/Z)+1),se.push(Math.floor((he.y+he.h+ue)/Z)+1);break;case"bct":var ve=Re(this.ctx.lastPoint.x,this.ctx.lastPoint.y,P.x1,P.y1,P.x2,P.y2,P.x,P.y);se.push(Math.floor((ve.y+ue)/Z)+1),se.push(Math.floor((ve.y+ve.h+ue)/Z)+1);break;case"rect":se.push(Math.floor((P.y+ue)/Z)+1),se.push(Math.floor((P.y+P.h+ue)/Z)+1)}for(var be=0;be<se.length;be+=1)for(;this.pdf.internal.getNumberOfPages()<se[be];)A.call(this);return se},A=function(){var P=this.fillStyle,z=this.strokeStyle,Z=this.font,se=this.lineCap,ue=this.lineWidth,he=this.lineJoin;this.pdf.addPage(),this.fillStyle=P,this.strokeStyle=z,this.font=Z,this.lineCap=se,this.lineWidth=ue,this.lineJoin=he},D=function(P,z,Z){for(var se=0;se<P.length;se++)switch(P[se].type){case"bct":P[se].x2+=z,P[se].y2+=Z;case"qct":P[se].x1+=z,P[se].y1+=Z;default:P[se].x+=z,P[se].y+=Z}return P},M=function(P){return P.sort(function(z,Z){return z-Z})},B=function(P,z){var Z=this.fillStyle,se=this.strokeStyle,ue=this.lineCap,he=this.lineWidth,ve=Math.abs(he*this.ctx.transform.scaleX),be=this.lineJoin;if(this.autoPaging){for(var je,Oe,qe=JSON.parse(JSON.stringify(this.path)),Qe=JSON.parse(JSON.stringify(this.path)),nt=[],ee=0;ee<Qe.length;ee++)if(Qe[ee].x!==void 0)for(var $e=T.call(this,Qe[ee]),St=0;St<$e.length;St+=1)nt.indexOf($e[St])===-1&&nt.push($e[St]);for(var tt=0;tt<nt.length;tt++)for(;this.pdf.internal.getNumberOfPages()<nt[tt];)A.call(this);M(nt);for(var Me=nt[0],de=nt[nt.length-1],Ne=Me;Ne<de+1;Ne++){this.pdf.setPage(Ne),this.fillStyle=Z,this.strokeStyle=se,this.lineCap=ue,this.lineWidth=ve,this.lineJoin=be;var Ke=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ge=Ne===1?this.posY+this.margin[0]:this.margin[0],He=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ie=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Je=Ne===1?0:He+(Ne-2)*Ie;if(this.ctx.clip_path.length!==0){var ot=this.path;je=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=D(je,this.posX+this.margin[3],-Je+Ge+this.ctx.prevPageLastElemOffset),q.call(this,P,!0),this.path=ot}if(Oe=JSON.parse(JSON.stringify(qe)),this.path=D(Oe,this.posX+this.margin[3],-Je+Ge+this.ctx.prevPageLastElemOffset),z===!1||Ne===0){var ct=(Ne>Me||Ne<de)&&C.call(this);ct&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ke,Ie,null).clip().discardPath()),q.call(this,P,z),ct&&this.pdf.restoreGraphicsState()}this.lineWidth=he}this.path=qe}else this.lineWidth=ve,q.call(this,P,z),this.lineWidth=he},q=function(P,z){if((P!=="stroke"||z||!N.call(this))&&(P==="stroke"||z||!v.call(this))){for(var Z,se,ue=[],he=this.path,ve=0;ve<he.length;ve++){var be=he[ve];switch(be.type){case"begin":ue.push({begin:!0});break;case"close":ue.push({close:!0});break;case"mt":ue.push({start:be,deltas:[],abs:[]});break;case"lt":var je=ue.length;if(he[ve-1]&&!isNaN(he[ve-1].x)&&(Z=[be.x-he[ve-1].x,be.y-he[ve-1].y],je>0)){for(;je>=0;je--)if(ue[je-1].close!==!0&&ue[je-1].begin!==!0){ue[je-1].deltas.push(Z),ue[je-1].abs.push(be);break}}break;case"bct":Z=[be.x1-he[ve-1].x,be.y1-he[ve-1].y,be.x2-he[ve-1].x,be.y2-he[ve-1].y,be.x-he[ve-1].x,be.y-he[ve-1].y],ue[ue.length-1].deltas.push(Z);break;case"qct":var Oe=he[ve-1].x+2/3*(be.x1-he[ve-1].x),qe=he[ve-1].y+2/3*(be.y1-he[ve-1].y),Qe=be.x+2/3*(be.x1-be.x),nt=be.y+2/3*(be.y1-be.y),ee=be.x,$e=be.y;Z=[Oe-he[ve-1].x,qe-he[ve-1].y,Qe-he[ve-1].x,nt-he[ve-1].y,ee-he[ve-1].x,$e-he[ve-1].y],ue[ue.length-1].deltas.push(Z);break;case"arc":ue.push({deltas:[],abs:[],arc:!0}),Array.isArray(ue[ue.length-1].abs)&&ue[ue.length-1].abs.push(be)}}se=z?null:P==="stroke"?"stroke":"fill";for(var St=!1,tt=0;tt<ue.length;tt++)if(ue[tt].arc)for(var Me=ue[tt].abs,de=0;de<Me.length;de++){var Ne=Me[de];Ne.type==="arc"?R.call(this,Ne.x,Ne.y,Ne.radius,Ne.startAngle,Ne.endAngle,Ne.counterclockwise,void 0,z,!St):J.call(this,Ne.x,Ne.y),St=!0}else if(ue[tt].close===!0)this.pdf.internal.out("h"),St=!1;else if(ue[tt].begin!==!0){var Ke=ue[tt].start.x,Ge=ue[tt].start.y;ne.call(this,ue[tt].deltas,Ke,Ge),St=!0}se&&L.call(this,se),z&&$.call(this)}},V=function(P){var z=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,Z=z*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return P-Z;case"top":return P+z-Z;case"hanging":return P+z-2*Z;case"middle":return P+z/2-Z;default:return P}},W=function(P){return P+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};g.prototype.createLinearGradient=function(){var P=function(){};return P.colorStops=[],P.addColorStop=function(z,Z){this.colorStops.push([z,Z])},P.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},P.isCanvasGradient=!0,P},g.prototype.createPattern=function(){return this.createLinearGradient()},g.prototype.createRadialGradient=function(){return this.createLinearGradient()};var R=function(P,z,Z,se,ue,he,ve,be,je){for(var Oe=re.call(this,Z,se,ue,he),qe=0;qe<Oe.length;qe++){var Qe=Oe[qe];qe===0&&(je?k.call(this,Qe.x1+P,Qe.y1+z):J.call(this,Qe.x1+P,Qe.y1+z)),we.call(this,P,z,Qe.x2,Qe.y2,Qe.x3,Qe.y3,Qe.x4,Qe.y4)}be?$.call(this):L.call(this,ve)},L=function(P){switch(P){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},$=function(){this.pdf.clip(),this.pdf.discardPath()},k=function(P,z){this.pdf.internal.out(n(P)+" "+r(z)+" m")},I=function(P){var z;switch(P.align){case"right":case"end":z="right";break;case"center":z="center";break;default:z="left"}var Z,se,ue,he=this.pdf.getTextDimensions(P.text),ve=V.call(this,P.y),be=W.call(this,ve)-he.h,je=this.ctx.transform.applyToPoint(new l(P.x,ve));if(this.autoPaging){var Oe=this.ctx.transform.decompose(),qe=new d;qe=(qe=(qe=qe.multiply(Oe.translate)).multiply(Oe.skew)).multiply(Oe.scale);for(var Qe=this.ctx.transform.applyToRectangle(new u(P.x,ve,he.w,he.h)),nt=qe.applyToRectangle(new u(P.x,be,he.w,he.h)),ee=T.call(this,nt),$e=[],St=0;St<ee.length;St+=1)$e.indexOf(ee[St])===-1&&$e.push(ee[St]);M($e);for(var tt=$e[0],Me=$e[$e.length-1],de=tt;de<Me+1;de++){this.pdf.setPage(de);var Ne=de===1?this.posY+this.margin[0]:this.margin[0],Ke=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ge=this.pdf.internal.pageSize.height-this.margin[2],He=Ge-this.margin[0],Ie=this.pdf.internal.pageSize.width-this.margin[1],Je=Ie-this.margin[3],ot=de===1?0:Ke+(de-2)*He;if(this.ctx.clip_path.length!==0){var ct=this.path;Z=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=D(Z,this.posX+this.margin[3],-1*ot+Ne),q.call(this,"fill",!0),this.path=ct}var Ze=D([JSON.parse(JSON.stringify(nt))],this.posX+this.margin[3],-ot+Ne+this.ctx.prevPageLastElemOffset)[0];P.scale>=.01&&(se=this.pdf.internal.getFontSize(),this.pdf.setFontSize(se*P.scale),ue=this.lineWidth,this.lineWidth=ue*P.scale);var ht=this.autoPaging!=="text";if(ht||Ze.y+Ze.h<=Ge){if(ht||Ze.y>=Ne&&Ze.x<=Ie){var it=ht?P.text:this.pdf.splitTextToSize(P.text,P.maxWidth||Ie-Ze.x)[0],Qt=D([JSON.parse(JSON.stringify(Qe))],this.posX+this.margin[3],-ot+Ne+this.ctx.prevPageLastElemOffset)[0],kt=ht&&(de>tt||de<Me)&&C.call(this);kt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Je,He,null).clip().discardPath()),this.pdf.text(it,Qt.x,Qt.y,{angle:P.angle,align:z,renderingMode:P.renderingMode}),kt&&this.pdf.restoreGraphicsState()}}else Ze.y<Ge&&(this.ctx.prevPageLastElemOffset+=Ge-Ze.y);P.scale>=.01&&(this.pdf.setFontSize(se),this.lineWidth=ue)}}else P.scale>=.01&&(se=this.pdf.internal.getFontSize(),this.pdf.setFontSize(se*P.scale),ue=this.lineWidth,this.lineWidth=ue*P.scale),this.pdf.text(P.text,je.x+this.posX,je.y+this.posY,{angle:P.angle,align:z,renderingMode:P.renderingMode,maxWidth:P.maxWidth}),P.scale>=.01&&(this.pdf.setFontSize(se),this.lineWidth=ue)},J=function(P,z,Z,se){Z=Z||0,se=se||0,this.pdf.internal.out(n(P+Z)+" "+r(z+se)+" l")},ne=function(P,z,Z){return this.pdf.lines(P,z,Z,null,null)},we=function(P,z,Z,se,ue,he,ve,be){this.pdf.internal.out([e(a(Z+P)),e(s(se+z)),e(a(ue+P)),e(s(he+z)),e(a(ve+P)),e(s(be+z)),"c"].join(" "))},re=function(P,z,Z,se){for(var ue=2*Math.PI,he=Math.PI/2;z>Z;)z-=ue;var ve=Math.abs(Z-z);ve<ue&&se&&(ve=ue-ve);for(var be=[],je=se?-1:1,Oe=z;ve>1e-5;){var qe=Oe+je*Math.min(ve,he);be.push(le.call(this,P,Oe,qe)),ve-=Math.abs(qe-Oe),Oe=qe}return be},le=function(P,z,Z){var se=(Z-z)/2,ue=P*Math.cos(se),he=P*Math.sin(se),ve=ue,be=-he,je=ve*ve+be*be,Oe=je+ve*ue+be*he,qe=4/3*(Math.sqrt(2*je*Oe)-Oe)/(ve*he-be*ue),Qe=ve-qe*be,nt=be+qe*ve,ee=Qe,$e=-nt,St=se+z,tt=Math.cos(St),Me=Math.sin(St);return{x1:P*Math.cos(z),y1:P*Math.sin(z),x2:Qe*tt-nt*Me,y2:Qe*Me+nt*tt,x3:ee*tt-$e*Me,y3:ee*Me+$e*tt,x4:P*Math.cos(Z),y4:P*Math.sin(Z)}},ce=function(P){return 180*P/Math.PI},me=function(P,z,Z,se,ue,he){var ve=P+.5*(Z-P),be=z+.5*(se-z),je=ue+.5*(Z-ue),Oe=he+.5*(se-he),qe=Math.min(P,ue,ve,je),Qe=Math.max(P,ue,ve,je),nt=Math.min(z,he,be,Oe),ee=Math.max(z,he,be,Oe);return new u(qe,nt,Qe-qe,ee-nt)},Re=function(P,z,Z,se,ue,he,ve,be){var je,Oe,qe,Qe,nt,ee,$e,St,tt,Me,de,Ne,Ke,Ge,He=Z-P,Ie=se-z,Je=ue-Z,ot=he-se,ct=ve-ue,Ze=be-he;for(Oe=0;Oe<41;Oe++)tt=($e=(qe=P+(je=Oe/40)*He)+je*((nt=Z+je*Je)-qe))+je*(nt+je*(ue+je*ct-nt)-$e),Me=(St=(Qe=z+je*Ie)+je*((ee=se+je*ot)-Qe))+je*(ee+je*(he+je*Ze-ee)-St),Oe==0?(de=tt,Ne=Me,Ke=tt,Ge=Me):(de=Math.min(de,tt),Ne=Math.min(Ne,Me),Ke=Math.max(Ke,tt),Ge=Math.max(Ge,Me));return new u(Math.round(de),Math.round(Ne),Math.round(Ke-de),Math.round(Ge-Ne))},Y=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var P,z,Z=(P=this.ctx.lineDash,z=this.ctx.lineDashOffset,JSON.stringify({lineDash:P,lineDashOffset:z}));this.prevLineDash!==Z&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=Z)}}})(Nt.API),(function(t){var e=function(l){var u,d,f,p,g,y,v,N,C,T;for(d=[],f=0,p=(l+=u="\0\0\0\0".slice(l.length%4||4)).length;p>f;f+=4)(g=(l.charCodeAt(f)<<24)+(l.charCodeAt(f+1)<<16)+(l.charCodeAt(f+2)<<8)+l.charCodeAt(f+3))!==0?(y=(g=((g=((g=((g=(g-(T=g%85))/85)-(C=g%85))/85)-(N=g%85))/85)-(v=g%85))/85)%85,d.push(y+33,v+33,N+33,C+33,T+33)):d.push(122);return(function(A,D){for(var M=D;M>0;M--)A.pop()})(d,u.length),String.fromCharCode.apply(String,d)+"~>"},n=function(l){var u,d,f,p,g,y=String,v="length",N=255,C="charCodeAt",T="slice",A="replace";for(l[T](-2),l=l[T](0,-2)[A](/\s/g,"")[A]("z","!!!!!"),f=[],p=0,g=(l+=u="uuuuu"[T](l[v]%5||5))[v];g>p;p+=5)d=52200625*(l[C](p)-33)+614125*(l[C](p+1)-33)+7225*(l[C](p+2)-33)+85*(l[C](p+3)-33)+(l[C](p+4)-33),f.push(N&d>>24,N&d>>16,N&d>>8,N&d);return(function(D,M){for(var B=M;B>0;B--)D.pop()})(f,u[v]),y.fromCharCode.apply(y,f)},r=function(l){return l.split("").map(function(u){return("0"+u.charCodeAt().toString(16)).slice(-2)}).join("")+">"},a=function(l){var u=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((l=l.replace(/\s/g,"")).indexOf(">")!==-1&&(l=l.substr(0,l.indexOf(">"))),l.length%2&&(l+="0"),u.test(l)===!1)return"";for(var d="",f=0;f<l.length;f+=2)d+=String.fromCharCode("0x"+(l[f]+l[f+1]));return d},s=function(l){for(var u=new Uint8Array(l.length),d=l.length;d--;)u[d]=l.charCodeAt(d);return(u=Bv(u)).reduce(function(f,p){return f+String.fromCharCode(p)},"")};t.processDataByFilters=function(l,u){var d=0,f=l||"",p=[];for(typeof(u=u||[])=="string"&&(u=[u]),d=0;d<u.length;d+=1)switch(u[d]){case"ASCII85Decode":case"/ASCII85Decode":f=n(f),p.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":f=e(f),p.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":f=a(f),p.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":f=r(f),p.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":f=s(f),p.push("/FlateDecode");break;default:throw new Error('The filter: "'+u[d]+'" is not implemented')}return{data:f,reverseChain:p.reverse().join(" ")}}})(Nt.API),(function(t){t.loadFile=function(e,n,r){return(function(a,s,l){s=s!==!1,l=typeof l=="function"?l:function(){};var u=void 0;try{u=(function(d,f,p){var g=new XMLHttpRequest,y=0,v=function(N){var C=N.length,T=[],A=String.fromCharCode;for(y=0;y<C;y+=1)T.push(A(255&N.charCodeAt(y)));return T.join("")};if(g.open("GET",d,!f),g.overrideMimeType("text/plain; charset=x-user-defined"),f===!1&&(g.onload=function(){g.status===200?p(v(this.responseText)):p(void 0)}),g.send(null),f&&g.status===200)return v(g.responseText)})(a,s,l)}catch{}return u})(e,n,r)},t.loadImageFile=t.loadFile})(Nt.API),(function(t){function e(){return(Vt.html2canvas?Promise.resolve(Vt.html2canvas):N1(()=>import("./html2canvas.esm-DXEQVQnt.js"),[])).catch(function(u){return Promise.reject(new Error("Could not load html2canvas: "+u))}).then(function(u){return u.default?u.default:u})}function n(){return(Vt.DOMPurify?Promise.resolve(Vt.DOMPurify):N1(()=>import("./purify.es-Bzr520pe.js"),[])).catch(function(u){return Promise.reject(new Error("Could not load dompurify: "+u))}).then(function(u){return u.default?u.default:u})}var r=function(u){var d=Ln(u);return d==="undefined"?"undefined":d==="string"||u instanceof String?"string":d==="number"||u instanceof Number?"number":d==="function"||u instanceof Function?"function":u&&u.constructor===Array?"array":u&&u.nodeType===1?"element":d==="object"?"object":"unknown"},a=function(u,d){var f=document.createElement(u);for(var p in d.className&&(f.className=d.className),d.innerHTML&&d.dompurify&&(f.innerHTML=d.dompurify.sanitize(d.innerHTML)),d.style)f.style[p]=d.style[p];return f},s=function u(d,f){for(var p=d.nodeType===3?document.createTextNode(d.nodeValue):d.cloneNode(!1),g=d.firstChild;g;g=g.nextSibling)f!==!0&&g.nodeType===1&&g.nodeName==="SCRIPT"||p.appendChild(u(g,f));return d.nodeType===1&&(d.nodeName==="CANVAS"?(p.width=d.width,p.height=d.height,p.getContext("2d").drawImage(d,0,0)):d.nodeName!=="TEXTAREA"&&d.nodeName!=="SELECT"||(p.value=d.value),p.addEventListener("load",function(){p.scrollTop=d.scrollTop,p.scrollLeft=d.scrollLeft},!0)),p},l=function u(d){var f=Object.assign(u.convert(Promise.resolve()),JSON.parse(JSON.stringify(u.template))),p=u.convert(Promise.resolve(),f);return(p=p.setProgress(1,u,1,[u])).set(d)};(l.prototype=Object.create(Promise.prototype)).constructor=l,l.convert=function(u,d){return u.__proto__=d||l.prototype,u},l.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},l.prototype.from=function(u,d){return this.then(function(){switch(d=d||(function(f){switch(r(f)){case"string":return"string";case"element":return f.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(u),d){case"string":return this.then(n).then(function(f){return this.set({src:a("div",{innerHTML:u,dompurify:f})})});case"element":return this.set({src:u});case"canvas":return this.set({canvas:u});case"img":return this.set({img:u});default:return this.error("Unknown source type.")}})},l.prototype.to=function(u){switch(u){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},l.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var u={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},d=s(this.prop.src,this.opt.html2canvas.javascriptEnabled);d.tagName==="BODY"&&(u.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=a("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=a("div",{className:"html2pdf__container",style:u}),this.prop.container.appendChild(d),this.prop.container.firstChild.appendChild(a("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},l.prototype.toCanvas=function(){var u=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(u).then(e).then(function(d){var f=Object.assign({},this.opt.html2canvas);return delete f.onrendered,d(this.prop.container,f)}).then(function(d){(this.opt.html2canvas.onrendered||function(){})(d),this.prop.canvas=d,document.body.removeChild(this.prop.overlay)})},l.prototype.toContext2d=function(){var u=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(u).then(e).then(function(d){var f=this.opt.jsPDF,p=this.opt.fontFaces,g=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,y=Object.assign({async:!0,allowTaint:!0,scale:g,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete y.onrendered,f.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,f.context2d.posX=this.opt.x,f.context2d.posY=this.opt.y,f.context2d.margin=this.opt.margin,f.context2d.fontFaces=p,p)for(var v=0;v<p.length;++v){var N=p[v],C=N.src.find(function(T){return T.format==="truetype"});C&&f.addFont(C.url,N.ref.name,N.ref.style)}return y.windowHeight=y.windowHeight||0,y.windowHeight=y.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):y.windowHeight,f.context2d.save(!0),d(this.prop.container,y)}).then(function(d){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(d),this.prop.canvas=d,document.body.removeChild(this.prop.overlay)})},l.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var u=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=u})},l.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},l.prototype.output=function(u,d,f){return(f=f||"pdf").toLowerCase()==="img"||f.toLowerCase()==="image"?this.outputImg(u,d):this.outputPdf(u,d)},l.prototype.outputPdf=function(u,d){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(u,d)})},l.prototype.outputImg=function(u){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(u){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+u+'" is not supported.'}})},l.prototype.save=function(u){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(u?{filename:u}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},l.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},l.prototype.set=function(u){if(r(u)!=="object")return this;var d=Object.keys(u||{}).map(function(f){if(f in l.template.prop)return function(){this.prop[f]=u[f]};switch(f){case"margin":return this.setMargin.bind(this,u.margin);case"jsPDF":return function(){return this.opt.jsPDF=u.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,u.pageSize);default:return function(){this.opt[f]=u[f]}}},this);return this.then(function(){return this.thenList(d)})},l.prototype.get=function(u,d){return this.then(function(){var f=u in l.template.prop?this.prop[u]:this.opt[u];return d?d(f):f})},l.prototype.setMargin=function(u){return this.then(function(){switch(r(u)){case"number":u=[u,u,u,u];case"array":if(u.length===2&&(u=[u[0],u[1],u[0],u[1]]),u.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=u}).then(this.setPageSize)},l.prototype.setPageSize=function(u){function d(f,p){return Math.floor(f*p/72*96)}return this.then(function(){(u=u||Nt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(u.inner={width:u.width-this.opt.margin[1]-this.opt.margin[3],height:u.height-this.opt.margin[0]-this.opt.margin[2]},u.inner.px={width:d(u.inner.width,u.k),height:d(u.inner.height,u.k)},u.inner.ratio=u.inner.height/u.inner.width),this.prop.pageSize=u})},l.prototype.setProgress=function(u,d,f,p){return u!=null&&(this.progress.val=u),d!=null&&(this.progress.state=d),f!=null&&(this.progress.n=f),p!=null&&(this.progress.stack=p),this.progress.ratio=this.progress.val/this.progress.state,this},l.prototype.updateProgress=function(u,d,f,p){return this.setProgress(u?this.progress.val+u:null,d||null,f?this.progress.n+f:null,p?this.progress.stack.concat(p):null)},l.prototype.then=function(u,d){var f=this;return this.thenCore(u,d,function(p,g){return f.updateProgress(null,null,1,[p]),Promise.prototype.then.call(this,function(y){return f.updateProgress(null,p),y}).then(p,g).then(function(y){return f.updateProgress(1),y})})},l.prototype.thenCore=function(u,d,f){f=f||Promise.prototype.then;var p=this;u&&(u=u.bind(p)),d&&(d=d.bind(p));var g=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?p:l.convert(Object.assign({},p),Promise.prototype),y=f.call(g,u,d);return l.convert(y,p.__proto__)},l.prototype.thenExternal=function(u,d){return Promise.prototype.then.call(this,u,d)},l.prototype.thenList=function(u){var d=this;return u.forEach(function(f){d=d.thenCore(f)}),d},l.prototype.catch=function(u){u&&(u=u.bind(this));var d=Promise.prototype.catch.call(this,u);return l.convert(d,this)},l.prototype.catchExternal=function(u){return Promise.prototype.catch.call(this,u)},l.prototype.error=function(u){return this.then(function(){throw new Error(u)})},l.prototype.using=l.prototype.set,l.prototype.saveAs=l.prototype.save,l.prototype.export=l.prototype.output,l.prototype.run=l.prototype.then,Nt.getPageSize=function(u,d,f){if(Ln(u)==="object"){var p=u;u=p.orientation,d=p.unit||d,f=p.format||f}d=d||"mm",f=f||"a4",u=(""+(u||"P")).toLowerCase();var g,y=(""+f).toLowerCase(),v={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(d){case"pt":g=1;break;case"mm":g=72/25.4;break;case"cm":g=72/2.54;break;case"in":g=72;break;case"px":g=.75;break;case"pc":case"em":g=12;break;case"ex":g=6;break;default:throw"Invalid unit: "+d}var N,C=0,T=0;if(v.hasOwnProperty(y))C=v[y][1]/g,T=v[y][0]/g;else try{C=f[1],T=f[0]}catch{throw new Error("Invalid format: "+f)}if(u==="p"||u==="portrait")u="p",T>C&&(N=T,T=C,C=N);else{if(u!=="l"&&u!=="landscape")throw"Invalid orientation: "+u;u="l",C>T&&(N=T,T=C,C=N)}return{width:T,height:C,unit:d,k:g,orientation:u}},t.html=function(u,d){(d=d||{}).callback=d.callback||function(){},d.html2canvas=d.html2canvas||{},d.html2canvas.canvas=d.html2canvas.canvas||this.canvas,d.jsPDF=d.jsPDF||this,d.fontFaces=d.fontFaces?d.fontFaces.map(V1):null;var f=new l(d);return d.worker?f:f.from(u).doCallback()}})(Nt.API),Nt.API.addJS=function(t){return d4=t,this.internal.events.subscribe("postPutResources",function(){Jp=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Jp+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),u4=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+d4+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Jp!==void 0&&u4!==void 0&&this.internal.out("/Names <</JavaScript "+Jp+" 0 R>>")}),this},(function(t){var e;t.events.push(["postPutResources",function(){var n=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var a=n.outline.render().split(/\r\n/),s=0;s<a.length;s++){var l=a[s],u=r.exec(l);if(u!=null){var d=u[1];n.internal.newObjectDeferredBegin(d,!1)}n.internal.write(l)}if(this.outline.createNamedDestinations){var f=this.internal.pages.length,p=[];for(s=0;s<f;s++){var g=n.internal.newObject();p.push(g);var y=n.internal.getPageInfo(s+1);n.internal.write("<< /D["+y.objId+" 0 R /XYZ null null null]>> endobj")}var v=n.internal.newObject();for(n.internal.write("<< /Names [ "),s=0;s<p.length;s++)n.internal.write("(page_"+(s+1)+")"+p[s]+" 0 R");n.internal.write(" ] >>","endobj"),e=n.internal.newObject(),n.internal.write("<< /Dests "+v+" 0 R"),n.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){var n=this;n.outline.root.children.length>0&&(n.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&n.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}},n.outline.add=function(r,a,s){var l={title:a,options:s,children:[]};return r==null&&(r=this.root),r.children.push(l),l},n.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=n,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},n.outline.genIds_r=function(r){r.id=n.internal.newObjectDeferred();for(var a=0;a<r.children.length;a++)this.genIds_r(r.children[a])},n.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},n.outline.renderItems=function(r){for(var a=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<r.children.length;s++){var l=r.children[s];this.objStart(l),this.line("/Title "+this.makeString(l.title)),this.line("/Parent "+this.makeRef(r)),s>0&&this.line("/Prev "+this.makeRef(r.children[s-1])),s<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[s+1])),l.children.length>0&&(this.line("/First "+this.makeRef(l.children[0])),this.line("/Last "+this.makeRef(l.children[l.children.length-1])));var u=this.count=this.count_r({count:0},l);if(u>0&&this.line("/Count "+u),l.options&&l.options.pageNumber){var d=n.internal.getPageInfo(l.options.pageNumber);this.line("/Dest ["+d.objId+" 0 R /XYZ 0 "+a(0)+" 0]")}this.objEnd()}for(var f=0;f<r.children.length;f++)this.renderItems(r.children[f])},n.outline.line=function(r){this.ctx.val+=r+`\r
`},n.outline.makeRef=function(r){return r.id+" 0 R"},n.outline.makeString=function(r){return"("+n.internal.pdfEscape(r)+")"},n.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},n.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},n.outline.count_r=function(r,a){for(var s=0;s<a.children.length;s++)r.count++,this.count_r(r,a.children[s]);return r.count}}])})(Nt.API),(function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(n,r,a,s,l,u){var d,f=this.decode.DCT_DECODE,p=null;if(typeof n=="string"||this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n)){switch(n=l||n,n=this.__addimage__.isArrayBuffer(n)?new Uint8Array(n):n,d=(function(g){for(var y,v=256*g.charCodeAt(4)+g.charCodeAt(5),N=g.length,C={width:0,height:0,numcomponents:1},T=4;T<N;T+=2){if(T+=v,e.indexOf(g.charCodeAt(T+1))!==-1){y=256*g.charCodeAt(T+5)+g.charCodeAt(T+6),C={width:256*g.charCodeAt(T+7)+g.charCodeAt(T+8),height:y,numcomponents:g.charCodeAt(T+9)};break}v=256*g.charCodeAt(T+2)+g.charCodeAt(T+3)}return C})(n=this.__addimage__.isArrayBufferView(n)?this.__addimage__.arrayBufferToBinaryString(n):n),d.numcomponents){case 1:u=this.color_spaces.DEVICE_GRAY;break;case 4:u=this.color_spaces.DEVICE_CMYK;break;case 3:u=this.color_spaces.DEVICE_RGB}p={data:n,width:d.width,height:d.height,colorSpace:u,bitsPerComponent:8,filter:f,index:r,alias:a}}return p}})(Nt.API),Nt.API.processPNG=function(t,e,n,r){if(this.__addimage__.isArrayBuffer(t)&&(t=new Uint8Array(t)),this.__addimage__.isArrayBufferView(t)){var a,s=OF(t,{checkCrc:!0}),l=s.width,u=s.height,d=s.channels,f=s.palette,p=s.depth;a=f&&d===1?(function(R){for(var L=R.width,$=R.height,k=R.data,I=R.palette,J=R.depth,ne=!1,we=[],re=[],le=void 0,ce=!1,me=0,Re=0;Re<I.length;Re++){var Y=m_(I[Re],4),P=Y[0],z=Y[1],Z=Y[2],se=Y[3];we.push(P,z,Z),se!=null&&(se===0?(me++,re.length<1&&re.push(Re)):se<255&&(ce=!0))}if(ce||me>1){ne=!0,re=void 0;var ue=L*$;le=new Uint8Array(ue);for(var he=new DataView(k.buffer),ve=0;ve<ue;ve++){var be=$1(he,ve,J),je=m_(I[be],4)[3];le[ve]=je}}else me===0&&(re=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:ne?8:void 0,colorBytes:k,alphaBytes:le,needSMask:ne,palette:we,mask:re}})(s):d===2||d===4?(function(R){for(var L=R.data,$=R.width,k=R.height,I=R.channels,J=R.depth,ne=I===2?"DeviceGray":"DeviceRGB",we=I-1,re=$*k,le=we,ce=re*le,me=1*re,Re=Math.ceil(ce*J/8),Y=Math.ceil(me*J/8),P=new Uint8Array(Re),z=new Uint8Array(Y),Z=new DataView(L.buffer),se=new DataView(P.buffer),ue=new DataView(z.buffer),he=!1,ve=0;ve<re;ve++){for(var be=ve*I,je=0;je<le;je++)w4(se,$1(Z,be+je,J),ve*le+je,J);var Oe=$1(Z,be+le,J);Oe<(1<<J)-1&&(he=!0),w4(ue,Oe,1*ve,J)}return{colorSpace:ne,colorsPerPixel:we,sMaskBitsPerComponent:he?J:void 0,colorBytes:P,alphaBytes:z,needSMask:he}})(s):(function(R){var L=R.data,$=R.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:$,colorsPerPixel:$==="DeviceGray"?1:3,colorBytes:L instanceof Uint16Array?(function(k){for(var I=k.length,J=new Uint8Array(2*I),ne=new DataView(J.buffer,J.byteOffset,J.byteLength),we=0;we<I;we++)ne.setUint16(2*we,k[we],!1);return J})(L):L,needSMask:!1}})(s);var g,y,v,N=a,C=N.colorSpace,T=N.colorsPerPixel,A=N.sMaskBitsPerComponent,D=N.colorBytes,M=N.alphaBytes,B=N.needSMask,q=N.palette,V=N.mask,W=null;return r!==Nt.API.image_compression.NONE&&typeof Bv=="function"?(W=(function(R){var L;switch(R){case Nt.API.image_compression.FAST:L=11;break;case Nt.API.image_compression.MEDIUM:L=13;break;case Nt.API.image_compression.SLOW:L=14;break;default:L=12}return L})(r),g=this.decode.FLATE_DECODE,y="/Predictor ".concat(W," /Colors ").concat(T," /BitsPerComponent ").concat(p," /Columns ").concat(l),t=m4(D,Math.ceil(l*T*p/8),T,p,r),B&&(v=m4(M,Math.ceil(l*A/8),1,A,r))):(g=void 0,y=void 0,t=D,B&&(v=M)),(this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t))&&(t=this.__addimage__.arrayBufferToBinaryString(t)),(v&&this.__addimage__.isArrayBuffer(v)||this.__addimage__.isArrayBufferView(v))&&(v=this.__addimage__.arrayBufferToBinaryString(v)),{alias:n,data:t,index:e,filter:g,decodeParameters:y,transparency:V,palette:q,sMask:v,predictor:W,width:l,height:u,bitsPerComponent:p,sMaskBitsPerComponent:A,colorSpace:C}}},(function(t){t.processGIF89A=function(e,n,r,a){var s=new eU(e),l=s.width,u=s.height,d=[];s.decodeAndBlitFrameRGBA(0,d);var f={data:d,width:l,height:u},p=new G1(100).encode(f,100);return t.processJPEG.call(this,p,n,r,a)},t.processGIF87A=t.processGIF89A})(Nt.API),Us.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:a,green:r,blue:n,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Us.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(n){zn.log("bit decode error:"+n)}},Us.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),n=e%4;for(t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,a=0;a<e;a++)for(var s=this.datav.getUint8(this.pos++,!0),l=r*this.width*4+8*a*4,u=0;u<8&&8*a+u<this.width;u++){var d=this.palette[s>>7-u&1];this.data[l+4*u]=d.blue,this.data[l+4*u+1]=d.green,this.data[l+4*u+2]=d.red,this.data[l+4*u+3]=255}n!==0&&(this.pos+=4-n)}},Us.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,a=0;a<t;a++){var s=this.datav.getUint8(this.pos++,!0),l=r*this.width*4+2*a*4,u=s>>4,d=15&s,f=this.palette[u];if(this.data[l]=f.blue,this.data[l+1]=f.green,this.data[l+2]=f.red,this.data[l+3]=255,2*a+1>=this.width)break;f=this.palette[d],this.data[l+4]=f.blue,this.data[l+4+1]=f.green,this.data[l+4+2]=f.red,this.data[l+4+3]=255}e!==0&&(this.pos+=4-e)}},Us.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var a=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+4*r;if(a<this.palette.length){var l=this.palette[a];this.data[s]=l.red,this.data[s+1]=l.green,this.data[s+2]=l.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}t!==0&&(this.pos+=4-t)}},Us.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,a=0;a<this.width;a++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(s&e)/e*255|0,u=(s>>5&e)/e*255|0,d=(s>>10&e)/e*255|0,f=s>>15?255:0,p=r*this.width*4+4*a;this.data[p]=d,this.data[p+1]=u,this.data[p+2]=l,this.data[p+3]=f}this.pos+=t}},Us.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),n=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var a=this.bottom_up?r:this.height-1-r,s=0;s<this.width;s++){var l=this.datav.getUint16(this.pos,!0);this.pos+=2;var u=(l&e)/e*255|0,d=(l>>5&n)/n*255|0,f=(l>>11)/e*255|0,p=a*this.width*4+4*s;this.data[p]=f,this.data[p+1]=d,this.data[p+2]=u,this.data[p+3]=255}this.pos+=t}},Us.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),l=e*this.width*4+4*n;this.data[l]=s,this.data[l+1]=a,this.data[l+2]=r,this.data[l+3]=255}this.pos+=this.width%4}},Us.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),l=this.datav.getUint8(this.pos++,!0),u=e*this.width*4+4*n;this.data[u]=s,this.data[u+1]=a,this.data[u+2]=r,this.data[u+3]=l}},Us.prototype.getData=function(){return this.data},(function(t){t.processBMP=function(e,n,r,a){var s=new Us(e,!1),l=s.width,u=s.height,d={data:s.getData(),width:l,height:u},f=new G1(100).encode(d,100);return t.processJPEG.call(this,f,n,r,a)}})(Nt.API),_4.prototype.getData=function(){return this.data},(function(t){t.processWEBP=function(e,n,r,a){var s=new _4(e),l=s.width,u=s.height,d={data:s.getData(),width:l,height:u},f=new G1(100).encode(d,100);return t.processJPEG.call(this,f,n,r,a)}})(Nt.API),Nt.API.processRGBA=function(t,e,n){for(var r=t.data,a=r.length,s=new Uint8Array(a/4*3),l=new Uint8Array(a/4),u=0,d=0,f=0;f<a;f+=4){var p=r[f],g=r[f+1],y=r[f+2],v=r[f+3];s[u++]=p,s[u++]=g,s[u++]=y,l[d++]=v}var N=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(l),data:N,index:e,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},Nt.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},yd=Nt.API,Qp=yd.getCharWidthsArray=function(t,e){var n,r,a=(e=e||{}).font||this.internal.getFont(),s=e.fontSize||this.internal.getFontSize(),l=e.charSpace||this.internal.getCharSpace(),u=e.widths?e.widths:a.metadata.Unicode.widths,d=u.fof?u.fof:1,f=e.kerning?e.kerning:a.metadata.Unicode.kerning,p=f.fof?f.fof:1,g=e.doKerning!==!1,y=0,v=t.length,N=0,C=u[0]||d,T=[];for(n=0;n<v;n++)r=t.charCodeAt(n),typeof a.metadata.widthOfString=="function"?T.push((a.metadata.widthOfGlyph(a.metadata.characterToGlyph(r))+l*(1e3/s)||0)/1e3):(y=g&&Ln(f[r])==="object"&&!isNaN(parseInt(f[r][N],10))?f[r][N]/p:0,T.push((u[r]||C)/d+y)),N=r;return T},f4=yd.getStringUnitWidth=function(t,e){var n=(e=e||{}).fontSize||this.internal.getFontSize(),r=e.font||this.internal.getFont(),a=e.charSpace||this.internal.getCharSpace();return yd.processArabic&&(t=yd.processArabic(t)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(t,n,a)/n:Qp.apply(this,arguments).reduce(function(s,l){return s+l},0)},h4=function(t,e,n,r){for(var a=[],s=0,l=t.length,u=0;s!==l&&u+e[s]<n;)u+=e[s],s++;a.push(t.slice(0,s));var d=s;for(u=0;s!==l;)u+e[s]>r&&(a.push(t.slice(d,s)),u=0,d=s),u+=e[s],s++;return d!==s&&a.push(t.slice(d,s)),a},p4=function(t,e,n){n||(n={});var r,a,s,l,u,d,f,p=[],g=[p],y=n.textIndent||0,v=0,N=0,C=t.split(" "),T=Qp.apply(this,[" ",n])[0];if(d=n.lineIndent===-1?C[0].length+2:n.lineIndent||0){var A=Array(d).join(" "),D=[];C.map(function(B){(B=B.split(/\s*\n/)).length>1?D=D.concat(B.map(function(q,V){return(V&&q.length?`
`:"")+q})):D.push(B[0])}),C=D,d=f4.apply(this,[A,n])}for(s=0,l=C.length;s<l;s++){var M=0;if(r=C[s],d&&r[0]==`
`&&(r=r.substr(1),M=1),y+v+(N=(a=Qp.apply(this,[r,n])).reduce(function(B,q){return B+q},0))>e||M){if(N>e){for(u=h4.apply(this,[r,a,e-(y+v),e]),p.push(u.shift()),p=[u.pop()];u.length;)g.push([u.shift()]);N=a.slice(r.length-(p[0]?p[0].length:0)).reduce(function(B,q){return B+q},0)}else p=[r];g.push(p),y=N+d,v=T}else p.push(r),y+=v+N,v=T}return f=d?function(B,q){return(q?A:"")+B.join(" ")}:function(B){return B.join(" ")},g.map(f)},yd.splitTextToSize=function(t,e,n){var r,a=(n=n||{}).fontSize||this.internal.getFontSize(),s=(function(p){if(p.widths&&p.kerning)return{widths:p.widths,kerning:p.kerning};var g=this.internal.getFont(p.fontName,p.fontStyle),y="Unicode";return g.metadata[y]?{widths:g.metadata[y].widths||{0:1},kerning:g.metadata[y].kerning||{}}:{font:g.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,n);r=Array.isArray(t)?t:String(t).split(/\r?\n/);var l=1*this.internal.scaleFactor*e/a;s.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/a:0,s.lineIndent=n.lineIndent;var u,d,f=[];for(u=0,d=r.length;u<d;u++)f=f.concat(p4.apply(this,[r[u],l,s]));return f},(function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="0123456789abcdef",n="klmnopqrstuvwxyz",r={},a={},s=0;s<16;s++)r[n[s]]=e[s],a[e[s]]=n[s];var l=function(y){return"0x"+parseInt(y,10).toString(16)},u=t.__fontmetrics__.compress=function(y){var v,N,C,T,A=["{"];for(var D in y){if(v=y[D],isNaN(parseInt(D,10))?N="'"+D+"'":(D=parseInt(D,10),N=(N=l(D).slice(2)).slice(0,-1)+a[N.slice(-1)]),typeof v=="number")v<0?(C=l(v).slice(3),T="-"):(C=l(v).slice(2),T=""),C=T+C.slice(0,-1)+a[C.slice(-1)];else{if(Ln(v)!=="object")throw new Error("Don't know what to do with value type "+Ln(v)+".");C=u(v)}A.push(N+C)}return A.push("}"),A.join("")},d=t.__fontmetrics__.uncompress=function(y){if(typeof y!="string")throw new Error("Invalid argument passed to uncompress.");for(var v,N,C,T,A={},D=1,M=A,B=[],q="",V="",W=y.length-1,R=1;R<W;R+=1)(T=y[R])=="'"?v?(C=v.join(""),v=void 0):v=[]:v?v.push(T):T=="{"?(B.push([M,C]),M={},C=void 0):T=="}"?((N=B.pop())[0][N[1]]=M,C=void 0,M=N[0]):T=="-"?D=-1:C===void 0?r.hasOwnProperty(T)?(q+=r[T],C=parseInt(q,16)*D,D=1,q=""):q+=T:r.hasOwnProperty(T)?(V+=r[T],M[C]=parseInt(V,16)*D,D=1,C=void 0,V=""):V+=T;return A},f={codePages:["WinAnsiEncoding"],WinAnsiEncoding:d("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},p={Unicode:{Courier:f,"Courier-Bold":f,"Courier-BoldOblique":f,"Courier-Oblique":f,Helvetica:f,"Helvetica-Bold":f,"Helvetica-BoldOblique":f,"Helvetica-Oblique":f,"Times-Roman":f,"Times-Bold":f,"Times-BoldItalic":f,"Times-Italic":f}},g={Unicode:{"Courier-Oblique":d("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":d("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":d("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:d("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":d("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":d("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:d("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:d("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":d("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:d("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":d("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":d("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":d("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":d("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(y){var v=y.font,N=g.Unicode[v.postScriptName];N&&(v.metadata.Unicode={},v.metadata.Unicode.widths=N.widths,v.metadata.Unicode.kerning=N.kerning);var C=p.Unicode[v.postScriptName];C&&(v.metadata.Unicode.encoding=C,v.encoding=C.codePages[0])}])})(Nt.API),(function(t){var e=function(n){for(var r=n.length,a=new Uint8Array(r),s=0;s<r;s++)a[s]=n.charCodeAt(s);return a};t.API.events.push(["addFont",function(n){var r=void 0,a=n.font,s=n.instance;if(!a.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");if(typeof(r=s.existsFileInVFS(a.postScriptName)===!1?s.loadFile(a.postScriptName):s.getFileFromVFS(a.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");(function(l,u){u=/^\x00\x01\x00\x00/.test(u)?e(u):e(um(u)),l.metadata=t.API.TTFFont.open(u),l.metadata.Unicode=l.metadata.Unicode||{encoding:{},kerning:{},widths:[]},l.metadata.glyIdsUsed=[0]})(a,r)}}])})(Nt),Nt.API.addSvgAsImage=function(t,e,n,r,a,s,l,u){if(isNaN(e)||isNaN(n))throw zn.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(r)||isNaN(a))throw zn.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var d=document.createElement("canvas");d.width=r,d.height=a;var f=d.getContext("2d");f.fillStyle="#fff",f.fillRect(0,0,d.width,d.height);var p={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},g=this;return(Vt.canvg?Promise.resolve(Vt.canvg):N1(()=>import("./index.es-C8lecYgb.js"),[])).catch(function(y){return Promise.reject(new Error("Could not load canvg: "+y))}).then(function(y){return y.default?y.default:y}).then(function(y){return y.fromString(f,t,p)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(y){return y.render(p)}).then(function(){g.addImage(d.toDataURL("image/jpeg",1),e,n,r,a,l,u)})},Nt.API.putTotalPages=function(t){var e,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),n=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var a=0;a<this.internal.pages[r].length;a++)this.internal.pages[r][a]=this.internal.pages[r][a].replace(e,n);return this},Nt.API.viewerPreferences=function(t,e){var n;t=t||{},e=e||!1;var r,a,s,l={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},u=Object.keys(l),d=[],f=0,p=0,g=0;function y(N,C){var T,A=!1;for(T=0;T<N.length;T+=1)N[T]===C&&(A=!0);return A}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(l)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var v=u.length;for(g=0;g<v;g+=1)n[u[g]].value=n[u[g]].defaultValue,n[u[g]].explicitSet=!1}if(Ln(t)==="object"){for(a in t)if(s=t[a],y(u,a)&&s!==void 0){if(n[a].type==="boolean"&&typeof s=="boolean")n[a].value=s;else if(n[a].type==="name"&&y(n[a].valueSet,s))n[a].value=s;else if(n[a].type==="integer"&&Number.isInteger(s))n[a].value=s;else if(n[a].type==="array"){for(f=0;f<s.length;f+=1)if(r=!0,s[f].length===1&&typeof s[f][0]=="number")d.push(String(s[f]-1));else if(s[f].length>1){for(p=0;p<s[f].length;p+=1)typeof s[f][p]!="number"&&(r=!1);r===!0&&d.push([s[f][0]-1,s[f][1]-1].join(" "))}n[a].value="["+d.join(" ")+"]"}else n[a].value=n[a].defaultValue;n[a].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var N,C=[];for(N in n)n[N].explicitSet===!0&&(n[N].type==="name"?C.push("/"+N+" /"+n[N].value):C.push("/"+N+" "+n[N].value));C.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+C.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},(function(t){var e=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',a=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(r)),l=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),u=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),d=unescape(encodeURIComponent("</x:xmpmeta>")),f=s.length+l.length+u.length+a.length+d.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+f+" >>"),this.internal.write("stream"),this.internal.write(a+s+l+u+d),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(r,a){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:a||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",e)),this}})(Nt.API),(function(t){var e=t.API,n=e.pdfEscape16=function(s,l){for(var u,d=l.metadata.Unicode.widths,f=["","0","00","000","0000"],p=[""],g=0,y=s.length;g<y;++g){if(u=l.metadata.characterToGlyph(s.charCodeAt(g)),l.metadata.glyIdsUsed.push(u),l.metadata.toUnicode[u]=s.charCodeAt(g),d.indexOf(u)==-1&&(d.push(u),d.push([parseInt(l.metadata.widthOfGlyph(u),10)])),u=="0")return p.join("");u=u.toString(16),p.push(f[4-u.length],u)}return p.join("")},r=function(s){var l,u,d,f,p,g,y;for(p=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,d=[],g=0,y=(u=Object.keys(s).sort(function(v,N){return v-N})).length;g<y;g++)l=u[g],d.length>=100&&(p+=`
`+d.length+` beginbfchar
`+d.join(`
`)+`
endbfchar`,d=[]),s[l]!==void 0&&s[l]!==null&&typeof s[l].toString=="function"&&(f=("0000"+s[l].toString(16)).slice(-4),l=("0000"+(+l).toString(16)).slice(-4),d.push("<"+l+"><"+f+">"));return d.length&&(p+=`
`+d.length+` beginbfchar
`+d.join(`
`)+`
endbfchar
`),p+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(s){(function(l){var u=l.font,d=l.out,f=l.newObject,p=l.putStream;if(u.metadata instanceof t.API.TTFFont&&u.encoding==="Identity-H"){for(var g=u.metadata.Unicode.widths,y=u.metadata.subset.encode(u.metadata.glyIdsUsed,1),v="",N=0;N<y.length;N++)v+=String.fromCharCode(y[N]);var C=f();p({data:v,addLength1:!0,objectId:C}),d("endobj");var T=f();p({data:r(u.metadata.toUnicode),addLength1:!0,objectId:T}),d("endobj");var A=f();d("<<"),d("/Type /FontDescriptor"),d("/FontName /"+Sd(u.fontName)),d("/FontFile2 "+C+" 0 R"),d("/FontBBox "+t.API.PDFObject.convert(u.metadata.bbox)),d("/Flags "+u.metadata.flags),d("/StemV "+u.metadata.stemV),d("/ItalicAngle "+u.metadata.italicAngle),d("/Ascent "+u.metadata.ascender),d("/Descent "+u.metadata.decender),d("/CapHeight "+u.metadata.capHeight),d(">>"),d("endobj");var D=f();d("<<"),d("/Type /Font"),d("/BaseFont /"+Sd(u.fontName)),d("/FontDescriptor "+A+" 0 R"),d("/W "+t.API.PDFObject.convert(g)),d("/CIDToGIDMap /Identity"),d("/DW 1000"),d("/Subtype /CIDFontType2"),d("/CIDSystemInfo"),d("<<"),d("/Supplement 0"),d("/Registry (Adobe)"),d("/Ordering ("+u.encoding+")"),d(">>"),d(">>"),d("endobj"),u.objectNumber=f(),d("<<"),d("/Type /Font"),d("/Subtype /Type0"),d("/ToUnicode "+T+" 0 R"),d("/BaseFont /"+Sd(u.fontName)),d("/Encoding /"+u.encoding),d("/DescendantFonts ["+D+" 0 R]"),d(">>"),d("endobj"),u.isAlreadyPutted=!0}})(s)}]),e.events.push(["putFont",function(s){(function(l){var u=l.font,d=l.out,f=l.newObject,p=l.putStream;if(u.metadata instanceof t.API.TTFFont&&u.encoding==="WinAnsiEncoding"){for(var g=u.metadata.rawData,y="",v=0;v<g.length;v++)y+=String.fromCharCode(g[v]);var N=f();p({data:y,addLength1:!0,objectId:N}),d("endobj");var C=f();p({data:r(u.metadata.toUnicode),addLength1:!0,objectId:C}),d("endobj");var T=f();d("<<"),d("/Descent "+u.metadata.decender),d("/CapHeight "+u.metadata.capHeight),d("/StemV "+u.metadata.stemV),d("/Type /FontDescriptor"),d("/FontFile2 "+N+" 0 R"),d("/Flags 96"),d("/FontBBox "+t.API.PDFObject.convert(u.metadata.bbox)),d("/FontName /"+Sd(u.fontName)),d("/ItalicAngle "+u.metadata.italicAngle),d("/Ascent "+u.metadata.ascender),d(">>"),d("endobj"),u.objectNumber=f();for(var A=0;A<u.metadata.hmtx.widths.length;A++)u.metadata.hmtx.widths[A]=parseInt(u.metadata.hmtx.widths[A]*(1e3/u.metadata.head.unitsPerEm));d("<</Subtype/TrueType/Type/Font/ToUnicode "+C+" 0 R/BaseFont/"+Sd(u.fontName)+"/FontDescriptor "+T+" 0 R/Encoding/"+u.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(u.metadata.hmtx.widths)+">>"),d("endobj"),u.isAlreadyPutted=!0}})(s)}]);var a=function(s){var l,u=s.text||"",d=s.x,f=s.y,p=s.options||{},g=s.mutex||{},y=g.pdfEscape,v=g.activeFontKey,N=g.fonts,C=v,T="",A=0,D="",M=N[C].encoding;if(N[C].encoding!=="Identity-H")return{text:u,x:d,y:f,options:p,mutex:g};for(D=u,C=v,Array.isArray(u)&&(D=u[0]),A=0;A<D.length;A+=1)N[C].metadata.hasOwnProperty("cmap")&&(l=N[C].metadata.cmap.unicode.codeMap[D[A].charCodeAt(0)]),l||D[A].charCodeAt(0)<256&&N[C].metadata.hasOwnProperty("Unicode")?T+=D[A]:T+="";var B="";return parseInt(C.slice(1))<14||M==="WinAnsiEncoding"?B=y(T,C).split("").map(function(q){return q.charCodeAt(0).toString(16)}).join(""):M==="Identity-H"&&(B=n(T,N[C])),g.isHex=!0,{text:B,x:d,y:f,options:p,mutex:g}};e.events.push(["postProcessText",function(s){var l=s.text||"",u=[],d={text:l,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(l)){var f=0;for(f=0;f<l.length;f+=1)Array.isArray(l[f])&&l[f].length===3?u.push([a(Object.assign({},d,{text:l[f][0]})).text,l[f][1],l[f][2]]):u.push(a(Object.assign({},d,{text:l[f]})).text);s.text=u}else s.text=a(Object.assign({},d,{text:l})).text}])})(Nt),(function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0},t.addFileToVFS=function(n,r){return e.call(this),this.internal.vFS[n]=r,this},t.getFileFromVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0?this.internal.vFS[n]:null}})(Nt.API),(function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(r){var a,s,l,u,d,f,p,g=e,y=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],v=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],N={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},C={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},T=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],A=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),D=!1,M=0;this.__bidiEngine__={};var B=function(k){var I=k.charCodeAt(),J=I>>8,ne=C[J];return ne!==void 0?g[256*ne+(255&I)]:J===252||J===253?"AL":A.test(J)?"L":J===8?"R":"N"},q=function(k){for(var I,J=0;J<k.length;J++){if((I=B(k.charAt(J)))==="L")return!1;if(I==="R")return!0}return!1},V=function(k,I,J,ne){var we,re,le,ce,me=I[ne];switch(me){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":D=!1;break;case"N":case"AN":break;case"EN":D&&(me="AN");break;case"AL":D=!0,me="R";break;case"WS":case"BN":me="N";break;case"CS":ne<1||ne+1>=I.length||(we=J[ne-1])!=="EN"&&we!=="AN"||(re=I[ne+1])!=="EN"&&re!=="AN"?me="N":D&&(re="AN"),me=re===we?re:"N";break;case"ES":me=(we=ne>0?J[ne-1]:"B")==="EN"&&ne+1<I.length&&I[ne+1]==="EN"?"EN":"N";break;case"ET":if(ne>0&&J[ne-1]==="EN"){me="EN";break}if(D){me="N";break}for(le=ne+1,ce=I.length;le<ce&&I[le]==="ET";)le++;me=le<ce&&I[le]==="EN"?"EN":"N";break;case"NSM":if(l&&!u){for(ce=I.length,le=ne+1;le<ce&&I[le]==="NSM";)le++;if(le<ce){var Re=k[ne],Y=Re>=1425&&Re<=2303||Re===64286;if(we=I[le],Y&&(we==="R"||we==="AL")){me="R";break}}}me=ne<1||(we=I[ne-1])==="B"?"N":J[ne-1];break;case"B":D=!1,a=!0,me=M;break;case"S":s=!0,me="N"}return me},W=function(k,I,J){var ne=k.split("");return J&&R(ne,J,{hiLevel:M}),ne.reverse(),I&&I.reverse(),ne.join("")},R=function(k,I,J){var ne,we,re,le,ce,me=-1,Re=k.length,Y=0,P=[],z=M?v:y,Z=[];for(D=!1,a=!1,s=!1,we=0;we<Re;we++)Z[we]=B(k[we]);for(re=0;re<Re;re++){if(ce=Y,P[re]=V(k,Z,P,re),ne=240&(Y=z[ce][N[P[re]]]),Y&=15,I[re]=le=z[Y][5],ne>0)if(ne===16){for(we=me;we<re;we++)I[we]=1;me=-1}else me=-1;if(z[Y][6])me===-1&&(me=re);else if(me>-1){for(we=me;we<re;we++)I[we]=le;me=-1}Z[re]==="B"&&(I[re]=0),J.hiLevel|=le}s&&(function(se,ue,he){for(var ve=0;ve<he;ve++)if(se[ve]==="S"){ue[ve]=M;for(var be=ve-1;be>=0&&se[be]==="WS";be--)ue[be]=M}})(Z,I,Re)},L=function(k,I,J,ne,we){if(!(we.hiLevel<k)){if(k===1&&M===1&&!a)return I.reverse(),void(J&&J.reverse());for(var re,le,ce,me,Re=I.length,Y=0;Y<Re;){if(ne[Y]>=k){for(ce=Y+1;ce<Re&&ne[ce]>=k;)ce++;for(me=Y,le=ce-1;me<le;me++,le--)re=I[me],I[me]=I[le],I[le]=re,J&&(re=J[me],J[me]=J[le],J[le]=re);Y=ce}Y++}}},$=function(k,I,J){var ne=k.split(""),we={hiLevel:M};return J||(J=[]),R(ne,J,we),(function(re,le,ce){if(ce.hiLevel!==0&&p)for(var me,Re=0;Re<re.length;Re++)le[Re]===1&&(me=T.indexOf(re[Re]))>=0&&(re[Re]=T[me+1])})(ne,J,we),L(2,ne,I,J,we),L(1,ne,I,J,we),ne.join("")};return this.__bidiEngine__.doBidiReorder=function(k,I,J){if((function(we,re){if(re)for(var le=0;le<we.length;le++)re[le]=le;u===void 0&&(u=q(we)),f===void 0&&(f=q(we))})(k,I),l||!d||f)if(l&&d&&u^f)M=u?1:0,k=W(k,I,J);else if(!l&&d&&f)M=u?1:0,k=$(k,I,J),k=W(k,I);else if(!l||u||d||f){if(l&&!d&&u^f)k=W(k,I),u?(M=0,k=$(k,I,J)):(M=1,k=$(k,I,J),k=W(k,I));else if(l&&u&&!d&&f)M=1,k=$(k,I,J),k=W(k,I);else if(!l&&!d&&u^f){var ne=p;u?(M=1,k=$(k,I,J),M=0,p=!1,k=$(k,I,J),p=ne):(M=0,k=$(k,I,J),k=W(k,I),M=1,p=!1,k=$(k,I,J),p=ne,k=W(k,I))}}else M=0,k=$(k,I,J);else M=u?1:0,k=$(k,I,J);return k},this.__bidiEngine__.setOptions=function(k){k&&(l=k.isInputVisual,d=k.isOutputVisual,u=k.isInputRtl,f=k.isOutputRtl,p=k.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(r){var a=r.text;r.x,r.y;var s=r.options||{};r.mutex,s.lang;var l=[];if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,n.setOptions(s),Object.prototype.toString.call(a)==="[object Array]"){var u=0;for(l=[],u=0;u<a.length;u+=1)Object.prototype.toString.call(a[u])==="[object Array]"?l.push([n.doBidiReorder(a[u][0]),a[u][1],a[u][2]]):l.push([n.doBidiReorder(a[u])]);r.text=l}else r.text=n.doBidiReorder(a);n.setOptions({isInputVisual:!0})}])})(Nt),Nt.API.TTFFont=(function(){function t(e){var n;if(this.rawData=e,n=this.contents=new lc(e),this.contents.pos=4,n.readString(4)==="ttcf")throw new Error("TTCF not supported.");n.pos=0,this.parse(),this.subset=new mU(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new tU(this.contents),this.head=new rU(this),this.name=new lU(this),this.cmap=new MN(this),this.toUnicode={},this.hhea=new iU(this),this.maxp=new cU(this),this.hmtx=new uU(this),this.post=new sU(this),this.os2=new aU(this),this.loca=new pU(this),this.glyf=new dU(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,n,r,a,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var l,u,d,f;for(f=[],l=0,u=(d=this.bbox).length;l<u;l++)e=d[l],f.push(Math.round(e*this.scaleFactor));return f}).call(this),this.stemV=0,this.post.exists?(r=255&(a=this.post.italic_angle),32768&(n=a>>16)&&(n=-(1+(65535^n))),this.italicAngle=+(n+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var n;return((n=this.cmap.unicode)!=null?n.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var n;return n=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*n},t.prototype.widthOfString=function(e,n,r){var a,s,l,u;for(l=0,s=0,u=(e=""+e).length;0<=u?s<u:s>u;s=0<=u?++s:--s)a=e.charCodeAt(s),l+=this.widthOfGlyph(this.characterToGlyph(a))+r*(1e3/n)||0;return l*(n/1e3)},t.prototype.lineHeight=function(e,n){var r;return n==null&&(n=!1),r=n?this.lineGap:0,(this.ascender+r-this.decender)/1e3*e},t})();var Xs,lc=(function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var n,r;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r[n]=String.fromCharCode(this.readByte());return r.join("")},t.prototype.writeString=function(e){var n,r,a;for(a=[],n=0,r=e.length;0<=r?n<r:n>r;n=0<=r?++n:--n)a.push(this.writeByte(e.charCodeAt(n)));return a},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,n,r,a,s,l,u,d;return e=this.readByte(),n=this.readByte(),r=this.readByte(),a=this.readByte(),s=this.readByte(),l=this.readByte(),u=this.readByte(),d=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^n)+1099511627776*(255^r)+4294967296*(255^a)+16777216*(255^s)+65536*(255^l)+256*(255^u)+(255^d)+1):72057594037927940*e+281474976710656*n+1099511627776*r+4294967296*a+16777216*s+65536*l+256*u+d},t.prototype.writeLongLong=function(e){var n,r;return n=Math.floor(e/4294967296),r=4294967295&e,this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var n,r;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n.push(this.readByte());return n},t.prototype.write=function(e){var n,r,a,s;for(s=[],r=0,a=e.length;r<a;r++)n=e[r],s.push(this.writeByte(n));return s},t})(),tU=(function(){var t;function e(n){var r,a,s;for(this.scalarType=n.readInt(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),this.tables={},a=0,s=this.tableCount;0<=s?a<s:a>s;a=0<=s?++a:--a)r={tag:n.readString(4),checksum:n.readInt(),offset:n.readInt(),length:n.readInt()},this.tables[r.tag]=r}return e.prototype.encode=function(n){var r,a,s,l,u,d,f,p,g,y,v,N,C;for(C in v=Object.keys(n).length,d=Math.log(2),g=16*Math.floor(Math.log(v)/d),l=Math.floor(g/d),p=16*v-g,(a=new lc).writeInt(this.scalarType),a.writeShort(v),a.writeShort(g),a.writeShort(l),a.writeShort(p),s=16*v,f=a.pos+s,u=null,N=[],n)for(y=n[C],a.writeString(C),a.writeInt(t(y)),a.writeInt(f),a.writeInt(y.length),N=N.concat(y),C==="head"&&(u=f),f+=y.length;f%4;)N.push(0),f++;return a.write(N),r=2981146554-t(a.data),a.pos=u+8,a.writeUInt32(r),a.data},t=function(n){var r,a,s,l;for(n=BN.call(n);n.length%4;)n.push(0);for(s=new lc(n),a=0,r=0,l=n.length;r<l;r=r+=4)a+=s.readUInt32();return 4294967295&a},e})(),nU={}.hasOwnProperty,Co=function(t,e){for(var n in e)nU.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t};Xs=(function(){function t(e){var n;this.file=e,n=this.file.directory.tables[this.tag],this.exists=!!n,n&&(this.offset=n.offset,this.length=n.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t})();var rU=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Co(t,Xs),t.prototype.tag="head",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},t.prototype.encode=function(e){var n;return(n=new lc).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(e),n.writeShort(this.glyphDataFormat),n.data},t})(),S4=(function(){function t(e,n){var r,a,s,l,u,d,f,p,g,y,v,N,C,T,A,D,M;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=n+e.readInt(),g=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(d=0;d<256;++d)this.codeMap[d]=e.readByte();break;case 4:for(v=e.readUInt16(),y=v/2,e.pos+=6,s=(function(){var B,q;for(q=[],d=B=0;0<=y?B<y:B>y;d=0<=y?++B:--B)q.push(e.readUInt16());return q})(),e.pos+=2,C=(function(){var B,q;for(q=[],d=B=0;0<=y?B<y:B>y;d=0<=y?++B:--B)q.push(e.readUInt16());return q})(),f=(function(){var B,q;for(q=[],d=B=0;0<=y?B<y:B>y;d=0<=y?++B:--B)q.push(e.readUInt16());return q})(),p=(function(){var B,q;for(q=[],d=B=0;0<=y?B<y:B>y;d=0<=y?++B:--B)q.push(e.readUInt16());return q})(),a=(this.length-e.pos+this.offset)/2,u=(function(){var B,q;for(q=[],d=B=0;0<=a?B<a:B>a;d=0<=a?++B:--B)q.push(e.readUInt16());return q})(),d=A=0,M=s.length;A<M;d=++A)for(T=s[d],r=D=N=C[d];N<=T?D<=T:D>=T;r=N<=T?++D:--D)p[d]===0?l=r+f[d]:(l=u[p[d]/2+(r-N)-(y-d)]||0)!==0&&(l+=f[d]),this.codeMap[r]=65535&l}e.pos=g}return t.encode=function(e,n){var r,a,s,l,u,d,f,p,g,y,v,N,C,T,A,D,M,B,q,V,W,R,L,$,k,I,J,ne,we,re,le,ce,me,Re,Y,P,z,Z,se,ue,he,ve,be,je,Oe,qe;switch(ne=new lc,l=Object.keys(e).sort(function(Qe,nt){return Qe-nt}),n){case"macroman":for(C=0,T=(function(){var Qe=[];for(N=0;N<256;++N)Qe.push(0);return Qe})(),D={0:0},s={},we=0,me=l.length;we<me;we++)D[be=e[a=l[we]]]==null&&(D[be]=++C),s[a]={old:e[a],new:D[e[a]]},T[a]=D[e[a]];return ne.writeUInt16(1),ne.writeUInt16(0),ne.writeUInt32(12),ne.writeUInt16(0),ne.writeUInt16(262),ne.writeUInt16(0),ne.write(T),{charMap:s,subtable:ne.data,maxGlyphID:C+1};case"unicode":for(I=[],g=[],M=0,D={},r={},A=f=null,re=0,Re=l.length;re<Re;re++)D[q=e[a=l[re]]]==null&&(D[q]=++M),r[a]={old:q,new:D[q]},u=D[q]-a,A!=null&&u===f||(A&&g.push(A),I.push(a),f=u),A=a;for(A&&g.push(A),g.push(65535),I.push(65535),$=2*(L=I.length),R=2*Math.pow(Math.log(L)/Math.LN2,2),y=Math.log(R/2)/Math.LN2,W=2*L-R,d=[],V=[],v=[],N=le=0,Y=I.length;le<Y;N=++le){if(k=I[N],p=g[N],k===65535){d.push(0),V.push(0);break}if(k-(J=r[k].new)>=32768)for(d.push(0),V.push(2*(v.length+L-N)),a=ce=k;k<=p?ce<=p:ce>=p;a=k<=p?++ce:--ce)v.push(r[a].new);else d.push(J-k),V.push(0)}for(ne.writeUInt16(3),ne.writeUInt16(1),ne.writeUInt32(12),ne.writeUInt16(4),ne.writeUInt16(16+8*L+2*v.length),ne.writeUInt16(0),ne.writeUInt16($),ne.writeUInt16(R),ne.writeUInt16(y),ne.writeUInt16(W),he=0,P=g.length;he<P;he++)a=g[he],ne.writeUInt16(a);for(ne.writeUInt16(0),ve=0,z=I.length;ve<z;ve++)a=I[ve],ne.writeUInt16(a);for(je=0,Z=d.length;je<Z;je++)u=d[je],ne.writeUInt16(u);for(Oe=0,se=V.length;Oe<se;Oe++)B=V[Oe],ne.writeUInt16(B);for(qe=0,ue=v.length;qe<ue;qe++)C=v[qe],ne.writeUInt16(C);return{charMap:r,subtable:ne.data,maxGlyphID:M+1}}},t})(),MN=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Co(t,Xs),t.prototype.tag="cmap",t.prototype.parse=function(e){var n,r,a;for(e.pos=this.offset,this.version=e.readUInt16(),a=e.readUInt16(),this.tables=[],this.unicode=null,r=0;0<=a?r<a:r>a;r=0<=a?++r:--r)n=new S4(e,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},t.encode=function(e,n){var r,a;return n==null&&(n="macroman"),r=S4.encode(e,n),(a=new lc).writeUInt16(0),a.writeUInt16(1),r.table=a.data.concat(r.subtable),r},t})(),iU=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Co(t,Xs),t.prototype.tag="hhea",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},t})(),aU=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Co(t,Xs),t.prototype.tag="OS/2",t.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=(function(){var n,r;for(r=[],n=0;n<10;++n)r.push(e.readByte());return r})(),this.charRange=(function(){var n,r;for(r=[],n=0;n<4;++n)r.push(e.readInt());return r})(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=(function(){var n,r;for(r=[],n=0;n<2;n=++n)r.push(e.readInt());return r})(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},t})(),sU=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Co(t,Xs),t.prototype.tag="post",t.prototype.parse=function(e){var n,r,a;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var s;for(r=e.readUInt16(),this.glyphNameIndex=[],s=0;0<=r?s<r:s>r;s=0<=r?++s:--s)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],a=[];e.pos<this.offset+this.length;)n=e.readByte(),a.push(this.names.push(e.readString(n)));return a;case 151552:return r=e.readUInt16(),this.offsets=e.read(r);case 262144:return this.map=(function(){var l,u,d;for(d=[],s=l=0,u=this.file.maxp.numGlyphs;0<=u?l<u:l>u;s=0<=u?++l:--l)d.push(e.readUInt32());return d}).call(this)}},t})(),oU=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},lU=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Co(t,Xs),t.prototype.tag="name",t.prototype.parse=function(e){var n,r,a,s,l,u,d,f,p,g,y;for(e.pos=this.offset,e.readShort(),n=e.readShort(),u=e.readShort(),r=[],s=0;0<=n?s<n:s>n;s=0<=n?++s:--s)r.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+u+e.readShort()});for(d={},s=p=0,g=r.length;p<g;s=++p)a=r[s],e.pos=a.offset,f=e.readString(a.length),l=new oU(f,a),d[y=a.nameID]==null&&(d[y]=[]),d[a.nameID].push(l);this.strings=d,this.copyright=d[0],this.fontFamily=d[1],this.fontSubfamily=d[2],this.uniqueSubfamily=d[3],this.fontName=d[4],this.version=d[5];try{this.postscriptName=d[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=d[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=d[7],this.manufacturer=d[8],this.designer=d[9],this.description=d[10],this.vendorUrl=d[11],this.designerUrl=d[12],this.license=d[13],this.licenseUrl=d[14],this.preferredFamily=d[15],this.preferredSubfamily=d[17],this.compatibleFull=d[18],this.sampleText=d[19]},t})(),cU=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Co(t,Xs),t.prototype.tag="maxp",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},t})(),uU=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Co(t,Xs),t.prototype.tag="hmtx",t.prototype.parse=function(e){var n,r,a,s,l,u,d;for(e.pos=this.offset,this.metrics=[],n=0,u=this.file.hhea.numberOfMetrics;0<=u?n<u:n>u;n=0<=u?++n:--n)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(a=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var f,p;for(p=[],n=f=0;0<=a?f<a:f>a;n=0<=a?++f:--f)p.push(e.readInt16());return p})(),this.widths=(function(){var f,p,g,y;for(y=[],f=0,p=(g=this.metrics).length;f<p;f++)s=g[f],y.push(s.advance);return y}).call(this),r=this.widths[this.widths.length-1],d=[],n=l=0;0<=a?l<a:l>a;n=0<=a?++l:--l)d.push(this.widths.push(r));return d},t.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},t})(),BN=[].slice,dU=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Co(t,Xs),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(e){var n,r,a,s,l,u,d,f,p,g;return e in this.cache?this.cache[e]:(s=this.file.loca,n=this.file.contents,r=s.indexOf(e),(a=s.lengthOf(e))===0?this.cache[e]=null:(n.pos=this.offset+r,l=(u=new lc(n.read(a))).readShort(),f=u.readShort(),g=u.readShort(),d=u.readShort(),p=u.readShort(),this.cache[e]=l===-1?new hU(u,f,g,d,p):new fU(u,l,f,g,d,p),this.cache[e]))},t.prototype.encode=function(e,n,r){var a,s,l,u,d;for(l=[],s=[],u=0,d=n.length;u<d;u++)a=e[n[u]],s.push(l.length),a&&(l=l.concat(a.encode(r)));return s.push(l.length),{table:l,offsets:s}},t})(),fU=(function(){function t(e,n,r,a,s,l){this.raw=e,this.numberOfContours=n,this.xMin=r,this.yMin=a,this.xMax=s,this.yMax=l,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t})(),hU=(function(){function t(e,n,r,a,s){var l,u;for(this.raw=e,this.xMin=n,this.yMin=r,this.xMax=a,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],l=this.raw;u=l.readShort(),this.glyphOffsets.push(l.pos),this.glyphIDs.push(l.readUInt16()),32&u;)l.pos+=1&u?4:2,128&u?l.pos+=8:64&u?l.pos+=4:8&u&&(l.pos+=2)}return t.prototype.encode=function(){var e,n,r;for(n=new lc(BN.call(this.raw.data)),e=0,r=this.glyphIDs.length;e<r;++e)n.pos=this.glyphOffsets[e];return n.data},t})(),pU=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Co(t,Xs),t.prototype.tag="loca",t.prototype.parse=function(e){var n,r;return e.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var a,s;for(s=[],r=0,a=this.length;r<a;r+=2)s.push(2*e.readUInt16());return s}).call(this):(function(){var a,s;for(s=[],r=0,a=this.length;r<a;r+=4)s.push(e.readUInt32());return s}).call(this)},t.prototype.indexOf=function(e){return this.offsets[e]},t.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},t.prototype.encode=function(e,n){for(var r=new Uint32Array(this.offsets.length),a=0,s=0,l=0;l<r.length;++l)if(r[l]=a,s<n.length&&n[s]==l){++s,r[l]=a;var u=this.offsets[l],d=this.offsets[l+1]-u;d>0&&(a+=d)}for(var f=new Array(4*r.length),p=0;p<r.length;++p)f[4*p+3]=255&r[p],f[4*p+2]=(65280&r[p])>>8,f[4*p+1]=(16711680&r[p])>>16,f[4*p]=(4278190080&r[p])>>24;return f},t})(),mU=(function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,n,r,a,s;for(n in a=this.font.cmap.tables[0].codeMap,e={},s=this.subset)r=s[n],e[n]=a[r];return e},t.prototype.glyphsFor=function(e){var n,r,a,s,l,u,d;for(a={},l=0,u=e.length;l<u;l++)a[s=e[l]]=this.font.glyf.glyphFor(s);for(s in n=[],a)(r=a[s])!=null&&r.compound&&n.push.apply(n,r.glyphIDs);if(n.length>0)for(s in d=this.glyphsFor(n))r=d[s],a[s]=r;return a},t.prototype.encode=function(e,n){var r,a,s,l,u,d,f,p,g,y,v,N,C,T,A;for(a in r=MN.encode(this.generateCmap(),"unicode"),l=this.glyphsFor(e),v={0:0},A=r.charMap)v[(d=A[a]).old]=d.new;for(N in y=r.maxGlyphID,l)N in v||(v[N]=y++);return p=(function(D){var M,B;for(M in B={},D)B[D[M]]=M;return B})(v),g=Object.keys(p).sort(function(D,M){return D-M}),C=(function(){var D,M,B;for(B=[],D=0,M=g.length;D<M;D++)u=g[D],B.push(p[u]);return B})(),s=this.font.glyf.encode(l,C,v),f=this.font.loca.encode(s.offsets,C),T={cmap:this.font.cmap.raw(),glyf:s.table,loca:f,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(n)},this.font.os2.exists&&(T["OS/2"]=this.font.os2.raw()),this.font.directory.encode(T)},t})();Nt.API.PDFObject=(function(){var t;function e(){}return t=function(n,r){return(Array(r+1).join("0")+n).slice(-r)},e.convert=function(n){var r,a,s,l;if(Array.isArray(n))return"["+(function(){var u,d,f;for(f=[],u=0,d=n.length;u<d;u++)r=n[u],f.push(e.convert(r));return f})().join(" ")+"]";if(typeof n=="string")return"/"+n;if(n?.isString)return"("+n+")";if(n instanceof Date)return"(D:"+t(n.getUTCFullYear(),4)+t(n.getUTCMonth(),2)+t(n.getUTCDate(),2)+t(n.getUTCHours(),2)+t(n.getUTCMinutes(),2)+t(n.getUTCSeconds(),2)+"Z)";if({}.toString.call(n)==="[object Object]"){for(a in s=["<<"],n)l=n[a],s.push("/"+a+" "+e.convert(l));return s.push(">>"),s.join(`
`)}return""+n},e})();function gU(){const{id:t}=KS(),e=dc(),[n,r]=X.useState(null),[a,s]=X.useState([]),[l,u]=X.useState(!0),[d,f]=X.useState("guests"),[p,g]=X.useState(!1),[y,v]=X.useState(!1),[N,C]=X.useState(""),[T,A]=X.useState(null),[D,M]=X.useState(null),[B,q]=X.useState(!1),[V,W]=X.useState("all"),[R,L]=X.useState(!1),[,$]=X.useState(!1),[k,I]=X.useState(""),[J,ne]=X.useState(new Set),we=X.useRef(null),[re,le]=X.useState(null),[ce,me]=X.useState(!1);X.useEffect(()=>{t&&(Re(),Y())},[t]);const Re=async()=>{try{const{data:de,error:Ne}=await cn.from("events").select("*").eq("id",t).single();if(Ne)throw Ne;r(de),$(de.has_after_party)}catch(de){console.error("Error loading event:",de),alert(` Error cargando evento: ${de.message}. 

Si acabas de actualizar la app, es probable que falten columnas en la base de datos. Ejecuta el script FIX_DB_FINAL.sql en Supabase.`)}finally{u(!1)}},Y=async()=>{if(t)try{const{data:de,error:Ne}=await cn.from("guests").select("*").eq("event_id",t).order("created_at",{ascending:!1});if(Ne)throw Ne;s(de||[])}catch(de){console.error("Error loading guests:",de)}},P=de=>{n?.id==="123"&&de?s(Ne=>[...de,...Ne]):(Y(),Re())},z=de=>{s(Ne=>[de,...Ne]),n?.id!=="123"&&Re(),v(!1)},Z=de=>{s(Ne=>Ne.map(Ke=>Ke.id===de.id?de:Ke)),n?.id!=="123"&&Re(),v(!1),M(null)},se=de=>{if(!de)return null;const Ne=de.trim();return/^\d+$/.test(Ne)?`Mesa ${Ne}`:Ne},ue=async de=>{const{source:Ne,destination:Ke,draggableId:Ge}=de;if(!Ke||Ne.droppableId===Ke.droppableId&&Ne.index===Ke.index)return;const He=Ke.droppableId==="unassigned"?null:Ke.droppableId,Ie=a.map(Je=>Je.id===Ge?{...Je,table_info:He}:Je);if(s(Ie),n?.id!=="123")try{const{error:Je}=await cn.from("guests").update({table_info:He}).eq("id",Ge);if(Je)throw Je}catch(Je){console.error("Error updating guest table:",Je),Y()}},he=()=>{if(!a.length)return alert("No hay invitados para descargar.");const Ne=[["Nombre","Apellido","Display Name","Mesa","Estado","Email","Telefono"].join(","),...a.map(Ie=>[`"${Ie.first_name||""}"`,`"${Ie.last_name||""}"`,`"${Ie.display_name||""}"`,`"${Ie.table_info||""}"`,`"${Ie.status}"`,`"${Ie.email||""}"`,`"${Ie.phone||""}"`].join(","))].join(`
`),Ke=new Blob([Ne],{type:"text/csv;charset=utf-8;"}),Ge=URL.createObjectURL(Ke),He=document.createElement("a");He.href=Ge,He.setAttribute("download",`${n?.name||"evento"}_invitados.csv`),document.body.appendChild(He),He.click(),document.body.removeChild(He)},ve=()=>{const de=window.location.pathname.startsWith("/ingreso-vip")?"/ingreso-vip":"";return`${window.location.origin}${de}/evento/${n?.id}`},be=()=>{if(!a.length){alert("No hay invitados para descargar.");return}if(!n){alert("No hay evento seleccionado");return}const de=new Nt,Ne=de.internal.pageSize.getWidth(),Ke=de.internal.pageSize.getHeight(),Ge=15;let He=Ge;de.setFontSize(18),de.setFont("helvetica","bold"),de.text(`Lista de Invitados - ${n.name}`,Ne/2,He,{align:"center"}),He+=10,de.setFontSize(10),de.setFont("helvetica","normal");const Ie=n.date?sm(new Date(n.date),"dd/MM/yyyy",{locale:Nv}):"Sin fecha";de.text(`Fecha: ${Ie}`,Ne/2,He,{align:"center"}),He+=15;const Je=[...a].sort((ht,it)=>{const Qt=ht.table_info||"Sin mesa",kt=it.table_info||"Sin mesa";return Qt.localeCompare(kt)});de.setFontSize(9);const ot=[70,70,30,25],ct=["Nombre Completo","Mesa","Estado",""];de.setFont("helvetica","bold"),de.setFillColor(79,70,229),de.rect(Ge,He,Ne-2*Ge,7,"F"),de.setTextColor(255,255,255);let Ze=Ge+2;ct.forEach((ht,it)=>{de.text(ht,Ze,He+5),Ze+=ot[it]}),He+=7,de.setFont("helvetica","normal"),Je.forEach((ht,it)=>{He>Ke-30&&(de.addPage(),He=Ge,de.setFont("helvetica","bold"),de.setFillColor(79,70,229),de.rect(Ge,He,Ne-2*Ge,7,"F"),de.setTextColor(255,255,255),Ze=Ge+2,ct.forEach((Dt,ft)=>{de.text(Dt,Ze,He+5),Ze+=ot[ft]}),He+=7),it%2===0&&(de.setFillColor(249,250,251),de.rect(Ge,He,Ne-2*Ge,6,"F")),de.setTextColor(0,0,0),Ze=Ge+2;const Qt=ht.display_name||`${ht.first_name} ${ht.last_name}`;de.text(Qt,Ze,He+4.5,{maxWidth:ot[0]-4}),Ze+=ot[0],de.text(ht.table_info||"Sin mesa",Ze,He+4.5),Ze+=ot[1];const kt={confirmed:[16,185,129],pending:[251,191,36],cancelled:[239,68,68]},rt={confirmed:"Confirmado",pending:"Pendiente",cancelled:"Cancelado"},lt=kt[ht.status]||[156,163,175];de.setTextColor(lt[0],lt[1],lt[2]),de.text(rt[ht.status]||ht.status,Ze,He+4.5),de.setTextColor(0,0,0),He+=6}),He=Ke-15,de.setFontSize(8),de.setTextColor(100,100,100),de.text(`Total de invitados: ${a.length}`,Ge,He),de.text(`Generado: ${sm(new Date,"dd/MM/yyyy HH:mm")}`,Ne-Ge,He,{align:"right"}),de.save(`${n.name}_invitados.pdf`)},je=async de=>{if(!n){alert("No hay evento seleccionado");return}q(!0),console.log(" Iniciando generacin de QR poster...",{orientation:de,eventId:n.id});try{const Ke=qA(n.theme_id||"default")?.colors||{primary:"#6b21a8",secondary:"#581c87",accent:"#FBBF24",background:"#1a1030"};console.log(" Generando cdigo QR para:",ve());const Ge=await NI.toDataURL(ve(),{width:800,margin:2,color:{dark:"#000000",light:"#ffffff"},errorCorrectionLevel:"H"});console.log(" QR Code generado exitosamente");const He=document.createElement("canvas"),Ie=He.getContext("2d");if(!Ie)throw new Error("No se pudo crear contexto de canvas");const Je=de==="landscape"?1920:1080,ot=de==="landscape"?1080:1920;if(He.width=Je,He.height=ot,console.log(" Canvas creado:",{width:Je,height:ot}),n.theme_background_url){const rt=new Image;if(rt.crossOrigin="anonymous",rt.src=n.theme_background_url,await new Promise(lt=>{rt.onload=lt,rt.onerror=()=>{console.warn("Error cargando fondo personalizado, usando gradiente"),lt(null)},setTimeout(()=>lt(null),5e3)}),rt.complete&&rt.naturalWidth>0){Ie.filter="blur(40px) brightness(0.7)";const lt=rt.naturalWidth/rt.naturalHeight,Dt=Je/ot;let ft,Zt,_t,Et;lt>Dt?(Zt=ot,ft=ot*lt,_t=-(ft-Je)/2,Et=0):(ft=Je,Zt=Je/lt,_t=0,Et=-(Zt-ot)/2),Ie.drawImage(rt,_t,Et,ft,Zt),Ie.filter="none";const Xt=Je*.9,Lt=ot*.9;let pt=rt.naturalWidth,Ht=rt.naturalHeight;pt>Xt&&(Ht=Xt/pt*Ht,pt=Xt),Ht>Lt&&(pt=Lt/Ht*pt,Ht=Lt);const ki=(Je-pt)/2,Rr=(ot-Ht)/2;Ie.globalAlpha=.85,Ie.drawImage(rt,ki,Rr,pt,Ht),Ie.globalAlpha=1,Ie.fillStyle="rgba(0, 0, 0, 0.25)",Ie.fillRect(0,0,Je,ot),console.log(" Fondo personalizado aplicado con blur")}else{const lt=Ie.createLinearGradient(0,0,0,ot);lt.addColorStop(0,Ke.secondary),lt.addColorStop(.5,Ke.primary),lt.addColorStop(1,Ke.background),Ie.fillStyle=lt,Ie.fillRect(0,0,Je,ot),console.log(" Fondo gradiente aplicado (fallback)")}}else{const rt=Ie.createLinearGradient(0,0,0,ot);rt.addColorStop(0,Ke.secondary),rt.addColorStop(.5,Ke.primary),rt.addColorStop(1,Ke.background),Ie.fillStyle=rt,Ie.fillRect(0,0,Je,ot),console.log(" Fondo con tema:",n.theme_id)}const ct=new Image;ct.src=Ge,await new Promise((rt,lt)=>{ct.onload=rt,ct.onerror=()=>lt(new Error("Error cargando imagen QR")),setTimeout(()=>lt(new Error("Timeout cargando QR")),5e3)}),console.log(" Imagen QR cargada");const Ze=de==="landscape"?350:450,ht=(Je-Ze)/2,it=(ot-Ze)/2;if(Ie.fillStyle="#ffffff",Ie.shadowColor="rgba(0,0,0,0.3)",Ie.shadowBlur=20,Ie.fillRect(ht-25,it-25,Ze+50,Ze+50),Ie.shadowBlur=0,Ie.drawImage(ct,ht,it,Ze,Ze),console.log(" QR dibujado en canvas"),Ie.fillStyle="#ffffff",Ie.textAlign="center",Ie.shadowColor="rgba(0,0,0,0.8)",Ie.shadowBlur=30,Ie.font=`bold ${de==="landscape"?"70":"80"}px system-ui, sans-serif`,Ie.fillText(n.name,Je/2,it-80),Ie.font=`${de==="landscape"?"40":"45"}px system-ui, sans-serif`,Ie.fillText("Escanea para encontrar tu mesa",Je/2,it+Ze+90),n.theme_custom_logo_url){const rt=new Image;if(rt.crossOrigin="anonymous",rt.src=n.theme_custom_logo_url,await new Promise(lt=>{rt.onload=lt,rt.onerror=()=>{console.warn("Error cargando logo"),lt(null)},setTimeout(()=>lt(null),5e3)}),rt.complete&&rt.naturalWidth>0){const lt=de==="landscape"?140:160,Dt=lt/2,ft=Je-lt-80,Zt=80;Ie.save(),Ie.beginPath(),Ie.arc(ft+Dt,Zt+Dt,Dt,0,Math.PI*2),Ie.closePath(),Ie.clip();const _t=Ie.createRadialGradient(ft+Dt,Zt+Dt,0,ft+Dt,Zt+Dt,Dt);_t.addColorStop(0,"rgba(255, 255, 255, 0.25)"),_t.addColorStop(1,"rgba(255, 255, 255, 0.1)"),Ie.fillStyle=_t,Ie.fillRect(ft,Zt,lt,lt),Ie.globalAlpha=.95;const Et=lt*.75;let Xt=rt.naturalWidth,Lt=rt.naturalHeight;Xt>Lt?(Lt=Et/Xt*Lt,Xt=Et):(Xt=Et/Lt*Xt,Lt=Et);const pt=ft+(lt-Xt)/2,Ht=Zt+(lt-Lt)/2;Ie.drawImage(rt,pt,Ht,Xt,Lt),Ie.globalAlpha=1,Ie.restore(),Ie.save(),Ie.shadowColor="rgba(0, 0, 0, 0.4)",Ie.shadowBlur=25,Ie.shadowOffsetY=8,Ie.strokeStyle="rgba(255, 255, 255, 0.3)",Ie.lineWidth=4,Ie.beginPath(),Ie.arc(ft+Dt,Zt+Dt,Dt,0,Math.PI*2),Ie.stroke(),Ie.restore(),console.log(" Logo circular agregado")}}Ie.font=`${de==="landscape"?"24":"28"}px system-ui, sans-serif`,Ie.fillStyle=Ke.accent,Ie.fillText("INGRESO VIP  by Tecno Eventos",Je/2,ot-60),console.log(" Textos agregados"),console.log(" Generando descarga...");const Qt=He.toDataURL("image/jpeg",.95),kt=document.createElement("a");kt.download=`${n.name.replace(/[^a-z0-9]/gi,"_")}_QR_${de}.jpg`,kt.href=Qt,document.body.appendChild(kt),kt.click(),document.body.removeChild(kt),console.log(" Descarga iniciada exitosamente!"),alert(` Poster QR ${de==="landscape"?"horizontal":"vertical"} generado correctamente`)}catch(Ne){console.error(" Error generando QR poster:",Ne);const Ke=Ne instanceof Error?Ne.message:"Error desconocido";alert(` Error al generar QR: ${Ke}

Revisa la consola para ms detalles (F12).`)}finally{q(!1),console.log(" Proceso de generacin finalizado")}},Oe=async de=>{if(n)try{const{error:Ne}=await cn.from("events").update({theme_id:de}).eq("id",n.id);if(Ne)throw Ne;r({...n,theme_id:de}),alert("Tema actualizado correctamente")}catch(Ne){console.error("Error updating theme:",Ne),alert("Error al actualizar tema")}},qe=de=>{if(!n)return;const Ne=de.target,Ke=Ne.type==="checkbox"?Ne.checked:Ne.value,Ge=Ne.name;r(He=>He?{...He,[Ge]:Ke}:null),Ge==="has_after_party"&&$(Ke)},Qe=async de=>{if(de.preventDefault(),!!n)try{const Ne={name:n.name,description:n.description,date:n.date,status:n.status,guest_count_total:Number(n.guest_count_total),table_count:Number(n.table_count),guests_per_table_default:Number(n.guests_per_table_default),has_living_room:!!n.has_living_room,has_after_party:!!n.has_after_party,after_party_time:n.after_party_time};console.log(" Guardando configuracin:",Ne);const{error:Ke}=await cn.from("events").update(Ne).eq("id",n.id);if(Ke)throw Ke;alert(" Configuracin guardada correctamente.")}catch(Ne){console.error(" Error updating event:",Ne),alert("Error al guardar cambios: "+Ne.message+`

IMPORTANTE: Si el error persiste, ejecuta el script FIX_DB_FINAL.sql en Supabase.`)}},nt=(de,Ne)=>{le({type:de,id:Ne}),we.current&&(we.current.value="",de==="logo"?we.current.accept="image/*":de==="background"?we.current.accept="image/*,video/*,video/mp4,video/quicktime,.mov":we.current.accept="video/*,video/mp4,video/x-m4v,video/quicktime,.mov,.avi,.mkv",we.current.click())},ee=async de=>{const Ne=de.target.files?.[0];if(!Ne||!re||!n)return;console.log("Iniciando subida:",{name:Ne.name,type:Ne.type,size:Ne.size}),me(!0);const Ke=Ne.size/(1024*1024);if(Ke>100&&!confirm(`El archivo pesa ${Ke.toFixed(1)} MB. Puede tardar en subir o fallar si supera el lmite de tu plan. Continuar?`)){me(!1);return}try{const Ge=Ne.name.split(".").pop(),He=Math.random().toString(36).substring(7),Ie=`${n.id}/${He}.${Ge}`,Je=re.type==="guest_video"?"guest-videos":"event-assets",{error:ot}=await cn.storage.from(Je).upload(Ie,Ne,{cacheControl:"3600",upsert:!1});if(ot)throw ot;const{data:{publicUrl:ct}}=cn.storage.from(Je).getPublicUrl(Ie);if(re.type==="background")await cn.from("events").update({theme_background_url:ct}).eq("id",n.id),r(Ze=>Ze?{...Ze,theme_background_url:ct}:null);else if(re.type==="logo")await cn.from("events").update({theme_custom_logo_url:ct}).eq("id",n.id),r(Ze=>Ze?{...Ze,theme_custom_logo_url:ct}:null);else if(re.type==="default_video")await cn.from("events").update({video_url_default:ct}).eq("id",n.id),r(Ze=>Ze?{...Ze,video_url_default:ct}:null);else if(re.type==="table_video"&&re.id){const ht={...n.video_configuration||{},[re.id]:ct};await cn.from("events").update({video_configuration:ht}).eq("id",n.id),r(it=>it?{...it,video_configuration:ht}:null)}else if(re.type==="guest_video"){const Ze=Array.from(J);if(Ze.length===0)return;await cn.from("guests").update({assigned_video_url:ct}).in("id",Ze),s(ht=>ht.map(it=>Ze.includes(it.id)?{...it,assigned_video_url:ct}:it)),ne(new Set),alert(`Video asignado a ${Ze.length} invitados correctamente.`)}}catch(Ge){console.error("Error uploading file:",Ge),alert("Error al subir el archivo. Intenta de nuevo.")}finally{me(!1),le(null)}},$e=async de=>{if(confirm("Ests seguro de eliminar este invitado?"))try{const{error:Ne}=await cn.from("guests").delete().eq("id",de);if(Ne)throw Ne;s(Ke=>Ke.filter(Ge=>Ge.id!==de)),A(null)}catch(Ne){console.error("Error deleting guest:",Ne),alert("Error al eliminar invitado")}},St=a.filter(de=>{const Ne=de.display_name?.toLowerCase().includes(N.toLowerCase())||de.first_name.toLowerCase().includes(N.toLowerCase())||de.last_name.toLowerCase().includes(N.toLowerCase());return V==="all"?Ne:V==="unassigned"?Ne&&!de.table_info:Ne&&de.table_info===V}),tt=Array.from(new Set(a.map(de=>de.table_info).filter(Boolean))).sort(),Me=de=>{if(!n)return;const{name:Ne,checked:Ke}=de.target;console.log(" Checkbox changed:",{name:Ne,checked:Ke}),r(Ge=>Ge?{...Ge,[Ne]:Ke}:null),Ne==="has_after_party"&&$(Ke)};return l?w.jsx(Am,{children:w.jsx("div",{className:"flex items-center justify-center h-64",children:w.jsx("div",{className:"animate-spin w-8 h-8 border-2 border-[#FBBF24] border-t-transparent rounded-full"})})}):n?w.jsxs(Am,{children:[w.jsxs("div",{className:"mb-8 animate-in fade-in slide-in-from-top-4 duration-500",children:[w.jsxs("button",{onClick:()=>e("/admin/dashboard"),className:"flex items-center gap-2 text-muted hover:text-foreground transition-colors mb-6 text-xs font-bold uppercase tracking-wider",children:[w.jsx(Ey,{size:14})," Volver al Dashboard"]}),n.status==="closed"&&w.jsxs("div",{className:"bg-slate-800 text-white px-4 py-3 rounded-xl mb-6 flex items-center gap-3 shadow-lg",children:[w.jsx("div",{className:"w-8 h-8 rounded-full bg-white/10 flex items-center justify-center",children:w.jsx(Vg,{size:16})}),w.jsxs("div",{children:[w.jsx("p",{className:"font-bold text-sm",children:"Evento Finalizado"}),w.jsx("p",{className:"text-xs text-slate-400",children:"Este evento est cerrado. Solo lectura."})]})]}),w.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-end gap-6",children:[w.jsxs("div",{children:[w.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[w.jsx("h1",{className:"text-4xl font-bold text-foreground tracking-tight font-display",children:n.name}),w.jsx("span",{className:`badge ${n.status==="active"?"bg-emerald-500 text-white border-transparent":"bg-slate-100 text-slate-600 border-slate-200"} border px-2.5 py-0.5 rounded-full text-xs font-bold shadow-sm`,children:n.status==="active"?"En Curso":n.status})]}),w.jsxs("div",{className:"flex items-center gap-6 text-muted-foreground text-sm font-medium",children:[w.jsxs("div",{className:"flex items-center gap-2 bg-surface px-3 py-1.5 rounded-full border border-border shadow-sm",children:[w.jsx(fh,{size:14,className:"text-accent"}),w.jsx("span",{children:sm(new Date(n.date+"T00:00:00"),"d 'de' MMMM, yyyy",{locale:Nv})})]}),w.jsxs("div",{className:"flex items-center gap-2 bg-surface px-3 py-1.5 rounded-full border border-border shadow-sm",children:[w.jsx(ll,{size:14,className:"text-accent"}),w.jsxs("span",{children:[n.guest_count_total," Invitados"]})]})]})]}),w.jsxs("div",{className:"flex gap-3",children:[w.jsxs("button",{onClick:()=>window.open(ve(),"_blank"),className:"btn btn-outline border-purple-200 text-purple-600 hover:bg-purple-50 hover:border-purple-300 dark:border-purple-900/50 dark:text-purple-400 dark:hover:bg-purple-900/20",title:"Ver vista del invitado",children:[w.jsx(Ip,{size:16,className:"mr-2"})," Ver App"]}),n.status!=="closed"&&w.jsxs(w.Fragment,{children:[w.jsxs("button",{onClick:()=>g(!0),className:"btn btn-outline",children:[w.jsx(Xc,{size:16,className:"mr-2"})," Importar"]}),w.jsxs("button",{onClick:()=>v(!0),className:"btn btn-primary",children:[w.jsx(Cy,{size:16,className:"mr-2"})," Nuevo Invitado"]})]})]})]})]}),w.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-8",children:[w.jsx(Zp,{label:"Total Invitados",value:a.length,icon:ll,color:"blue"}),w.jsx(Zp,{label:"Confirmados",value:a.filter(de=>de.status==="confirmed").length,icon:tc,color:"emerald"}),w.jsx(Zp,{label:"En Espera",value:a.filter(de=>de.status==="pending").length,icon:Vg,color:"amber"}),w.jsx(Zp,{label:"Mesas Asignadas",value:a.filter(de=>!!de.table_info).length,icon:ou,color:"purple"})]}),w.jsx("div",{className:"mb-8",children:w.jsx("div",{className:"bg-surface border border-border p-1.5 rounded-xl inline-flex flex-wrap gap-1 shadow-sm",children:[{id:"guests",label:"Invitados",icon:ll},{id:"tables",label:"Organizador",icon:ou},{id:"design",label:"Diseo",icon:Iw},{id:"receptionist",label:"Recepcionista",icon:Fp},{id:"downloads",label:"Descargas",icon:al},{id:"settings",label:"Configuracin",icon:IL}].map(de=>w.jsxs("button",{onClick:()=>f(de.id),className:`
                                flex items-center gap-2 px-4 py-2.5 rounded-lg text-sm font-semibold transition-all duration-200
                                ${d===de.id?"bg-accent/10 text-accent-dark shadow-sm ring-1 ring-inset ring-accent/20":"text-muted hover:text-foreground hover:bg-background"}
                            `,children:[w.jsx(de.icon,{size:16,className:d===de.id?"text-accent":"text-muted-foreground"}),de.label]},de.id))})}),d==="guests"&&w.jsxs("div",{className:"space-y-4 animate-in fade-in duration-300",children:[w.jsxs("div",{className:"flex gap-3",children:[w.jsxs("div",{className:"bg-white border border-slate-200 p-1.5 rounded-xl flex-1 flex items-center gap-3 shadow-sm placeholder:text-slate-400",children:[w.jsx("div",{className:"pl-4 text-slate-400",children:w.jsx(Id,{size:18})}),w.jsx("input",{type:"text",value:N,onChange:de=>C(de.target.value),placeholder:"Buscar invitado por nombre...",className:"bg-transparent border-none shadow-none focus:shadow-none p-2 text-sm placeholder:text-slate-400 w-full text-slate-900"})]}),w.jsxs("div",{className:"relative z-20",children:[w.jsxs("button",{onClick:()=>L(!R),className:`h-full px-4 rounded-xl border flex items-center gap-2 transition-all ${V!=="all"?"bg-amber-500 border-amber-500 text-white shadow-lg shadow-amber-500/20":"bg-white border-slate-200 text-slate-600 hover:bg-slate-50 hover:text-slate-900"}`,children:[w.jsx(bL,{size:16}),w.jsx("span",{className:"text-sm font-medium",children:V==="all"?"Filtrar":V==="unassigned"?"Sin Asignar":V})]}),R&&w.jsxs(w.Fragment,{children:[w.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>L(!1)}),w.jsx("div",{className:"absolute right-0 top-full mt-2 z-30 w-56 bg-white border border-slate-200 rounded-xl shadow-xl overflow-hidden animate-in fade-in zoom-in-95 duration-100",children:w.jsxs("div",{className:"p-1.5 max-h-64 overflow-y-auto custom-scrollbar",children:[w.jsx("div",{className:"px-2 py-1.5 text-[10px] font-bold text-slate-400 uppercase tracking-wider",children:"Filtrar por Ubicacin"}),w.jsxs("button",{onClick:()=>{W("all"),L(!1)},className:`w-full text-left px-3 py-2 text-xs font-medium rounded-lg transition-all flex justify-between items-center ${V==="all"?"bg-amber-50 text-amber-700":"text-slate-600 hover:bg-slate-50"}`,children:["Ver Todos",V==="all"&&w.jsx(tc,{size:14})]}),w.jsxs("button",{onClick:()=>{W("unassigned"),L(!1)},className:`w-full text-left px-3 py-2 text-xs font-medium rounded-lg transition-all flex justify-between items-center ${V==="unassigned"?"bg-amber-50 text-amber-700":"text-slate-600 hover:bg-slate-50"}`,children:["Sin Asignar",V==="unassigned"&&w.jsx(tc,{size:14})]}),tt.length>0&&w.jsx("div",{className:"h-px bg-slate-100 my-1.5 mx-1"}),tt.map(de=>w.jsxs("button",{onClick:()=>{W(de),L(!1)},className:`w-full text-left px-3 py-2 text-xs font-medium rounded-lg transition-all flex justify-between items-center ${V===de?"bg-amber-50 text-amber-700":"text-slate-600 hover:bg-slate-50"}`,children:[de,V===de&&w.jsx(tc,{size:14})]},de))]})})]})]})]}),a.length===0?w.jsx("div",{className:"bg-white border border-slate-200 rounded-xl overflow-hidden shadow-sm",children:w.jsxs("div",{className:"text-center py-12 text-slate-500",children:[w.jsx(ll,{size:32,className:"mx-auto mb-3 opacity-30 text-slate-400"}),w.jsx("p",{className:"text-sm",children:"An no hay invitados cargados."}),n.status!=="closed"&&w.jsx("button",{onClick:()=>g(!0),className:"text-amber-600 text-sm font-semibold mt-2 hover:underline",children:"Importar lista CSV"})]})}):w.jsx("div",{className:"border border-slate-200 rounded-2xl overflow-hidden bg-white shadow-sm",children:w.jsxs("table",{className:"w-full text-sm text-left",children:[w.jsx("thead",{className:"bg-slate-50 text-xs text-slate-500 uppercase font-bold tracking-wider border-b border-slate-200",children:w.jsxs("tr",{children:[w.jsx("th",{className:"px-6 py-4",children:"Invitado"}),w.jsx("th",{className:"px-6 py-4",children:"Mesa / Ubicacin"}),w.jsx("th",{className:"px-6 py-4 text-center",children:"Estado"}),w.jsx("th",{className:"px-6 py-4 text-right",children:"Acciones"})]})}),w.jsx("tbody",{className:"divide-y divide-slate-100",children:St.map((de,Ne)=>{const Ke=Ne>=St.length-2&&St.length>3;return w.jsxs("tr",{className:"hover:bg-slate-50 transition-colors group",children:[w.jsx("td",{className:"px-6 py-4",children:w.jsxs("div",{children:[w.jsxs("p",{className:"text-slate-900 font-semibold",children:[de.last_name,", ",de.first_name]}),w.jsxs("div",{className:"flex gap-1 mt-1 flex-wrap",children:[de.is_after_party&&w.jsx("span",{className:"inline-flex items-center px-1.5 py-0.5 rounded text-[10px] font-medium bg-purple-100 text-purple-800 border border-purple-200",children:"Trasnoche"}),de.has_puff&&w.jsx("span",{className:"inline-flex items-center px-1.5 py-0.5 rounded text-[10px] font-medium bg-indigo-100 text-indigo-800 border border-indigo-200",children:"Puff"})]})]})}),w.jsx("td",{className:"px-6 py-4 text-slate-500",children:de.table_info?w.jsxs("span",{className:"flex items-center gap-2",children:[w.jsx(ou,{size:14,className:"text-amber-500"})," ",de.table_info]}):w.jsx("span",{className:"text-slate-400 italic",children:"Sin asignar"})}),w.jsx("td",{className:"px-6 py-4 text-center",children:w.jsx("span",{className:`badge ${de.status==="confirmed"?"badge-success":de.status==="arrived"?"badge-info bg-blue-50 text-blue-600 border-blue-100":"badge-neutral"}`,children:de.status==="pending"?"Pendiente":de.status})}),w.jsxs("td",{className:"px-6 py-4 text-right relative",children:[w.jsx("button",{onClick:Ge=>{Ge.stopPropagation(),A(T===de.id?null:de.id)},className:`p-2 rounded-lg transition-colors ${T===de.id?"bg-slate-100 text-slate-900":"text-slate-400 hover:bg-slate-50 hover:text-slate-600"}`,children:w.jsx(Bw,{size:16})}),T===de.id&&w.jsxs(w.Fragment,{children:[w.jsx("div",{className:"fixed inset-0 z-20 cursor-default",onClick:()=>A(null)}),w.jsx("div",{className:`absolute right-10 z-30 w-40 bg-white border border-slate-200 rounded-xl shadow-lg overflow-hidden animate-in fade-in zoom-in-95 duration-200 ${Ke?"bottom-0 mb-0 origin-bottom-right":"top-0 origin-top-right"}`,children:w.jsxs("div",{className:"p-1 flex flex-col gap-1",children:[n.status!=="closed"&&w.jsxs(w.Fragment,{children:[w.jsxs("button",{onClick:Ge=>{Ge.stopPropagation(),M(de),v(!0),A(null)},className:"w-full text-left px-3 py-2 text-xs font-medium text-slate-600 hover:bg-slate-50 hover:text-slate-900 rounded-md transition-colors flex items-center gap-2",children:[w.jsx(N3,{size:14,className:"text-slate-400"}),"Editar"]}),w.jsxs("button",{onClick:Ge=>{Ge.stopPropagation(),$e(de.id)},className:"w-full text-left px-3 py-2 text-xs font-medium text-slate-600 hover:bg-rose-50 hover:text-rose-600 rounded-md transition-colors flex items-center gap-2",children:[w.jsx(Sv,{size:14,className:"text-slate-400 hover:text-rose-500"}),"Eliminar"]})]}),n.status==="closed"&&w.jsx("p",{className:"px-3 py-2 text-xs text-slate-400 italic text-center",children:"Solo Lectura"})]})})]})]})]},de.id)})})]})})]}),d==="tables"&&w.jsxs(dB,{onDragEnd:ue,children:[n.status==="closed"&&w.jsxs("div",{className:"bg-amber-50 text-amber-800 px-4 py-2 rounded-lg mb-4 text-sm flex items-center gap-2 border border-amber-200",children:[w.jsx(E3,{size:14})," La organizacin de mesas est deshabilitada porque el evento ha finalizado."]}),w.jsx("div",{className:"animate-in fade-in duration-300 mb-8",children:w.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:[w.jsx(Ox,{droppableId:"unassigned",isDropDisabled:n.status==="closed",children:de=>w.jsxs("div",{ref:de.innerRef,...de.droppableProps,className:"bg-slate-50 border-2 border-dashed border-slate-300 rounded-xl p-0 flex flex-col h-96",children:[w.jsx("div",{className:"p-4 border-b border-slate-200 bg-slate-100 rounded-t-xl",children:w.jsxs("div",{className:"flex justify-between items-center",children:[w.jsx("h3",{className:"font-bold text-slate-700",children:"Sin Asignar"}),w.jsx("span",{className:"text-xs bg-slate-200 text-slate-600 px-2 py-1 rounded-full font-bold",children:a.filter(Ne=>!Ne.table_info).length})]})}),w.jsxs("div",{className:"flex-1 overflow-y-auto p-2 custom-scrollbar",children:[a.filter(Ne=>!Ne.table_info).map((Ne,Ke)=>w.jsx(Cx,{draggableId:Ne.id,index:Ke,isDragDisabled:n.status==="closed",children:(Ge,He)=>w.jsxs("div",{ref:Ge.innerRef,...Ge.draggableProps,...Ge.dragHandleProps,className:`p-3 mb-2 rounded-lg flex items-center justify-between group cursor-grab active:cursor-grabbing border transition-shadow ${He.isDragging?"bg-white shadow-lg border-amber-400 rotate-2":"bg-white border-slate-200 shadow-sm hover:border-slate-300"}`,children:[w.jsxs("span",{className:"text-sm text-slate-700 font-medium",children:[Ne.last_name,", ",Ne.first_name]}),w.jsx("div",{className:"text-slate-400",children:w.jsx(Bw,{size:14})})]})},Ne.id)),de.placeholder,a.filter(Ne=>!Ne.table_info).length===0&&w.jsx("div",{className:"h-full flex flex-col items-center justify-center text-slate-400 text-xs italic",children:"Todos los invitados tienen ubicacin"})]})]})}),(()=>{const de=Array.from({length:n.table_count||0},(Ge,He)=>`Mesa ${He+1}`),Ne=new Set;return a.forEach(Ge=>{const He=se(Ge.table_info);He&&!de.includes(He)&&Ne.add(He)}),[...de,...Array.from(Ne)].sort((Ge,He)=>{const Ie=Ge.match(/^Mesa (\d+)$/),Je=He.match(/^Mesa (\d+)$/);return Ie&&Je?parseInt(Ie[1])-parseInt(Je[1]):Ge.localeCompare(He)}).map(Ge=>{const He=a.filter(Ie=>se(Ie.table_info)===Ge);return w.jsx(Ox,{droppableId:Ge,isDropDisabled:n.status==="closed",children:Ie=>w.jsxs("div",{ref:Ie.innerRef,...Ie.droppableProps,className:"bg-white border border-slate-200 rounded-xl p-0 flex flex-col h-96 shadow-sm",children:[w.jsx("div",{className:"p-4 border-b border-slate-100 bg-slate-50 rounded-t-xl",children:w.jsxs("div",{className:"flex justify-between items-center",children:[w.jsx("h3",{className:"font-bold text-slate-900 truncate max-w-[70%]",children:Ge}),w.jsxs("span",{className:`text-xs px-2 py-1 rounded-full font-bold ${He.length>(n.guests_per_table_default||10)?"bg-rose-100 text-rose-600":"bg-green-100 text-green-700"}`,children:[He.length," / ",n.guests_per_table_default||10]})]})}),w.jsxs("div",{className:"flex-1 overflow-y-auto p-2 custom-scrollbar bg-slate-50/50",children:[He.map((Je,ot)=>w.jsx(Cx,{draggableId:Je.id,index:ot,isDragDisabled:n.status==="closed",children:(ct,Ze)=>w.jsx("div",{ref:ct.innerRef,...ct.draggableProps,...ct.dragHandleProps,className:`p-3 mb-2 rounded-lg flex items-center justify-between group cursor-grab active:cursor-grabbing border transition-shadow ${Ze.isDragging?"bg-white shadow-lg border-amber-400 rotate-2":"bg-white border-slate-200 shadow-sm hover:border-slate-300"}`,children:w.jsxs("span",{className:"text-sm text-slate-700 font-medium",children:[Je.last_name,", ",Je.first_name]})})},Je.id)),Ie.placeholder,He.length===0&&w.jsx("div",{className:"h-full flex flex-col items-center justify-center text-slate-400 text-xs italic",children:"Mesa vaca"})]})]})},Ge)})})()]})})]}),d==="design"&&w.jsx("div",{className:"animate-in fade-in duration-300 max-w-4xl space-y-6",children:w.jsxs("div",{className:"glass-card p-6",children:[w.jsxs("h3",{className:"text-lg font-bold text-white border-b border-white/5 pb-4 mb-6 flex items-center gap-2",children:[w.jsx(Iw,{size:18,className:"text-[#FBBF24]"})," Personalizacin Visual"]}),w.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[w.jsxs("div",{className:"space-y-4",children:[w.jsx("label",{className:"text-xs font-medium text-slate-400 uppercase tracking-wider",children:"Tema del Evento"}),w.jsx(nI,{selectedThemeId:n.theme_id||"default",onThemeSelect:Oe,compact:!0})]}),w.jsxs("div",{className:"space-y-4",children:[w.jsx("label",{className:"text-xs font-medium text-slate-400 uppercase tracking-wider",children:"Fondo Personalizado (Imagen o Video Loop)"}),w.jsxs("div",{onClick:()=>nt("background"),className:"border-2 border-dashed border-white/10 rounded-xl p-8 flex flex-col items-center justify-center text-center hover:bg-white/5 transition-colors cursor-pointer group relative overflow-hidden",children:[n.theme_background_url&&w.jsx("img",{src:n.theme_background_url,alt:"Background Preview",className:"absolute inset-0 w-full h-full object-cover opacity-30"}),w.jsxs("div",{className:"relative z-10",children:[w.jsx("div",{className:"w-12 h-12 rounded-full bg-white/5 flex items-center justify-center mb-3 group-hover:scale-110 transition-transform mx-auto",children:ce&&re?.type==="background"?w.jsx("div",{className:"loading loading-spinner text-[#FBBF24]"}):w.jsx(Xc,{size:20,className:"text-slate-400 group-hover:text-white"})}),w.jsx("p",{className:"text-sm text-slate-300 font-medium",children:n.theme_background_url?"Cambiar Fondo":"Click para subir"}),w.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"1920x1080 recomendado. JPG, MP4"})]})]})]}),w.jsxs("div",{className:"space-y-4",children:[w.jsx("label",{className:"text-xs font-medium text-slate-400 uppercase tracking-wider",children:"Logo del Evento"}),w.jsxs("div",{onClick:()=>nt("logo"),className:"border-2 border-dashed border-white/10 rounded-xl p-8 flex flex-col items-center justify-center text-center hover:bg-white/5 transition-colors cursor-pointer group relative overflow-hidden",children:[n.theme_custom_logo_url&&w.jsx("img",{src:n.theme_custom_logo_url,alt:"Logo Preview",className:"absolute inset-0 w-full h-full object-contain opacity-50 p-4"}),w.jsxs("div",{className:"relative z-10",children:[w.jsx("div",{className:"w-12 h-12 rounded-full bg-white/5 flex items-center justify-center mb-3 group-hover:scale-110 transition-transform mx-auto",children:ce&&re?.type==="logo"?w.jsx("div",{className:"loading loading-spinner text-[#FBBF24]"}):w.jsx(Xc,{size:20,className:"text-slate-400 group-hover:text-white"})}),w.jsx("p",{className:"text-sm text-slate-300 font-medium",children:n.theme_custom_logo_url?"Cambiar Logo":"Subir Logo"}),w.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"PNG transparente recomendado"})]})]})]}),w.jsxs("div",{className:"space-y-4",children:[w.jsx("label",{className:"text-xs font-medium text-slate-400 uppercase tracking-wider",children:"Tipografa"}),w.jsxs("select",{className:"w-full bg-white/5 border border-white/10 rounded-lg py-2.5 px-4 text-white text-sm focus:outline-none focus:border-[#FBBF24]/50",children:[w.jsx("option",{value:"Outfit",children:"Outfit (Moderna)"}),w.jsx("option",{value:"Inter",children:"Inter (Estndar)"}),w.jsx("option",{value:"Playfair Display",children:"Playfair Display (Elegante)"})]})]})]})]})}),d==="receptionist"&&w.jsx("div",{className:"animate-in fade-in duration-300 max-w-4xl space-y-6",children:w.jsxs("div",{className:"glass-card p-6",children:[w.jsxs("h3",{className:"text-lg font-bold text-white border-b border-white/5 pb-4 mb-6 flex items-center gap-2",children:[w.jsx(Fp,{size:18,className:"text-[#FBBF24]"})," Configuracin de Multimedia"]}),w.jsx("div",{className:"mb-8 p-4 rounded-xl bg-white/5 border border-white/10",children:w.jsxs("div",{className:"flex flex-col md:flex-row gap-6 items-center",children:[w.jsxs("div",{className:"flex-1",children:[w.jsx("h4",{className:"font-medium text-white mb-1",children:"Video por Defecto"}),w.jsx("p",{className:"text-xs text-slate-400",children:"Se reproduce para invitados que no tengan video especfico asignado."}),n.video_url_default&&w.jsxs("div",{className:"mt-2 text-xs text-[#FBBF24] flex items-center gap-1",children:[w.jsx(tc,{size:12})," Video activo"]})]}),w.jsx("button",{onClick:()=>nt("default_video"),disabled:ce,className:"btn btn-primary text-xs py-2 px-4 flex items-center gap-2",children:ce&&re?.type==="default_video"?"Subiendo...":w.jsxs(w.Fragment,{children:[w.jsx(Xc,{size:14})," ",n.video_url_default?"Cambiar Video":"Subir Video Default"]})})]})}),w.jsxs("div",{className:"space-y-4",children:[w.jsx("h4",{className:"text-sm font-bold text-slate-300 uppercase tracking-wider mb-4",children:"Videos por Mesa"}),w.jsx("div",{className:"grid grid-cols-1 gap-3",children:[...Array.from({length:n.table_count||5},(de,Ne)=>`Mesa ${Ne+1}`)].map(de=>w.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-white/5 border border-white/10 hover:border-white/20 transition-colors",children:[w.jsxs("div",{className:"flex items-center gap-3",children:[w.jsx("div",{className:"w-8 h-8 rounded-full bg-slate-800 flex items-center justify-center text-xs font-bold text-slate-400",children:de.replace("Mesa ","")}),w.jsx("span",{className:"text-sm text-slate-200 font-medium",children:de})]}),w.jsxs("div",{className:"flex items-center gap-2",children:[n.video_configuration?.[de]?w.jsxs("span",{className:"text-xs text-[#FBBF24] mr-2 flex items-center gap-1",children:[w.jsx(Fp,{size:10})," Asignado"]}):w.jsx("span",{className:"text-xs text-slate-500 italic mr-2",children:"Sin video asignado"}),w.jsx("button",{onClick:()=>nt("table_video",de),className:`p-2 rounded-lg transition-colors ${n.video_configuration?.[de]?"text-[#FBBF24] bg-[#FBBF24]/10":"text-slate-400 hover:bg-white/10 hover:text-white"}`,children:w.jsx(Xc,{size:14})})]})]},de))})]}),w.jsxs("div",{className:"pt-6 border-t border-white/5",children:[w.jsx("h4",{className:"text-sm font-bold text-slate-300 uppercase tracking-wider mb-4",children:"Videos Personalizados (Uno o Varios Invitados)"}),w.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 h-[500px]",children:[w.jsxs("div",{className:"glass-card p-4 flex flex-col border border-white/10",children:[w.jsxs("div",{className:"mb-4 relative",children:[w.jsx(Id,{size:16,className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-500"}),w.jsx("input",{type:"text",placeholder:"Buscar invitado...",value:k,onChange:de=>I(de.target.value),className:"w-full bg-white/5 border border-white/10 rounded-lg py-2 pl-9 pr-4 text-sm focus:outline-none focus:border-[#FBBF24]/50"})]}),w.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar space-y-1",children:a.filter(de=>de.first_name.toLowerCase().includes(k.toLowerCase())||de.last_name.toLowerCase().includes(k.toLowerCase())).map(de=>w.jsx("div",{className:`p-2 rounded-lg flex items-center justify-between cursor-pointer transition-colors ${J.has(de.id)?"bg-[#FBBF24]/10 border border-[#FBBF24]/30":"hover:bg-white/5 border border-transparent"}`,onClick:()=>{const Ne=new Set(J);Ne.has(de.id)?Ne.delete(de.id):Ne.add(de.id),ne(Ne)},children:w.jsxs("div",{className:"flex items-center gap-3",children:[w.jsx("div",{className:`w-4 h-4 rounded border flex items-center justify-center transition-colors ${J.has(de.id)?"bg-[#FBBF24] border-[#FBBF24]":"border-slate-600"}`,children:J.has(de.id)&&w.jsx(tc,{size:12,className:"text-black"})}),w.jsxs("div",{children:[w.jsxs("div",{className:`text-sm font-medium ${J.has(de.id)?"text-[#FBBF24]":"text-slate-300"}`,children:[de.last_name,", ",de.first_name]}),w.jsxs("div",{className:"text-[10px] text-slate-500",children:[de.table_info||"Sin Mesa"," ",de.assigned_video_url&&" Tiene video asignado"]})]})]})},de.id))}),w.jsxs("div",{className:"mt-4 pt-3 border-t border-white/5 flex justify-between items-center text-xs text-slate-400",children:[w.jsxs("span",{children:[J.size," seleccionados"]}),J.size>0&&w.jsx("button",{onClick:()=>ne(new Set),className:"text-slate-500 hover:text-white",children:"Desmarcar todos"})]})]}),w.jsxs("div",{className:"flex flex-col gap-4",children:[w.jsxs("div",{className:`flex-1 border-2 border-dashed rounded-xl flex flex-col items-center justify-center p-6 text-center transition-all ${J.size>0?"border-[#FBBF24]/50 bg-[#FBBF24]/5 cursor-pointer hover:bg-[#FBBF24]/10":"border-white/10 opacity-50 cursor-not-allowed"}`,children:[w.jsx("div",{className:`w-16 h-16 rounded-full flex items-center justify-center mb-4 transition-colors ${J.size>0?"bg-[#FBBF24] text-black":"bg-white/5 text-slate-500"}`,children:ce&&re?.type==="guest_video"?w.jsx("div",{className:"loading loading-spinner text-current"}):w.jsx(Xc,{size:24})}),w.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"Asignar Video Personalizado"}),w.jsxs("p",{className:"text-sm text-slate-400 mb-6 max-w-xs",children:["Sube un video para asignarlo a los ",w.jsxs("strong",{children:[J.size," invitados"]})," seleccionados."]}),w.jsx("button",{onClick:()=>nt("guest_video"),disabled:J.size===0||ce,className:"btn btn-primary py-2 px-6 shadow-lg shadow-yellow-500/20 disabled:opacity-50 disabled:shadow-none",children:ce&&re?.type==="guest_video"?"Subiendo y Asignando...":"Seleccionar Archivo de Video"})]}),w.jsxs("div",{className:"h-40 glass-card p-3 overflow-y-auto custom-scrollbar",children:[w.jsx("h5",{className:"text-xs font-bold text-slate-500 uppercase mb-2 sticky top-0 bg-[#0a0f1c] py-1",children:"Asignaciones Actuales"}),w.jsxs("div",{className:"space-y-2",children:[a.filter(de=>de.assigned_video_url).map(de=>w.jsxs("div",{className:"flex justify-between items-center text-xs p-2 bg-white/5 rounded",children:[w.jsxs("span",{className:"text-slate-300",children:[de.first_name," ",de.last_name]}),w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsxs("span",{className:"text-[#FBBF24] flex items-center gap-1",children:[w.jsx(Fp,{size:10})," Video"]}),w.jsx("button",{className:"text-rose-400 hover:text-rose-300",children:w.jsx(Sv,{size:12})})]})]},de.id)),a.filter(de=>de.assigned_video_url).length===0&&w.jsx("div",{className:"text-slate-600 italic text-center py-4",children:"No hay videos personalizados asignados"})]})]})]})]})]})]})}),d==="downloads"&&w.jsx("div",{className:"animate-in fade-in duration-300 max-w-4xl space-y-6",children:w.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[w.jsxs("div",{className:"glass-card p-6 flex flex-col items-center text-center",children:[w.jsxs("h3",{className:"text-lg font-bold text-white mb-6 flex items-center gap-2",children:[w.jsx(Ip,{size:18,className:"text-[#FBBF24]"})," QR de Ingreso"]}),w.jsxs("div",{className:"aspect-[9/16] w-64 bg-black rounded-xl border-4 border-[#FBBF24] relative flex flex-col items-center justify-center p-6 shadow-2xl mb-6",children:[w.jsx("div",{className:"absolute inset-0 bg-slate-900 opacity-50"}),w.jsx("div",{className:"relative z-10 bg-white p-4 rounded-xl",children:w.jsx(Ip,{size:120,className:"text-black"})}),w.jsx("div",{className:"relative z-10 mt-6 text-white font-bold text-lg",children:"ESCANEA PARA INGRESAR"}),w.jsx("div",{className:"relative z-10 mt-2 text-[#FBBF24] text-sm",children:"Tecno Eventos"})]}),w.jsxs("div",{className:"space-y-3",children:[w.jsxs("button",{className:"btn btn-primary w-full flex items-center justify-center gap-2",onClick:()=>je("portrait"),children:[w.jsx(al,{size:16})," QR Vertical (1080x1920)"]}),w.jsxs("button",{className:"btn btn-secondary w-full flex items-center justify-center gap-2",onClick:()=>je("landscape"),children:[w.jsx(al,{size:16})," QR Horizontal (1920x1080)"]})]}),w.jsx("p",{className:"text-xs text-slate-500 mt-2",children:"Elige el formato segn tu pantalla"})]}),w.jsx("div",{className:"space-y-6",children:w.jsxs("div",{className:"glass-card p-6",children:[w.jsxs("h3",{className:"text-lg font-bold text-white mb-4 flex items-center gap-2",children:[w.jsx(Bp,{size:18,className:"text-[#FBBF24]"})," Listas y Plantillas"]}),w.jsxs("div",{className:"space-y-4",children:[w.jsxs("div",{className:"p-4 rounded-xl bg-white/5 border border-white/10 hover:bg-white/10 transition-colors",children:[w.jsxs("div",{className:"flex justify-between items-start mb-2",children:[w.jsxs("div",{children:[w.jsx("h4",{className:"font-medium text-white text-sm",children:"Plantilla de Importacin"}),w.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"CSV para carga masiva de invitados"})]}),w.jsx("div",{className:"bg-blue-500/20 text-blue-400 p-2 rounded-lg",children:w.jsx(Bp,{size:16})})]}),w.jsxs("button",{className:"text-xs text-[#FBBF24] font-medium hover:underline flex items-center gap-1",onClick:he,children:["Descargar CSV ",w.jsx(al,{size:10})]})]}),w.jsxs("div",{className:"p-4 rounded-xl bg-white/5 border border-white/10 hover:bg-white/10 transition-colors",children:[w.jsxs("div",{className:"flex justify-between items-start mb-2",children:[w.jsxs("div",{children:[w.jsx("h4",{className:"font-medium text-white text-sm",children:"Lista Final de Invitados"}),w.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"PDF listo para imprimir control manual"})]}),w.jsx("div",{className:"bg-emerald-500/20 text-emerald-400 p-2 rounded-lg",children:w.jsx(Bp,{size:16})})]}),w.jsxs("button",{className:"text-xs text-[#FBBF24] font-medium hover:underline flex items-center gap-1",onClick:be,children:["Descargar PDF ",w.jsx(al,{size:10})]})]})]})]})})]})}),d==="downloads"&&w.jsx("div",{className:"space-y-6 animate-in fade-in duration-300",children:w.jsxs("div",{className:"card-premium p-6",children:[w.jsx("h3",{className:"text-xl font-bold text-foreground mb-4 font-display",children:"Descargas y Recursos"}),w.jsx("p",{className:"text-muted-foreground mb-6",children:"Descarga la informacin de tu evento o genera cdigos QR."}),w.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[w.jsxs("div",{className:"p-4 border border-border rounded-xl bg-surface hover:border-accent/50 transition-colors",children:[w.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[w.jsx("div",{className:"w-12 h-12 rounded-lg bg-emerald-500/10 flex items-center justify-center text-emerald-600",children:w.jsx(Bp,{size:24})}),w.jsxs("div",{children:[w.jsx("h4",{className:"font-bold text-foreground",children:"Lista de Invitados"}),w.jsx("p",{className:"text-sm text-muted",children:"Formato CSV compatible con Excel."})]})]}),w.jsxs("button",{onClick:he,className:"btn btn-outline w-full justify-center",children:[w.jsx(al,{size:16,className:"mr-2"})," Descargar CSV"]})]}),w.jsxs("div",{className:"p-4 border border-border rounded-xl bg-surface hover:border-accent/50 transition-colors",children:[w.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[w.jsx("div",{className:"w-12 h-12 rounded-lg bg-purple-500/10 flex items-center justify-center text-purple-600",children:w.jsx(Ip,{size:24})}),w.jsxs("div",{children:[w.jsx("h4",{className:"font-bold text-foreground",children:"Acceso Invitados (QR)"}),w.jsx("p",{className:"text-sm text-muted",children:"Genera imgenes para pantallas."})]})]}),w.jsxs("div",{className:"flex gap-2",children:[w.jsxs("button",{onClick:()=>je("portrait"),disabled:B,className:"btn btn-outline flex-1 text-xs justify-center",children:[w.jsx(al,{size:14,className:"mr-2"})," Vertical"]}),w.jsxs("button",{onClick:()=>je("landscape"),disabled:B,className:"btn btn-outline flex-1 text-xs justify-center",children:[w.jsx(al,{size:14,className:"mr-2"})," Horizontal"]})]}),w.jsxs("div",{className:"mt-4 pt-3 border-t border-border flex items-center justify-between",children:[w.jsx("span",{className:"text-xs text-muted",children:"Link directo:"}),w.jsxs("a",{href:ve(),target:"_blank",className:"text-xs text-accent hover:underline flex items-center gap-1",children:["Ver App ",w.jsx(iL,{size:10})]})]})]})]})]})}),d==="settings"&&w.jsx("div",{className:"animate-in fade-in duration-300 max-w-2xl",children:w.jsxs("form",{onSubmit:Qe,className:"glass-card p-6 space-y-6",children:[w.jsxs("div",{className:"space-y-4",children:[w.jsx("h3",{className:"text-lg font-bold text-white border-b border-white/5 pb-2 mb-4",children:"Informacin General"}),w.jsxs("div",{className:"space-y-4",children:[w.jsxs("div",{className:"space-y-1.5",children:[w.jsx("label",{className:"text-xs font-medium text-slate-400 uppercase tracking-wider",children:"Nombre del Evento"}),w.jsx("input",{type:"text",name:"name",value:n.name||"",onChange:qe,className:"w-full bg-white/5 border border-white/10 rounded-lg py-2.5 px-4 text-white text-sm focus:outline-none focus:border-[#FBBF24]/50 focus:ring-1 focus:ring-[#FBBF24]/50 transition-all placeholder:text-slate-600"})]}),w.jsxs("div",{className:"space-y-1.5",children:[w.jsx("label",{className:"text-xs font-medium text-slate-400 uppercase tracking-wider",children:"Descripcin (Opcional)"}),w.jsx("textarea",{name:"description",value:n.description||"",onChange:qe,rows:3,className:"w-full bg-white/5 border border-white/10 rounded-lg py-2.5 px-4 text-white text-sm focus:outline-none focus:border-[#FBBF24]/50 focus:ring-1 focus:ring-[#FBBF24]/50 transition-all placeholder:text-slate-600 resize-none",placeholder:"Detalles adicionales del evento..."})]}),w.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[w.jsxs("div",{className:"space-y-1.5",children:[w.jsx("label",{className:"text-xs font-medium text-slate-400 uppercase tracking-wider",children:"Fecha"}),w.jsx("input",{type:"date",name:"date",value:n.date||"",onChange:qe,className:"w-full bg-white/5 border border-white/10 rounded-lg py-2.5 px-4 text-white text-sm focus:outline-none focus:border-[#FBBF24]/50 focus:ring-1 focus:ring-[#FBBF24]/50 transition-all placeholder:text-slate-600 appearance-none"})]}),w.jsxs("div",{className:"space-y-1.5",children:[w.jsx("label",{className:"text-xs font-medium text-slate-400 uppercase tracking-wider",children:"Estado"}),w.jsxs("select",{name:"status",value:n.status||"pending",onChange:qe,className:"w-full bg-white/5 border border-white/10 rounded-lg py-2.5 px-4 text-white text-sm focus:outline-none focus:border-[#FBBF24]/50",children:[w.jsx("option",{value:"pending",children:"Pendiente"}),w.jsx("option",{value:"active",children:"Activo"}),w.jsx("option",{value:"disabled",children:"Deshabilitado"}),w.jsx("option",{value:"closed",children:"Cerrado"})]})]})]})]})]}),w.jsxs("div",{className:"space-y-4 pt-4",children:[w.jsx("h3",{className:"text-lg font-bold text-white border-b border-white/5 pb-2 mb-4",children:"Configuracin de Mesas y reas"}),w.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[w.jsxs("div",{className:"space-y-1.5",children:[w.jsx("label",{className:"text-xs font-medium text-slate-400 uppercase tracking-wider",children:"Cantidad de Mesas"}),w.jsx("input",{type:"number",name:"table_count",value:n.table_count||10,onChange:qe,className:"w-full bg-white/5 border border-white/10 rounded-lg py-2.5 px-4 text-white text-sm focus:outline-none focus:border-[#FBBF24]/50"})]}),w.jsxs("div",{className:"space-y-1.5",children:[w.jsx("label",{className:"text-xs font-medium text-slate-400 uppercase tracking-wider",children:"Invitados por Mesa"}),w.jsx("input",{type:"number",name:"guests_per_table_default",value:n.guests_per_table_default||10,onChange:qe,className:"w-full bg-white/5 border border-white/10 rounded-lg py-2.5 px-4 text-white text-sm focus:outline-none focus:border-[#FBBF24]/50"})]})]}),w.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-white/5",children:[w.jsxs("div",{children:[w.jsx("div",{className:"text-sm font-medium text-white",children:"Habilitar Living / Sin Asignar"}),w.jsx("div",{className:"text-xs text-slate-500",children:"rea sin numeracin estricta"})]}),w.jsx("input",{type:"checkbox",name:"has_living_room",checked:!!n.has_living_room,onChange:Me,className:"toggle toggle-warning toggle-sm"})]}),w.jsxs("div",{className:"flex flex-col gap-2 p-3 rounded-lg bg-white/5",children:[w.jsxs("div",{className:"flex items-center justify-between",children:[w.jsxs("div",{children:[w.jsx("div",{className:"text-sm font-medium text-white",children:"Habilitar Trasnoche"}),w.jsx("div",{className:"text-xs text-slate-500",children:"Invitados post-cena"})]}),w.jsx("input",{type:"checkbox",name:"has_after_party",checked:!!n.has_after_party,onChange:Me,className:"toggle toggle-warning toggle-sm"})]}),n.has_after_party&&w.jsxs("div",{className:"mt-2 text-sm border-t border-white/5 pt-2 flex items-center gap-3 animate-in fade-in slide-in-from-top-1",children:[w.jsx(Vg,{size:14,className:"text-[#FBBF24]"}),w.jsx("label",{className:"text-xs text-slate-400 uppercase font-bold",children:"Hora de Inicio:"}),w.jsx("input",{type:"time",name:"after_party_time",value:n.after_party_time||"00:00",onChange:qe,className:"bg-black/20 border border-white/10 rounded px-3 py-1 text-white text-sm focus:border-[#FBBF24] outline-none"})]})]})]}),w.jsxs("div",{className:"pt-4 border-t border-white/5 flex justify-end gap-3",children:[w.jsx("button",{type:"button",className:"btn btn-ghost text-slate-400 hover:text-white",onClick:()=>window.location.reload(),children:"Cancelar"}),w.jsx("button",{type:"submit",className:"btn btn-primary py-2.5 px-6 shadow-lg shadow-yellow-500/20",children:"Guardar Cambios"})]})]})}),w.jsx("input",{type:"file",ref:we,className:"hidden",onChange:ee}),n&&w.jsx(eI,{isOpen:p,onClose:()=>g(!1),event:n,onImportComplete:P}),n&&w.jsx(tI,{isOpen:y,onClose:()=>{v(!1),M(null)},event:n,guestToEdit:D,onGuestAdded:z,onGuestUpdated:Z})]}):null}function Zp({label:t,value:e,icon:n,color:r}){const a={blue:"text-blue-500 bg-blue-500/10",emerald:"text-emerald-500 bg-emerald-500/10",amber:"text-amber-500 bg-amber-500/10",purple:"text-purple-500 bg-purple-500/10"};return w.jsxs("div",{className:"card-premium p-4 flex items-center gap-4",children:[w.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center ${a[r]}`,children:w.jsx(n,{size:24})}),w.jsxs("div",{children:[w.jsx("div",{className:"text-2xl font-bold text-foreground leading-none mb-1",children:e}),w.jsx("div",{className:"text-xs text-muted-foreground uppercase tracking-wider font-semibold",children:t})]})]})}function vU(){const[t,e]=X.useState([]),[n,r]=X.useState([]),[a,s]=X.useState(!0),[l,u]=X.useState(""),[d,f]=X.useState(!1),[p,g]=X.useState(null),[y,v]=X.useState({email:"",role:"provider",assigned_event_ids:[]});X.useEffect(()=>{N()},[]);const N=async()=>{try{s(!0);const[q,V]=await Promise.all([cn.from("profiles").select("*").order("created_at",{ascending:!1}),cn.from("events").select("*").order("date",{ascending:!1})]);if(q.error)throw q.error;if(V.error)throw V.error;e(q.data||[]),r(V.data||[])}catch(q){console.error("Error fetching data:",q)}finally{s(!1)}},C=()=>{g(null),v({email:"",role:"provider",assigned_event_ids:[]}),f(!0)},T=q=>{g(q),v({email:q.email||"",role:q.role||"provider",assigned_event_ids:q.assigned_event_ids||[]}),f(!0)},A=async q=>{q.preventDefault();try{if(p){const{error:V}=await cn.from("profiles").update({role:y.role,assigned_event_ids:y.assigned_event_ids}).eq("id",p.id);if(V)throw V}else{const V=crypto.randomUUID(),{error:W}=await cn.from("profiles").insert({id:V,email:y.email,role:y.role,assigned_event_ids:y.assigned_event_ids});if(W)throw W;alert("Usuario creado (Perfil). El usuario debe registrarse con este email.")}f(!1),N()}catch(V){console.error("Error saving user:",V),alert(`Error al guardar usuario: ${V.message||JSON.stringify(V)}`)}},D=q=>{v(V=>{const W=V.assigned_event_ids||[];return W.includes(q)?{...V,assigned_event_ids:W.filter(R=>R!==q)}:{...V,assigned_event_ids:[...W,q]}})},M=async q=>{if(confirm("Ests seguro de eliminar este usuario? Esto deshabilitar su acceso."))try{const{error:V}=await cn.from("profiles").update({role:"disabled",email:null}).eq("id",q);if(V)throw console.error("Error al deshabilitar perfil:",V),V;alert("Usuario deshabilitado correctamente. Ya no podr acceder al sistema."),N()}catch(V){console.error("Error completo:",V),alert(`Error al deshabilitar usuario: ${V.message||"Error desconocido"}`)}},B=t.filter(q=>q&&q.role!=="disabled").filter(q=>{const V=q.email||"",W=q.role||"",R=l.toLowerCase();return V.toLowerCase().includes(R)||W.toLowerCase().includes(R)});return w.jsxs(Am,{children:[w.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-6 mb-8 animate-in fade-in slide-in-from-top-4 duration-500",children:[w.jsxs("div",{children:[w.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Administracin de Usuarios"}),w.jsx("p",{className:"text-muted-foreground",children:"Administra proveedores, asigna eventos y controla accesos."})]}),w.jsxs("button",{onClick:C,className:"btn btn-primary",children:[w.jsx(Cy,{size:18,className:"mr-2"})," Nuevo Usuario"]})]}),w.jsxs("div",{className:"glass-panel overflow-hidden animate-in fade-in duration-500 delay-150 rounded-xl",children:[w.jsx("div",{className:"p-4 border-b border-border bg-surface/50 flex gap-3",children:w.jsxs("div",{className:"relative flex-1 max-w-md",children:[w.jsx(Id,{size:18,className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted"}),w.jsx("input",{type:"text",placeholder:"Buscar usuarios por email o rol...",value:l,onChange:q=>u(q.target.value),className:"w-full bg-surface border border-border rounded-lg pl-10 pr-4 py-2 text-foreground focus:outline-none focus:border-accent focus:ring-1 focus:ring-accent/50 transition-all"})]})}),w.jsx("div",{className:"overflow-x-auto",children:w.jsxs("table",{className:"w-full text-sm text-left",children:[w.jsx("thead",{className:"bg-surface/50 text-xs text-muted uppercase font-bold tracking-wider border-b border-border",children:w.jsxs("tr",{children:[w.jsx("th",{className:"px-6 py-4",children:"Usuario"}),w.jsx("th",{className:"px-6 py-4",children:"Rol"}),w.jsx("th",{className:"px-6 py-4",children:"Eventos Asignados"}),w.jsx("th",{className:"px-6 py-4 text-center",children:"Estado"}),w.jsx("th",{className:"px-6 py-4 text-right",children:"Acciones"})]})}),w.jsx("tbody",{className:"divide-y divide-border",children:a?w.jsx("tr",{children:w.jsx("td",{colSpan:5,className:"py-12 text-center text-muted",children:"Cargando usuarios..."})}):B.length===0?w.jsx("tr",{children:w.jsx("td",{colSpan:5,className:"py-12 text-center text-muted",children:"No hay usuarios registrados."})}):B.map(q=>w.jsxs("tr",{className:"hover:bg-surface/50 transition-colors group",children:[w.jsx("td",{className:"px-6 py-4",children:w.jsxs("div",{className:"flex items-center gap-3",children:[w.jsx("div",{className:"w-10 h-10 rounded-full bg-surface flex items-center justify-center text-muted-foreground border border-border",children:w.jsx(Sm,{size:18})}),w.jsxs("div",{children:[w.jsx("p",{className:"font-semibold text-foreground",children:q.email?.split("@")[0]}),w.jsx("p",{className:"text-xs text-muted",children:q.email})]})]})}),w.jsx("td",{className:"px-6 py-4",children:w.jsx("span",{className:`badge ${q.role==="superadmin"?"bg-foreground text-background border-border":"bg-accent/10 text-accent-dark border-accent/20"} px-2 py-1 rounded text-xs font-medium border`,children:q.role==="superadmin"?"Super Admin":"Proveedor"})}),w.jsx("td",{className:"px-6 py-4",children:w.jsx("div",{className:"flex flex-wrap gap-1",children:q.role==="superadmin"?w.jsx("span",{className:"text-xs text-muted italic",children:"Acceso Total"}):q.assigned_event_ids&&q.assigned_event_ids.length>0?q.assigned_event_ids.map(V=>{const W=n.find(R=>R.id===V);return w.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-[10px] font-medium bg-surface text-foreground border border-border",children:W?W.name:"Evento Desconocido"},V)}):w.jsx("span",{className:"text-xs text-muted italic",children:"Sin asignacin"})})}),w.jsx("td",{className:"px-6 py-4 text-center",children:q.is_active!==!1?w.jsxs("span",{className:"inline-flex items-center gap-1 text-xs font-medium text-emerald-600 bg-emerald-50 px-2 py-0.5 rounded-full border border-emerald-100",children:[w.jsx(tc,{size:10})," Activo"]}):w.jsxs("span",{className:"inline-flex items-center gap-1 text-xs font-medium text-rose-600 bg-rose-50 px-2 py-0.5 rounded-full border border-rose-100",children:[w.jsx(Mw,{size:10})," Inactivo"]})}),w.jsx("td",{className:"px-6 py-4 text-right",children:w.jsxs("div",{className:"flex items-center justify-end gap-2",children:[w.jsxs("button",{onClick:()=>T(q),className:"flex items-center gap-1.5 px-3 py-1.5 bg-accent/10 text-accent-dark hover:bg-accent/20 rounded-lg transition-colors text-xs font-semibold border border-transparent hover:border-accent/30",title:"Editar y Asignar Eventos",children:[w.jsx(N3,{size:14})," Asignar / Editar"]}),w.jsx("button",{onClick:()=>M(q.id),className:"p-1.5 rounded-lg text-muted hover:text-rose-600 hover:bg-rose-50 transition-colors",title:"Eliminar",children:w.jsx(Sv,{size:16})})]})})]},q.id))})]})})]}),d&&w.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-background/80 backdrop-blur-sm animate-in fade-in duration-200",children:w.jsxs("div",{className:"glass-panel w-full max-w-2xl max-h-[90vh] overflow-y-auto rounded-2xl shadow-2xl",children:[w.jsxs("div",{className:"p-6 border-b border-border flex justify-between items-center bg-surface/50",children:[w.jsx("h3",{className:"text-lg font-bold text-foreground font-display",children:p?"Editar Usuario":"Nuevo Usuario"}),w.jsx("button",{onClick:()=>f(!1),className:"text-muted hover:text-foreground",children:w.jsx(Mw,{size:24})})]}),w.jsxs("form",{onSubmit:A,className:"p-6 space-y-6 bg-surface",children:[w.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[w.jsxs("div",{className:"space-y-2",children:[w.jsx("label",{className:"text-sm font-semibold text-foreground",children:"Email del Usuario"}),w.jsx("input",{type:"email",required:!0,disabled:!!p,value:y.email,onChange:q=>v({...y,email:q.target.value}),className:"input-field",placeholder:"usuario@ejemplo.com"}),p&&w.jsx("p",{className:"text-xs text-muted",children:"El email no se puede cambiar."})]}),w.jsxs("div",{className:"space-y-2",children:[w.jsx("label",{className:"text-sm font-semibold text-foreground",children:"Rol de Sistema"}),w.jsxs("div",{className:"flex gap-4",children:[w.jsxs("label",{className:`flex-1 p-3 rounded-lg border cursor-pointer transition-all ${y.role==="provider"?"border-accent bg-accent/5 text-accent-dark":"border-border hover:bg-surface/80"}`,children:[w.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[w.jsx("input",{type:"radio",name:"role",value:"provider",checked:y.role==="provider",onChange:()=>v({...y,role:"provider"}),className:"hidden"}),w.jsx(Sm,{size:16}),w.jsx("span",{className:"font-bold text-sm",children:"Proveedor"})]}),w.jsx("p",{className:"text-xs opacity-70",children:"Acceso limitado a eventos asignados."})]}),w.jsxs("label",{className:`flex-1 p-3 rounded-lg border cursor-pointer transition-all ${y.role==="superadmin"?"border-purple-500 bg-purple-50 text-purple-900":"border-border hover:bg-surface/80"}`,children:[w.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[w.jsx("input",{type:"radio",name:"role",value:"superadmin",checked:y.role==="superadmin",onChange:()=>v({...y,role:"superadmin"}),className:"hidden"}),w.jsx(E3,{size:16}),w.jsx("span",{className:"font-bold text-sm",children:"Super Admin"})]}),w.jsx("p",{className:"text-xs opacity-70",children:"Control total del sistema."})]})]})]})]}),w.jsxs("div",{className:"pt-6 border-t border-border",children:[w.jsxs("div",{className:"flex justify-between items-center mb-4",children:[w.jsxs("h4",{className:"font-bold text-foreground flex items-center gap-2",children:[w.jsx(fh,{size:18,className:"text-accent"})," Asignacin de Eventos"]}),w.jsxs("span",{className:"text-xs text-muted-foreground bg-secondary px-2 py-1 rounded-full border border-border",children:[y.assigned_event_ids.length," Seleccionados"]})]}),w.jsx("div",{className:"bg-background border border-border rounded-xl p-4 max-h-60 overflow-y-auto custom-scrollbar",children:n.length===0?w.jsx("p",{className:"text-center text-muted py-4",children:"No hay eventos disponibles."}):w.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:n.map(q=>w.jsxs("label",{className:`flex items-center p-3 rounded-lg border cursor-pointer transition-all ${y.assigned_event_ids.includes(q.id)?"bg-surface border-accent shadow-sm":"border-transparent hover:bg-surface/50 hover:border-border"}`,children:[w.jsx("div",{className:`w-5 h-5 rounded border flex items-center justify-center mr-3 transition-colors ${y.assigned_event_ids.includes(q.id)?"bg-accent border-accent text-white":"border-muted bg-background"}`,children:y.assigned_event_ids.includes(q.id)&&w.jsx(tc,{size:12})}),w.jsx("input",{type:"checkbox",className:"hidden",checked:y.assigned_event_ids.includes(q.id),onChange:()=>D(q.id)}),w.jsx("span",{className:`text-sm ${y.assigned_event_ids.includes(q.id)?"font-semibold text-foreground":"text-muted-foreground"}`,children:q.name})]},q.id))})}),w.jsx("p",{className:"text-xs text-muted mt-2",children:"* Los Super Admins tienen acceso a todos los eventos por defecto."})]}),w.jsxs("div",{className:"pt-6 border-t border-border flex justify-end gap-3",children:[w.jsx("button",{type:"button",onClick:()=>f(!1),className:"btn btn-outline",children:"Cancelar"}),w.jsx("button",{type:"submit",className:"btn btn-primary",children:p?"Guardar Cambios":"Crear Usuario"})]})]})]})})]})}const nb=X.createContext({});function rb(t){const e=X.useRef(null);return e.current===null&&(e.current=t()),e.current}const ib=typeof window<"u",IN=ib?X.useLayoutEffect:X.useEffect,c0=X.createContext(null);function ab(t,e){t.indexOf(e)===-1&&t.push(e)}function sb(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const dl=(t,e,n)=>n>e?e:n<t?t:n;let ob=()=>{};const fl={},FN=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function UN(t){return typeof t=="object"&&t!==null}const zN=t=>/^0[^.\s]+$/u.test(t);function lb(t){let e;return()=>(e===void 0&&(e=t()),e)}const ls=t=>t,yU=(t,e)=>n=>e(t(n)),Mh=(...t)=>t.reduce(yU),Sh=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class cb{constructor(){this.subscriptions=[]}add(e){return ab(this.subscriptions,e),()=>sb(this.subscriptions,e)}notify(e,n,r){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,n,r);else for(let s=0;s<a;s++){const l=this.subscriptions[s];l&&l(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const No=t=>t*1e3,ss=t=>t/1e3;function qN(t,e){return e?t*(1e3/e):0}const VN=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,bU=1e-7,wU=12;function xU(t,e,n,r,a){let s,l,u=0;do l=e+(n-e)/2,s=VN(l,r,a)-t,s>0?n=l:e=l;while(Math.abs(s)>bU&&++u<wU);return l}function Bh(t,e,n,r){if(t===e&&n===r)return ls;const a=s=>xU(s,0,1,t,n);return s=>s===0||s===1?s:VN(a(s),e,r)}const HN=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,$N=t=>e=>1-t(1-e),GN=Bh(.33,1.53,.69,.99),ub=$N(GN),WN=HN(ub),YN=t=>(t*=2)<1?.5*ub(t):.5*(2-Math.pow(2,-10*(t-1))),db=t=>1-Math.sin(Math.acos(t)),KN=$N(db),XN=HN(db),_U=Bh(.42,0,1,1),SU=Bh(0,0,.58,1),JN=Bh(.42,0,.58,1),AU=t=>Array.isArray(t)&&typeof t[0]!="number",QN=t=>Array.isArray(t)&&typeof t[0]=="number",NU={linear:ls,easeIn:_U,easeInOut:JN,easeOut:SU,circIn:db,circInOut:XN,circOut:KN,backIn:ub,backInOut:WN,backOut:GN,anticipate:YN},EU=t=>typeof t=="string",A4=t=>{if(QN(t)){ob(t.length===4);const[e,n,r,a]=t;return Bh(e,n,r,a)}else if(EU(t))return NU[t];return t},em=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function CU(t,e){let n=new Set,r=new Set,a=!1,s=!1;const l=new WeakSet;let u={delta:0,timestamp:0,isProcessing:!1};function d(p){l.has(p)&&(f.schedule(p),t()),p(u)}const f={schedule:(p,g=!1,y=!1)=>{const N=y&&a?n:r;return g&&l.add(p),N.has(p)||N.add(p),p},cancel:p=>{r.delete(p),l.delete(p)},process:p=>{if(u=p,a){s=!0;return}a=!0,[n,r]=[r,n],n.forEach(d),n.clear(),a=!1,s&&(s=!1,f.process(p))}};return f}const TU=40;function ZN(t,e){let n=!1,r=!0;const a={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,l=em.reduce((M,B)=>(M[B]=CU(s),M),{}),{setup:u,read:d,resolveKeyframes:f,preUpdate:p,update:g,preRender:y,render:v,postRender:N}=l,C=()=>{const M=fl.useManualTiming?a.timestamp:performance.now();n=!1,fl.useManualTiming||(a.delta=r?1e3/60:Math.max(Math.min(M-a.timestamp,TU),1)),a.timestamp=M,a.isProcessing=!0,u.process(a),d.process(a),f.process(a),p.process(a),g.process(a),y.process(a),v.process(a),N.process(a),a.isProcessing=!1,n&&e&&(r=!1,t(C))},T=()=>{n=!0,r=!0,a.isProcessing||t(C)};return{schedule:em.reduce((M,B)=>{const q=l[B];return M[B]=(V,W=!1,R=!1)=>(n||T(),q.schedule(V,W,R)),M},{}),cancel:M=>{for(let B=0;B<em.length;B++)l[em[B]].cancel(M)},state:a,steps:l}}const{schedule:nr,cancel:cc,state:bi,steps:W1}=ZN(typeof requestAnimationFrame<"u"?requestAnimationFrame:ls,!0);let mm;function jU(){mm=void 0}const ua={now:()=>(mm===void 0&&ua.set(bi.isProcessing||fl.useManualTiming?bi.timestamp:performance.now()),mm),set:t=>{mm=t,queueMicrotask(jU)}},eE=t=>e=>typeof e=="string"&&e.startsWith(t),tE=eE("--"),kU=eE("var(--"),fb=t=>kU(t)?LU.test(t.split("/*")[0].trim()):!1,LU=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Jd={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Ah={...Jd,transform:t=>dl(0,1,t)},tm={...Jd,default:1},th=t=>Math.round(t*1e5)/1e5,hb=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function RU(t){return t==null}const OU=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,pb=(t,e)=>n=>!!(typeof n=="string"&&OU.test(n)&&n.startsWith(t)||e&&!RU(n)&&Object.prototype.hasOwnProperty.call(n,e)),nE=(t,e,n)=>r=>{if(typeof r!="string")return r;const[a,s,l,u]=r.match(hb);return{[t]:parseFloat(a),[e]:parseFloat(s),[n]:parseFloat(l),alpha:u!==void 0?parseFloat(u):1}},DU=t=>dl(0,255,t),Y1={...Jd,transform:t=>Math.round(DU(t))},au={test:pb("rgb","red"),parse:nE("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+Y1.transform(t)+", "+Y1.transform(e)+", "+Y1.transform(n)+", "+th(Ah.transform(r))+")"};function PU(t){let e="",n="",r="",a="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),a=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),a=t.substring(4,5),e+=e,n+=n,r+=r,a+=a),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:a?parseInt(a,16)/255:1}}const $v={test:pb("#"),parse:PU,transform:au.transform},Ih=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Zl=Ih("deg"),Eo=Ih("%"),zt=Ih("px"),MU=Ih("vh"),BU=Ih("vw"),N4={...Eo,parse:t=>Eo.parse(t)/100,transform:t=>Eo.transform(t*100)},Ed={test:pb("hsl","hue"),parse:nE("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Eo.transform(th(e))+", "+Eo.transform(th(n))+", "+th(Ah.transform(r))+")"},Ur={test:t=>au.test(t)||$v.test(t)||Ed.test(t),parse:t=>au.test(t)?au.parse(t):Ed.test(t)?Ed.parse(t):$v.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?au.transform(t):Ed.transform(t),getAnimatableNone:t=>{const e=Ur.parse(t);return e.alpha=0,Ur.transform(e)}},IU=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function FU(t){return isNaN(t)&&typeof t=="string"&&(t.match(hb)?.length||0)+(t.match(IU)?.length||0)>0}const rE="number",iE="color",UU="var",zU="var(",E4="${}",qU=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Nh(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},a=[];let s=0;const u=e.replace(qU,d=>(Ur.test(d)?(r.color.push(s),a.push(iE),n.push(Ur.parse(d))):d.startsWith(zU)?(r.var.push(s),a.push(UU),n.push(d)):(r.number.push(s),a.push(rE),n.push(parseFloat(d))),++s,E4)).split(E4);return{values:n,split:u,indexes:r,types:a}}function aE(t){return Nh(t).values}function sE(t){const{split:e,types:n}=Nh(t),r=e.length;return a=>{let s="";for(let l=0;l<r;l++)if(s+=e[l],a[l]!==void 0){const u=n[l];u===rE?s+=th(a[l]):u===iE?s+=Ur.transform(a[l]):s+=a[l]}return s}}const VU=t=>typeof t=="number"?0:Ur.test(t)?Ur.getAnimatableNone(t):t;function HU(t){const e=aE(t);return sE(t)(e.map(VU))}const uc={test:FU,parse:aE,createTransformer:sE,getAnimatableNone:HU};function K1(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function $U({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let a=0,s=0,l=0;if(!e)a=s=l=n;else{const u=n<.5?n*(1+e):n+e-n*e,d=2*n-u;a=K1(d,u,t+1/3),s=K1(d,u,t),l=K1(d,u,t-1/3)}return{red:Math.round(a*255),green:Math.round(s*255),blue:Math.round(l*255),alpha:r}}function Fm(t,e){return n=>n>0?e:t}const dr=(t,e,n)=>t+(e-t)*n,X1=(t,e,n)=>{const r=t*t,a=n*(e*e-r)+r;return a<0?0:Math.sqrt(a)},GU=[$v,au,Ed],WU=t=>GU.find(e=>e.test(t));function C4(t){const e=WU(t);if(!e)return!1;let n=e.parse(t);return e===Ed&&(n=$U(n)),n}const T4=(t,e)=>{const n=C4(t),r=C4(e);if(!n||!r)return Fm(t,e);const a={...n};return s=>(a.red=X1(n.red,r.red,s),a.green=X1(n.green,r.green,s),a.blue=X1(n.blue,r.blue,s),a.alpha=dr(n.alpha,r.alpha,s),au.transform(a))},Gv=new Set(["none","hidden"]);function YU(t,e){return Gv.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function KU(t,e){return n=>dr(t,e,n)}function mb(t){return typeof t=="number"?KU:typeof t=="string"?fb(t)?Fm:Ur.test(t)?T4:QU:Array.isArray(t)?oE:typeof t=="object"?Ur.test(t)?T4:XU:Fm}function oE(t,e){const n=[...t],r=n.length,a=t.map((s,l)=>mb(s)(s,e[l]));return s=>{for(let l=0;l<r;l++)n[l]=a[l](s);return n}}function XU(t,e){const n={...t,...e},r={};for(const a in n)t[a]!==void 0&&e[a]!==void 0&&(r[a]=mb(t[a])(t[a],e[a]));return a=>{for(const s in r)n[s]=r[s](a);return n}}function JU(t,e){const n=[],r={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const s=e.types[a],l=t.indexes[s][r[s]],u=t.values[l]??0;n[a]=u,r[s]++}return n}const QU=(t,e)=>{const n=uc.createTransformer(e),r=Nh(t),a=Nh(e);return r.indexes.var.length===a.indexes.var.length&&r.indexes.color.length===a.indexes.color.length&&r.indexes.number.length>=a.indexes.number.length?Gv.has(t)&&!a.values.length||Gv.has(e)&&!r.values.length?YU(t,e):Mh(oE(JU(r,a),a.values),n):Fm(t,e)};function lE(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?dr(t,e,n):mb(t)(t,e)}const ZU=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>nr.update(e,n),stop:()=>cc(e),now:()=>bi.isProcessing?bi.timestamp:ua.now()}},cE=(t,e,n=10)=>{let r="";const a=Math.max(Math.round(e/n),2);for(let s=0;s<a;s++)r+=Math.round(t(s/(a-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},Um=2e4;function gb(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<Um;)e+=n,r=t.next(e);return e>=Um?1/0:e}function ez(t,e=100,n){const r=n({...t,keyframes:[0,e]}),a=Math.min(gb(r),Um);return{type:"keyframes",ease:s=>r.next(a*s).value/e,duration:ss(a)}}const tz=5;function uE(t,e,n){const r=Math.max(e-tz,0);return qN(n-t(r),e-r)}const Sr={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},J1=.001;function nz({duration:t=Sr.duration,bounce:e=Sr.bounce,velocity:n=Sr.velocity,mass:r=Sr.mass}){let a,s,l=1-e;l=dl(Sr.minDamping,Sr.maxDamping,l),t=dl(Sr.minDuration,Sr.maxDuration,ss(t)),l<1?(a=f=>{const p=f*l,g=p*t,y=p-n,v=Wv(f,l),N=Math.exp(-g);return J1-y/v*N},s=f=>{const g=f*l*t,y=g*n+n,v=Math.pow(l,2)*Math.pow(f,2)*t,N=Math.exp(-g),C=Wv(Math.pow(f,2),l);return(-a(f)+J1>0?-1:1)*((y-v)*N)/C}):(a=f=>{const p=Math.exp(-f*t),g=(f-n)*t+1;return-J1+p*g},s=f=>{const p=Math.exp(-f*t),g=(n-f)*(t*t);return p*g});const u=5/t,d=iz(a,s,u);if(t=No(t),isNaN(d))return{stiffness:Sr.stiffness,damping:Sr.damping,duration:t};{const f=Math.pow(d,2)*r;return{stiffness:f,damping:l*2*Math.sqrt(r*f),duration:t}}}const rz=12;function iz(t,e,n){let r=n;for(let a=1;a<rz;a++)r=r-t(r)/e(r);return r}function Wv(t,e){return t*Math.sqrt(1-e*e)}const az=["duration","bounce"],sz=["stiffness","damping","mass"];function j4(t,e){return e.some(n=>t[n]!==void 0)}function oz(t){let e={velocity:Sr.velocity,stiffness:Sr.stiffness,damping:Sr.damping,mass:Sr.mass,isResolvedFromDuration:!1,...t};if(!j4(t,sz)&&j4(t,az))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),a=r*r,s=2*dl(.05,1,1-(t.bounce||0))*Math.sqrt(a);e={...e,mass:Sr.mass,stiffness:a,damping:s}}else{const n=nz(t);e={...e,...n,mass:Sr.mass},e.isResolvedFromDuration=!0}return e}function zm(t=Sr.visualDuration,e=Sr.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:a}=n;const s=n.keyframes[0],l=n.keyframes[n.keyframes.length-1],u={done:!1,value:s},{stiffness:d,damping:f,mass:p,duration:g,velocity:y,isResolvedFromDuration:v}=oz({...n,velocity:-ss(n.velocity||0)}),N=y||0,C=f/(2*Math.sqrt(d*p)),T=l-s,A=ss(Math.sqrt(d/p)),D=Math.abs(T)<5;r||(r=D?Sr.restSpeed.granular:Sr.restSpeed.default),a||(a=D?Sr.restDelta.granular:Sr.restDelta.default);let M;if(C<1){const q=Wv(A,C);M=V=>{const W=Math.exp(-C*A*V);return l-W*((N+C*A*T)/q*Math.sin(q*V)+T*Math.cos(q*V))}}else if(C===1)M=q=>l-Math.exp(-A*q)*(T+(N+A*T)*q);else{const q=A*Math.sqrt(C*C-1);M=V=>{const W=Math.exp(-C*A*V),R=Math.min(q*V,300);return l-W*((N+C*A*T)*Math.sinh(R)+q*T*Math.cosh(R))/q}}const B={calculatedDuration:v&&g||null,next:q=>{const V=M(q);if(v)u.done=q>=g;else{let W=q===0?N:0;C<1&&(W=q===0?No(N):uE(M,q,V));const R=Math.abs(W)<=r,L=Math.abs(l-V)<=a;u.done=R&&L}return u.value=u.done?l:V,u},toString:()=>{const q=Math.min(gb(B),Um),V=cE(W=>B.next(q*W).value,q,30);return q+"ms "+V},toTransition:()=>{}};return B}zm.applyToOptions=t=>{const e=ez(t,100,zm);return t.ease=e.ease,t.duration=No(e.duration),t.type="keyframes",t};function Yv({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:a=10,bounceStiffness:s=500,modifyTarget:l,min:u,max:d,restDelta:f=.5,restSpeed:p}){const g=t[0],y={done:!1,value:g},v=R=>u!==void 0&&R<u||d!==void 0&&R>d,N=R=>u===void 0?d:d===void 0||Math.abs(u-R)<Math.abs(d-R)?u:d;let C=n*e;const T=g+C,A=l===void 0?T:l(T);A!==T&&(C=A-g);const D=R=>-C*Math.exp(-R/r),M=R=>A+D(R),B=R=>{const L=D(R),$=M(R);y.done=Math.abs(L)<=f,y.value=y.done?A:$};let q,V;const W=R=>{v(y.value)&&(q=R,V=zm({keyframes:[y.value,N(y.value)],velocity:uE(M,R,y.value),damping:a,stiffness:s,restDelta:f,restSpeed:p}))};return W(0),{calculatedDuration:null,next:R=>{let L=!1;return!V&&q===void 0&&(L=!0,B(R),W(R)),q!==void 0&&R>=q?V.next(R-q):(!L&&B(R),y)}}}function lz(t,e,n){const r=[],a=n||fl.mix||lE,s=t.length-1;for(let l=0;l<s;l++){let u=a(t[l],t[l+1]);if(e){const d=Array.isArray(e)?e[l]||ls:e;u=Mh(d,u)}r.push(u)}return r}function cz(t,e,{clamp:n=!0,ease:r,mixer:a}={}){const s=t.length;if(ob(s===e.length),s===1)return()=>e[0];if(s===2&&e[0]===e[1])return()=>e[1];const l=t[0]===t[1];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const u=lz(e,r,a),d=u.length,f=p=>{if(l&&p<t[0])return e[0];let g=0;if(d>1)for(;g<t.length-2&&!(p<t[g+1]);g++);const y=Sh(t[g],t[g+1],p);return u[g](y)};return n?p=>f(dl(t[0],t[s-1],p)):f}function uz(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const a=Sh(0,e,r);t.push(dr(n,1,a))}}function dz(t){const e=[0];return uz(e,t.length-1),e}function fz(t,e){return t.map(n=>n*e)}function hz(t,e){return t.map(()=>e||JN).splice(0,t.length-1)}function nh({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const a=AU(r)?r.map(A4):A4(r),s={done:!1,value:e[0]},l=fz(n&&n.length===e.length?n:dz(e),t),u=cz(l,e,{ease:Array.isArray(a)?a:hz(e,a)});return{calculatedDuration:t,next:d=>(s.value=u(d),s.done=d>=t,s)}}const pz=t=>t!==null;function vb(t,{repeat:e,repeatType:n="loop"},r,a=1){const s=t.filter(pz),u=a<0||e&&n!=="loop"&&e%2===1?0:s.length-1;return!u||r===void 0?s[u]:r}const mz={decay:Yv,inertia:Yv,tween:nh,keyframes:nh,spring:zm};function dE(t){typeof t.type=="string"&&(t.type=mz[t.type])}class yb{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const gz=t=>t/100;class bb extends yb{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==ua.now()&&this.tick(ua.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;dE(e);const{type:n=nh,repeat:r=0,repeatDelay:a=0,repeatType:s,velocity:l=0}=e;let{keyframes:u}=e;const d=n||nh;d!==nh&&typeof u[0]!="number"&&(this.mixKeyframes=Mh(gz,lE(u[0],u[1])),u=[0,100]);const f=d({...e,keyframes:u});s==="mirror"&&(this.mirroredGenerator=d({...e,keyframes:[...u].reverse(),velocity:-l})),f.calculatedDuration===null&&(f.calculatedDuration=gb(f));const{calculatedDuration:p}=f;this.calculatedDuration=p,this.resolvedDuration=p+a,this.totalDuration=this.resolvedDuration*(r+1)-a,this.generator=f}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:a,mixKeyframes:s,mirroredGenerator:l,resolvedDuration:u,calculatedDuration:d}=this;if(this.startTime===null)return r.next(0);const{delay:f=0,keyframes:p,repeat:g,repeatType:y,repeatDelay:v,type:N,onUpdate:C,finalKeyframe:T}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-a/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const A=this.currentTime-f*(this.playbackSpeed>=0?1:-1),D=this.playbackSpeed>=0?A<0:A>a;this.currentTime=Math.max(A,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let M=this.currentTime,B=r;if(g){const R=Math.min(this.currentTime,a)/u;let L=Math.floor(R),$=R%1;!$&&R>=1&&($=1),$===1&&L--,L=Math.min(L,g+1),L%2&&(y==="reverse"?($=1-$,v&&($-=v/u)):y==="mirror"&&(B=l)),M=dl(0,1,$)*u}const q=D?{done:!1,value:p[0]}:B.next(M);s&&(q.value=s(q.value));let{done:V}=q;!D&&d!==null&&(V=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const W=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&V);return W&&N!==Yv&&(q.value=vb(p,this.options,T,this.speed)),C&&C(q.value),W&&this.finish(),q}then(e,n){return this.finished.then(e,n)}get duration(){return ss(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+ss(e)}get time(){return ss(this.currentTime)}set time(e){e=No(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(ua.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=ss(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=ZU,startTime:n}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),this.options.onPlay?.();const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(ua.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function vz(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const su=t=>t*180/Math.PI,Kv=t=>{const e=su(Math.atan2(t[1],t[0]));return Xv(e)},yz={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:Kv,rotateZ:Kv,skewX:t=>su(Math.atan(t[1])),skewY:t=>su(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},Xv=t=>(t=t%360,t<0&&(t+=360),t),k4=Kv,L4=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),R4=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),bz={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:L4,scaleY:R4,scale:t=>(L4(t)+R4(t))/2,rotateX:t=>Xv(su(Math.atan2(t[6],t[5]))),rotateY:t=>Xv(su(Math.atan2(-t[2],t[0]))),rotateZ:k4,rotate:k4,skewX:t=>su(Math.atan(t[4])),skewY:t=>su(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function Jv(t){return t.includes("scale")?1:0}function Qv(t,e){if(!t||t==="none")return Jv(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,a;if(n)r=bz,a=n;else{const u=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=yz,a=u}if(!a)return Jv(e);const s=r[e],l=a[1].split(",").map(xz);return typeof s=="function"?s(l):l[s]}const wz=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return Qv(n,e)};function xz(t){return parseFloat(t.trim())}const Qd=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Zd=new Set(Qd),O4=t=>t===Jd||t===zt,_z=new Set(["x","y","z"]),Sz=Qd.filter(t=>!_z.has(t));function Az(t){const e=[];return Sz.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const cu={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>Qv(e,"x"),y:(t,{transform:e})=>Qv(e,"y")};cu.translateX=cu.x;cu.translateY=cu.y;const uu=new Set;let Zv=!1,ey=!1,ty=!1;function fE(){if(ey){const t=Array.from(uu).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const a=Az(r);a.length&&(n.set(r,a),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const a=n.get(r);a&&a.forEach(([s,l])=>{r.getValue(s)?.set(l)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}ey=!1,Zv=!1,uu.forEach(t=>t.complete(ty)),uu.clear()}function hE(){uu.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(ey=!0)})}function Nz(){ty=!0,hE(),fE(),ty=!1}class wb{constructor(e,n,r,a,s,l=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=a,this.element=s,this.isAsync=l}scheduleResolve(){this.state="scheduled",this.isAsync?(uu.add(this),Zv||(Zv=!0,nr.read(hE),nr.resolveKeyframes(fE))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:a}=this;if(e[0]===null){const s=a?.get(),l=e[e.length-1];if(s!==void 0)e[0]=s;else if(r&&n){const u=r.readValue(n,l);u!=null&&(e[0]=u)}e[0]===void 0&&(e[0]=l),a&&s===void 0&&a.set(e[0])}vz(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),uu.delete(this)}cancel(){this.state==="scheduled"&&(uu.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const Ez=t=>t.startsWith("--");function Cz(t,e,n){Ez(e)?t.style.setProperty(e,n):t.style[e]=n}const Tz=lb(()=>window.ScrollTimeline!==void 0),jz={};function kz(t,e){const n=lb(t);return()=>jz[e]??n()}const pE=kz(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Yf=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,D4={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Yf([0,.65,.55,1]),circOut:Yf([.55,0,1,.45]),backIn:Yf([.31,.01,.66,-.59]),backOut:Yf([.33,1.53,.69,.99])};function mE(t,e){if(t)return typeof t=="function"?pE()?cE(t,e):"ease-out":QN(t)?Yf(t):Array.isArray(t)?t.map(n=>mE(n,e)||D4.easeOut):D4[t]}function Lz(t,e,n,{delay:r=0,duration:a=300,repeat:s=0,repeatType:l="loop",ease:u="easeOut",times:d}={},f=void 0){const p={[e]:n};d&&(p.offset=d);const g=mE(u,a);Array.isArray(g)&&(p.easing=g);const y={delay:r,duration:a,easing:Array.isArray(g)?"linear":g,fill:"both",iterations:s+1,direction:l==="reverse"?"alternate":"normal"};return f&&(y.pseudoElement=f),t.animate(p,y)}function gE(t){return typeof t=="function"&&"applyToOptions"in t}function Rz({type:t,...e}){return gE(t)&&pE()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class Oz extends yb{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:r,keyframes:a,pseudoElement:s,allowFlatten:l=!1,finalKeyframe:u,onComplete:d}=e;this.isPseudoElement=!!s,this.allowFlatten=l,this.options=e,ob(typeof e.type!="string");const f=Rz(e);this.animation=Lz(n,r,a,f,s),f.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!s){const p=vb(a,this.options,u,this.speed);this.updateMotionValue?this.updateMotionValue(p):Cz(n,r,p),this.animation.cancel()}d?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return ss(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+ss(e)}get time(){return ss(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=No(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&Tz()?(this.animation.timeline=e,ls):n(this)}}const vE={anticipate:YN,backInOut:WN,circInOut:XN};function Dz(t){return t in vE}function Pz(t){typeof t.ease=="string"&&Dz(t.ease)&&(t.ease=vE[t.ease])}const P4=10;class Mz extends Oz{constructor(e){Pz(e),dE(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:a,element:s,...l}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const u=new bb({...l,autoplay:!1}),d=No(this.finishedTime??this.time);n.setWithVelocity(u.sample(d-P4).value,u.sample(d).value,P4),u.stop()}}const M4=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(uc.test(t)||t==="0")&&!t.startsWith("url("));function Bz(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function Iz(t,e,n,r){const a=t[0];if(a===null)return!1;if(e==="display"||e==="visibility")return!0;const s=t[t.length-1],l=M4(a,e),u=M4(s,e);return!l||!u?!1:Bz(t)||(n==="spring"||gE(n))&&r}function ny(t){t.duration=0,t.type="keyframes"}const Fz=new Set(["opacity","clipPath","filter","transform"]),Uz=lb(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function zz(t){const{motionValue:e,name:n,repeatDelay:r,repeatType:a,damping:s,type:l}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:d,transformTemplate:f}=e.owner.getProps();return Uz()&&n&&Fz.has(n)&&(n!=="transform"||!f)&&!d&&!r&&a!=="mirror"&&s!==0&&l!=="inertia"}const qz=40;class Vz extends yb{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:a=0,repeatDelay:s=0,repeatType:l="loop",keyframes:u,name:d,motionValue:f,element:p,...g}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=ua.now();const y={autoplay:e,delay:n,type:r,repeat:a,repeatDelay:s,repeatType:l,name:d,motionValue:f,element:p,...g},v=p?.KeyframeResolver||wb;this.keyframeResolver=new v(u,(N,C,T)=>this.onKeyframesResolved(N,C,y,!T),d,f,p),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,n,r,a){this.keyframeResolver=void 0;const{name:s,type:l,velocity:u,delay:d,isHandoff:f,onUpdate:p}=r;this.resolvedAt=ua.now(),Iz(e,s,l,u)||((fl.instantAnimations||!d)&&p?.(vb(e,r,n)),e[0]=e[e.length-1],ny(r),r.repeat=0);const y={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>qz?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},v=!f&&zz(y)?new Mz({...y,element:y.motionValue.owner.current}):new bb(y);v.finished.then(()=>this.notifyFinished()).catch(ls),this.pendingTimeline&&(this.stopTimeline=v.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=v}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),Nz()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const Hz=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function $z(t){const e=Hz.exec(t);if(!e)return[,];const[,n,r,a]=e;return[`--${n??r}`,a]}function yE(t,e,n=1){const[r,a]=$z(t);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);if(s){const l=s.trim();return FN(l)?parseFloat(l):l}return fb(a)?yE(a,e,n+1):a}function xb(t,e){return t?.[e]??t?.default??t}const bE=new Set(["width","height","top","left","right","bottom",...Qd]),Gz={test:t=>t==="auto",parse:t=>t},wE=t=>e=>e.test(t),xE=[Jd,zt,Eo,Zl,BU,MU,Gz],B4=t=>xE.find(wE(t));function Wz(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||zN(t):!0}const Yz=new Set(["brightness","contrast","saturate","opacity"]);function Kz(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(hb)||[];if(!r)return t;const a=n.replace(r,"");let s=Yz.has(e)?1:0;return r!==n&&(s*=100),e+"("+s+a+")"}const Xz=/\b([a-z-]*)\(.*?\)/gu,ry={...uc,getAnimatableNone:t=>{const e=t.match(Xz);return e?e.map(Kz).join(" "):t}},I4={...Jd,transform:Math.round},Jz={rotate:Zl,rotateX:Zl,rotateY:Zl,rotateZ:Zl,scale:tm,scaleX:tm,scaleY:tm,scaleZ:tm,skew:Zl,skewX:Zl,skewY:Zl,distance:zt,translateX:zt,translateY:zt,translateZ:zt,x:zt,y:zt,z:zt,perspective:zt,transformPerspective:zt,opacity:Ah,originX:N4,originY:N4,originZ:zt},_b={borderWidth:zt,borderTopWidth:zt,borderRightWidth:zt,borderBottomWidth:zt,borderLeftWidth:zt,borderRadius:zt,radius:zt,borderTopLeftRadius:zt,borderTopRightRadius:zt,borderBottomRightRadius:zt,borderBottomLeftRadius:zt,width:zt,maxWidth:zt,height:zt,maxHeight:zt,top:zt,right:zt,bottom:zt,left:zt,padding:zt,paddingTop:zt,paddingRight:zt,paddingBottom:zt,paddingLeft:zt,margin:zt,marginTop:zt,marginRight:zt,marginBottom:zt,marginLeft:zt,backgroundPositionX:zt,backgroundPositionY:zt,...Jz,zIndex:I4,fillOpacity:Ah,strokeOpacity:Ah,numOctaves:I4},Qz={..._b,color:Ur,backgroundColor:Ur,outlineColor:Ur,fill:Ur,stroke:Ur,borderColor:Ur,borderTopColor:Ur,borderRightColor:Ur,borderBottomColor:Ur,borderLeftColor:Ur,filter:ry,WebkitFilter:ry},_E=t=>Qz[t];function SE(t,e){let n=_E(t);return n!==ry&&(n=uc),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const Zz=new Set(["auto","none","0"]);function eq(t,e,n){let r=0,a;for(;r<t.length&&!a;){const s=t[r];typeof s=="string"&&!Zz.has(s)&&Nh(s).values.length&&(a=t[r]),r++}if(a&&n)for(const s of e)t[s]=SE(n,a)}class tq extends wb{constructor(e,n,r,a,s){super(e,n,r,a,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let d=0;d<e.length;d++){let f=e[d];if(typeof f=="string"&&(f=f.trim(),fb(f))){const p=yE(f,n.current);p!==void 0&&(e[d]=p),d===e.length-1&&(this.finalKeyframe=f)}}if(this.resolveNoneKeyframes(),!bE.has(r)||e.length!==2)return;const[a,s]=e,l=B4(a),u=B4(s);if(l!==u)if(O4(l)&&O4(u))for(let d=0;d<e.length;d++){const f=e[d];typeof f=="string"&&(e[d]=parseFloat(f))}else cu[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let a=0;a<e.length;a++)(e[a]===null||Wz(e[a]))&&r.push(a);r.length&&eq(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=cu[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const a=n[n.length-1];a!==void 0&&e.getValue(r,a).jump(a,!1)}measureEndState(){const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const a=e.getValue(n);a&&a.jump(this.measuredOrigin,!1);const s=r.length-1,l=r[s];r[s]=cu[n](e.measureViewportBox(),window.getComputedStyle(e.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),this.removedTransforms?.length&&this.removedTransforms.forEach(([u,d])=>{e.getValue(u).set(d)}),this.resolveNoneKeyframes()}}function nq(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let r=document;const a=n?.[t]??r.querySelectorAll(t);return a?Array.from(a):[]}return Array.from(t)}const AE=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function NE(t){return UN(t)&&"offsetHeight"in t}const F4=30,rq=t=>!isNaN(parseFloat(t));class iq{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{const a=ua.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const s of this.dependents)s.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=ua.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=rq(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new cb);const r=this.events[e].add(n);return e==="change"?()=>{r(),nr.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=ua.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>F4)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,F4);return qN(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function qd(t,e){return new iq(t,e)}const{schedule:Sb}=ZN(queueMicrotask,!1),Vs={x:!1,y:!1};function EE(){return Vs.x||Vs.y}function aq(t){return t==="x"||t==="y"?Vs[t]?null:(Vs[t]=!0,()=>{Vs[t]=!1}):Vs.x||Vs.y?null:(Vs.x=Vs.y=!0,()=>{Vs.x=Vs.y=!1})}function CE(t,e){const n=nq(t),r=new AbortController,a={passive:!0,...e,signal:r.signal};return[n,a,()=>r.abort()]}function U4(t){return!(t.pointerType==="touch"||EE())}function sq(t,e,n={}){const[r,a,s]=CE(t,n),l=u=>{if(!U4(u))return;const{target:d}=u,f=e(d,u);if(typeof f!="function"||!d)return;const p=g=>{U4(g)&&(f(g),d.removeEventListener("pointerleave",p))};d.addEventListener("pointerleave",p,a)};return r.forEach(u=>{u.addEventListener("pointerenter",l,a)}),s}const TE=(t,e)=>e?t===e?!0:TE(t,e.parentElement):!1,Ab=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,oq=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function lq(t){return oq.has(t.tagName)||t.tabIndex!==-1}const gm=new WeakSet;function z4(t){return e=>{e.key==="Enter"&&t(e)}}function Q1(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const cq=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=z4(()=>{if(gm.has(n))return;Q1(n,"down");const a=z4(()=>{Q1(n,"up")}),s=()=>Q1(n,"cancel");n.addEventListener("keyup",a,e),n.addEventListener("blur",s,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function q4(t){return Ab(t)&&!EE()}function uq(t,e,n={}){const[r,a,s]=CE(t,n),l=u=>{const d=u.currentTarget;if(!q4(u))return;gm.add(d);const f=e(d,u),p=(v,N)=>{window.removeEventListener("pointerup",g),window.removeEventListener("pointercancel",y),gm.has(d)&&gm.delete(d),q4(v)&&typeof f=="function"&&f(v,{success:N})},g=v=>{p(v,d===window||d===document||n.useGlobalTarget||TE(d,v.target))},y=v=>{p(v,!1)};window.addEventListener("pointerup",g,a),window.addEventListener("pointercancel",y,a)};return r.forEach(u=>{(n.useGlobalTarget?window:u).addEventListener("pointerdown",l,a),NE(u)&&(u.addEventListener("focus",f=>cq(f,a)),!lq(u)&&!u.hasAttribute("tabindex")&&(u.tabIndex=0))}),s}function jE(t){return UN(t)&&"ownerSVGElement"in t}function dq(t){return jE(t)&&t.tagName==="svg"}const ji=t=>!!(t&&t.getVelocity),fq=[...xE,Ur,uc],hq=t=>fq.find(wE(t)),Nb=X.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function V4(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function pq(...t){return e=>{let n=!1;const r=t.map(a=>{const s=V4(a,e);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let a=0;a<r.length;a++){const s=r[a];typeof s=="function"?s():V4(t[a],null)}}}}function mq(...t){return X.useCallback(pq(...t),t)}class gq extends X.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=n.offsetParent,a=NE(r)&&r.offsetWidth||0,s=this.props.sizeRef.current;s.height=n.offsetHeight||0,s.width=n.offsetWidth||0,s.top=n.offsetTop,s.left=n.offsetLeft,s.right=a-s.width-s.left}return null}componentDidUpdate(){}render(){return this.props.children}}function vq({children:t,isPresent:e,anchorX:n,root:r}){const a=X.useId(),s=X.useRef(null),l=X.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:u}=X.useContext(Nb),d=mq(s,t?.ref);return X.useInsertionEffect(()=>{const{width:f,height:p,top:g,left:y,right:v}=l.current;if(e||!s.current||!f||!p)return;const N=n==="left"?`left: ${y}`:`right: ${v}`;s.current.dataset.motionPopId=a;const C=document.createElement("style");u&&(C.nonce=u);const T=r??document.head;return T.appendChild(C),C.sheet&&C.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${f}px !important;
            height: ${p}px !important;
            ${N}px !important;
            top: ${g}px !important;
          }
        `),()=>{T.contains(C)&&T.removeChild(C)}},[e]),w.jsx(gq,{isPresent:e,childRef:s,sizeRef:l,children:X.cloneElement(t,{ref:d})})}const yq=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:a,presenceAffectsLayout:s,mode:l,anchorX:u,root:d})=>{const f=rb(bq),p=X.useId();let g=!0,y=X.useMemo(()=>(g=!1,{id:p,initial:e,isPresent:n,custom:a,onExitComplete:v=>{f.set(v,!0);for(const N of f.values())if(!N)return;r&&r()},register:v=>(f.set(v,!1),()=>f.delete(v))}),[n,f,r]);return s&&g&&(y={...y}),X.useMemo(()=>{f.forEach((v,N)=>f.set(N,!1))},[n]),X.useEffect(()=>{!n&&!f.size&&r&&r()},[n]),l==="popLayout"&&(t=w.jsx(vq,{isPresent:n,anchorX:u,root:d,children:t})),w.jsx(c0.Provider,{value:y,children:t})};function bq(){return new Map}function kE(t=!0){const e=X.useContext(c0);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:a}=e,s=X.useId();X.useEffect(()=>{if(t)return a(s)},[t]);const l=X.useCallback(()=>t&&r&&r(s),[s,r,t]);return!n&&r?[!1,l]:[!0]}const nm=t=>t.key||"";function H4(t){const e=[];return X.Children.forEach(t,n=>{X.isValidElement(n)&&e.push(n)}),e}const wq=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:a=!0,mode:s="sync",propagate:l=!1,anchorX:u="left",root:d})=>{const[f,p]=kE(l),g=X.useMemo(()=>H4(t),[t]),y=l&&!f?[]:g.map(nm),v=X.useRef(!0),N=X.useRef(g),C=rb(()=>new Map),[T,A]=X.useState(g),[D,M]=X.useState(g);IN(()=>{v.current=!1,N.current=g;for(let V=0;V<D.length;V++){const W=nm(D[V]);y.includes(W)?C.delete(W):C.get(W)!==!0&&C.set(W,!1)}},[D,y.length,y.join("-")]);const B=[];if(g!==T){let V=[...g];for(let W=0;W<D.length;W++){const R=D[W],L=nm(R);y.includes(L)||(V.splice(W,0,R),B.push(R))}return s==="wait"&&B.length&&(V=B),M(H4(V)),A(g),null}const{forceRender:q}=X.useContext(nb);return w.jsx(w.Fragment,{children:D.map(V=>{const W=nm(V),R=l&&!f?!1:g===D||y.includes(W),L=()=>{if(C.has(W))C.set(W,!0);else return;let $=!0;C.forEach(k=>{k||($=!1)}),$&&(q?.(),M(N.current),l&&p?.(),r&&r())};return w.jsx(yq,{isPresent:R,initial:!v.current||n?void 0:!1,custom:e,presenceAffectsLayout:a,mode:s,root:d,onExitComplete:R?void 0:L,anchorX:u,children:V},W)})})},LE=X.createContext({strict:!1}),$4={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Vd={};for(const t in $4)Vd[t]={isEnabled:e=>$4[t].some(n=>!!e[n])};function xq(t){for(const e in t)Vd[e]={...Vd[e],...t[e]}}const _q=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function qm(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||_q.has(t)}let RE=t=>!qm(t);function Sq(t){typeof t=="function"&&(RE=e=>e.startsWith("on")?!qm(e):t(e))}try{Sq(require("@emotion/is-prop-valid").default)}catch{}function Aq(t,e,n){const r={};for(const a in t)a==="values"&&typeof t.values=="object"||(RE(a)||n===!0&&qm(a)||!e&&!qm(a)||t.draggable&&a.startsWith("onDrag"))&&(r[a]=t[a]);return r}const u0=X.createContext({});function d0(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Eh(t){return typeof t=="string"||Array.isArray(t)}const Eb=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Cb=["initial",...Eb];function f0(t){return d0(t.animate)||Cb.some(e=>Eh(t[e]))}function OE(t){return!!(f0(t)||t.variants)}function Nq(t,e){if(f0(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Eh(n)?n:void 0,animate:Eh(r)?r:void 0}}return t.inherit!==!1?e:{}}function Eq(t){const{initial:e,animate:n}=Nq(t,X.useContext(u0));return X.useMemo(()=>({initial:e,animate:n}),[G4(e),G4(n)])}function G4(t){return Array.isArray(t)?t.join(" "):t}function W4(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const $f={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(zt.test(t))t=parseFloat(t);else return t;const n=W4(t,e.target.x),r=W4(t,e.target.y);return`${n}% ${r}%`}},Cq={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,a=uc.parse(t);if(a.length>5)return r;const s=uc.createTransformer(t),l=typeof a[0]!="number"?1:0,u=n.x.scale*e.x,d=n.y.scale*e.y;a[0+l]/=u,a[1+l]/=d;const f=dr(u,d,.5);return typeof a[2+l]=="number"&&(a[2+l]/=f),typeof a[3+l]=="number"&&(a[3+l]/=f),s(a)}},iy={borderRadius:{...$f,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:$f,borderTopRightRadius:$f,borderBottomLeftRadius:$f,borderBottomRightRadius:$f,boxShadow:Cq};function DE(t,{layout:e,layoutId:n}){return Zd.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!iy[t]||t==="opacity")}const Tq={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},jq=Qd.length;function kq(t,e,n){let r="",a=!0;for(let s=0;s<jq;s++){const l=Qd[s],u=t[l];if(u===void 0)continue;let d=!0;if(typeof u=="number"?d=u===(l.startsWith("scale")?1:0):d=parseFloat(u)===0,!d||n){const f=AE(u,_b[l]);if(!d){a=!1;const p=Tq[l]||l;r+=`${p}(${f}) `}n&&(e[l]=f)}}return r=r.trim(),n?r=n(e,a?"":r):a&&(r="none"),r}function Tb(t,e,n){const{style:r,vars:a,transformOrigin:s}=t;let l=!1,u=!1;for(const d in e){const f=e[d];if(Zd.has(d)){l=!0;continue}else if(tE(d)){a[d]=f;continue}else{const p=AE(f,_b[d]);d.startsWith("origin")?(u=!0,s[d]=p):r[d]=p}}if(e.transform||(l||n?r.transform=kq(e,t.transform,n):r.transform&&(r.transform="none")),u){const{originX:d="50%",originY:f="50%",originZ:p=0}=s;r.transformOrigin=`${d} ${f} ${p}`}}const jb=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function PE(t,e,n){for(const r in e)!ji(e[r])&&!DE(r,n)&&(t[r]=e[r])}function Lq({transformTemplate:t},e){return X.useMemo(()=>{const n=jb();return Tb(n,e,t),Object.assign({},n.vars,n.style)},[e])}function Rq(t,e){const n=t.style||{},r={};return PE(r,n,t),Object.assign(r,Lq(t,e)),r}function Oq(t,e){const n={},r=Rq(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const Dq={offset:"stroke-dashoffset",array:"stroke-dasharray"},Pq={offset:"strokeDashoffset",array:"strokeDasharray"};function Mq(t,e,n=1,r=0,a=!0){t.pathLength=1;const s=a?Dq:Pq;t[s.offset]=zt.transform(-r);const l=zt.transform(e),u=zt.transform(n);t[s.array]=`${l} ${u}`}function ME(t,{attrX:e,attrY:n,attrScale:r,pathLength:a,pathSpacing:s=1,pathOffset:l=0,...u},d,f,p){if(Tb(t,u,f),d){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:g,style:y}=t;g.transform&&(y.transform=g.transform,delete g.transform),(y.transform||g.transformOrigin)&&(y.transformOrigin=g.transformOrigin??"50% 50%",delete g.transformOrigin),y.transform&&(y.transformBox=p?.transformBox??"fill-box",delete g.transformBox),e!==void 0&&(g.x=e),n!==void 0&&(g.y=n),r!==void 0&&(g.scale=r),a!==void 0&&Mq(g,a,s,l,!1)}const BE=()=>({...jb(),attrs:{}}),IE=t=>typeof t=="string"&&t.toLowerCase()==="svg";function Bq(t,e,n,r){const a=X.useMemo(()=>{const s=BE();return ME(s,e,IE(r),t.transformTemplate,t.style),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};PE(s,t.style,t),a.style={...s,...a.style}}return a}const Iq=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function kb(t){return typeof t!="string"||t.includes("-")?!1:!!(Iq.indexOf(t)>-1||/[A-Z]/u.test(t))}function Fq(t,e,n,{latestValues:r},a,s=!1){const u=(kb(t)?Bq:Oq)(e,r,a,t),d=Aq(e,typeof t=="string",s),f=t!==X.Fragment?{...d,...u,ref:n}:{},{children:p}=e,g=X.useMemo(()=>ji(p)?p.get():p,[p]);return X.createElement(t,{...f,children:g})}function Y4(t){const e=[{},{}];return t?.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function Lb(t,e,n,r){if(typeof e=="function"){const[a,s]=Y4(r);e=e(n!==void 0?n:t.custom,a,s)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[a,s]=Y4(r);e=e(n!==void 0?n:t.custom,a,s)}return e}function vm(t){return ji(t)?t.get():t}function Uq({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,a){return{latestValues:zq(n,r,a,t),renderState:e()}}function zq(t,e,n,r){const a={},s=r(t,{});for(const y in s)a[y]=vm(s[y]);let{initial:l,animate:u}=t;const d=f0(t),f=OE(t);e&&f&&!d&&t.inherit!==!1&&(l===void 0&&(l=e.initial),u===void 0&&(u=e.animate));let p=n?n.initial===!1:!1;p=p||l===!1;const g=p?u:l;if(g&&typeof g!="boolean"&&!d0(g)){const y=Array.isArray(g)?g:[g];for(let v=0;v<y.length;v++){const N=Lb(t,y[v]);if(N){const{transitionEnd:C,transition:T,...A}=N;for(const D in A){let M=A[D];if(Array.isArray(M)){const B=p?M.length-1:0;M=M[B]}M!==null&&(a[D]=M)}for(const D in C)a[D]=C[D]}}}return a}const FE=t=>(e,n)=>{const r=X.useContext(u0),a=X.useContext(c0),s=()=>Uq(t,e,r,a);return n?s():rb(s)};function Rb(t,e,n){const{style:r}=t,a={};for(const s in r)(ji(r[s])||e.style&&ji(e.style[s])||DE(s,t)||n?.getValue(s)?.liveStyle!==void 0)&&(a[s]=r[s]);return a}const qq=FE({scrapeMotionValuesFromProps:Rb,createRenderState:jb});function UE(t,e,n){const r=Rb(t,e,n);for(const a in t)if(ji(t[a])||ji(e[a])){const s=Qd.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;r[s]=t[a]}return r}const Vq=FE({scrapeMotionValuesFromProps:UE,createRenderState:BE}),Hq=Symbol.for("motionComponentSymbol");function Cd(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function $q(t,e,n){return X.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):Cd(n)&&(n.current=r))},[e])}const Ob=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Gq="framerAppearId",zE="data-"+Ob(Gq),qE=X.createContext({});function Wq(t,e,n,r,a){const{visualElement:s}=X.useContext(u0),l=X.useContext(LE),u=X.useContext(c0),d=X.useContext(Nb).reducedMotion,f=X.useRef(null);r=r||l.renderer,!f.current&&r&&(f.current=r(t,{visualState:e,parent:s,props:n,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:d}));const p=f.current,g=X.useContext(qE);p&&!p.projection&&a&&(p.type==="html"||p.type==="svg")&&Yq(f.current,n,a,g);const y=X.useRef(!1);X.useInsertionEffect(()=>{p&&y.current&&p.update(n,u)});const v=n[zE],N=X.useRef(!!v&&!window.MotionHandoffIsComplete?.(v)&&window.MotionHasOptimisedAnimation?.(v));return IN(()=>{p&&(y.current=!0,window.MotionIsMounted=!0,p.updateFeatures(),p.scheduleRenderMicrotask(),N.current&&p.animationState&&p.animationState.animateChanges())}),X.useEffect(()=>{p&&(!N.current&&p.animationState&&p.animationState.animateChanges(),N.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(v)}),N.current=!1),p.enteringChildren=void 0)}),p}function Yq(t,e,n,r){const{layoutId:a,layout:s,drag:l,dragConstraints:u,layoutScroll:d,layoutRoot:f,layoutCrossfade:p}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:VE(t.parent)),t.projection.setOptions({layoutId:a,layout:s,alwaysMeasureLayout:!!l||u&&Cd(u),visualElement:t,animationType:typeof s=="string"?s:"both",initialPromotionConfig:r,crossfade:p,layoutScroll:d,layoutRoot:f})}function VE(t){if(t)return t.options.allowProjection!==!1?t.projection:VE(t.parent)}function Z1(t,{forwardMotionProps:e=!1}={},n,r){n&&xq(n);const a=kb(t)?Vq:qq;function s(u,d){let f;const p={...X.useContext(Nb),...u,layoutId:Kq(u)},{isStatic:g}=p,y=Eq(u),v=a(u,g);if(!g&&ib){Xq();const N=Jq(p);f=N.MeasureLayout,y.visualElement=Wq(t,v,p,r,N.ProjectionNode)}return w.jsxs(u0.Provider,{value:y,children:[f&&y.visualElement?w.jsx(f,{visualElement:y.visualElement,...p}):null,Fq(t,u,$q(v,y.visualElement,d),v,g,e)]})}s.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const l=X.forwardRef(s);return l[Hq]=t,l}function Kq({layoutId:t}){const e=X.useContext(nb).id;return e&&t!==void 0?e+"-"+t:t}function Xq(t,e){X.useContext(LE).strict}function Jq(t){const{drag:e,layout:n}=Vd;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e?.isEnabled(t)||n?.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function Qq(t,e){if(typeof Proxy>"u")return Z1;const n=new Map,r=(s,l)=>Z1(s,l,t,e),a=(s,l)=>r(s,l);return new Proxy(a,{get:(s,l)=>l==="create"?r:(n.has(l)||n.set(l,Z1(l,void 0,t,e)),n.get(l))})}function HE({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function Zq({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function eV(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function ev(t){return t===void 0||t===1}function ay({scale:t,scaleX:e,scaleY:n}){return!ev(t)||!ev(e)||!ev(n)}function eu(t){return ay(t)||$E(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function $E(t){return K4(t.x)||K4(t.y)}function K4(t){return t&&t!=="0%"}function Vm(t,e,n){const r=t-n,a=e*r;return n+a}function X4(t,e,n,r,a){return a!==void 0&&(t=Vm(t,a,r)),Vm(t,n,r)+e}function sy(t,e=0,n=1,r,a){t.min=X4(t.min,e,n,r,a),t.max=X4(t.max,e,n,r,a)}function GE(t,{x:e,y:n}){sy(t.x,e.translate,e.scale,e.originPoint),sy(t.y,n.translate,n.scale,n.originPoint)}const J4=.999999999999,Q4=1.0000000000001;function tV(t,e,n,r=!1){const a=n.length;if(!a)return;e.x=e.y=1;let s,l;for(let u=0;u<a;u++){s=n[u],l=s.projectionDelta;const{visualElement:d}=s.options;d&&d.props.style&&d.props.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&jd(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),l&&(e.x*=l.x.scale,e.y*=l.y.scale,GE(t,l)),r&&eu(s.latestValues)&&jd(t,s.latestValues))}e.x<Q4&&e.x>J4&&(e.x=1),e.y<Q4&&e.y>J4&&(e.y=1)}function Td(t,e){t.min=t.min+e,t.max=t.max+e}function Z4(t,e,n,r,a=.5){const s=dr(t.min,t.max,a);sy(t,e,n,s,r)}function jd(t,e){Z4(t.x,e.x,e.scaleX,e.scale,e.originX),Z4(t.y,e.y,e.scaleY,e.scale,e.originY)}function WE(t,e){return HE(eV(t.getBoundingClientRect(),e))}function nV(t,e,n){const r=WE(t,n),{scroll:a}=e;return a&&(Td(r.x,a.offset.x),Td(r.y,a.offset.y)),r}const eS=()=>({translate:0,scale:1,origin:0,originPoint:0}),kd=()=>({x:eS(),y:eS()}),tS=()=>({min:0,max:0}),Jr=()=>({x:tS(),y:tS()}),oy={current:null},YE={current:!1};function rV(){if(YE.current=!0,!!ib)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>oy.current=t.matches;t.addEventListener("change",e),e()}else oy.current=!1}const iV=new WeakMap;function aV(t,e,n){for(const r in e){const a=e[r],s=n[r];if(ji(a))t.addValue(r,a);else if(ji(s))t.addValue(r,qd(a,{owner:t}));else if(s!==a)if(t.hasValue(r)){const l=t.getValue(r);l.liveStyle===!0?l.jump(a):l.hasAnimated||l.set(a)}else{const l=t.getStaticValue(r);t.addValue(r,qd(l!==void 0?l:a,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const nS=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class sV{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:a,blockInitialAnimation:s,visualState:l},u={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=wb,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const y=ua.now();this.renderScheduledAt<y&&(this.renderScheduledAt=y,nr.render(this.render,!1,!0))};const{latestValues:d,renderState:f}=l;this.latestValues=d,this.baseTarget={...d},this.initialValues=n.initial?{...d}:{},this.renderState=f,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.options=u,this.blockInitialAnimation=!!s,this.isControllingVariants=f0(n),this.isVariantNode=OE(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:p,...g}=this.scrapeMotionValuesFromProps(n,{},this);for(const y in g){const v=g[y];d[y]!==void 0&&ji(v)&&v.set(d[y])}}mount(e){this.current=e,iV.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),YE.current||rV(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:oy.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),cc(this.notifyUpdate),cc(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Zd.has(e);r&&this.onBindTransform&&this.onBindTransform();const a=n.on("change",l=>{this.latestValues[e]=l,this.props.onUpdate&&nr.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let s;window.MotionCheckAppearSync&&(s=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{a(),s&&s(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Vd){const n=Vd[e];if(!n)continue;const{isEnabled:r,Feature:a}=n;if(!this.features[e]&&a&&r(this.props)&&(this.features[e]=new a(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Jr()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<nS.length;r++){const a=nS[r];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const s="on"+a,l=e[s];l&&(this.propEventSubscriptions[a]=this.on(a,l))}this.prevMotionValues=aV(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=qd(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(FN(r)||zN(r))?r=parseFloat(r):!hq(r)&&uc.test(n)&&(r=SE(e,n)),this.setBaseTarget(e,ji(r)?r.get():r)),ji(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const s=Lb(this.props,n,this.presenceContext?.custom);s&&(r=s[e])}if(n&&r!==void 0)return r;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!ji(a)?a:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new cb),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){Sb.render(this.render)}}class KE extends sV{constructor(){super(...arguments),this.KeyframeResolver=tq}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;ji(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function XE(t,{style:e,vars:n},r,a){const s=t.style;let l;for(l in e)s[l]=e[l];a?.applyProjectionStyles(s,r);for(l in n)s.setProperty(l,n[l])}function oV(t){return window.getComputedStyle(t)}class lV extends KE{constructor(){super(...arguments),this.type="html",this.renderInstance=XE}readValueFromInstance(e,n){if(Zd.has(n))return this.projection?.isProjecting?Jv(n):wz(e,n);{const r=oV(e),a=(tE(n)?r.getPropertyValue(n):r[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:n}){return WE(e,n)}build(e,n,r){Tb(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return Rb(e,n,r)}}const JE=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function cV(t,e,n,r){XE(t,e,void 0,r);for(const a in e.attrs)t.setAttribute(JE.has(a)?a:Ob(a),e.attrs[a])}class uV extends KE{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Jr}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Zd.has(n)){const r=_E(n);return r&&r.default||0}return n=JE.has(n)?n:Ob(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return UE(e,n,r)}build(e,n,r){ME(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,a){cV(e,n,r,a)}mount(e){this.isSVGTag=IE(e.tagName),super.mount(e)}}const dV=(t,e)=>kb(t)?new uV(e):new lV(e,{allowProjection:t!==X.Fragment});function Bd(t,e,n){const r=t.getProps();return Lb(r,e,n!==void 0?n:r.custom,t)}const ly=t=>Array.isArray(t);function fV(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,qd(n))}function hV(t){return ly(t)?t[t.length-1]||0:t}function pV(t,e){const n=Bd(t,e);let{transitionEnd:r={},transition:a={},...s}=n||{};s={...s,...r};for(const l in s){const u=hV(s[l]);fV(t,l,u)}}function mV(t){return!!(ji(t)&&t.add)}function cy(t,e){const n=t.getValue("willChange");if(mV(n))return n.add(e);if(!n&&fl.WillChange){const r=new fl.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function QE(t){return t.props[zE]}const gV=t=>t!==null;function vV(t,{repeat:e,repeatType:n="loop"},r){const a=t.filter(gV),s=e&&n!=="loop"&&e%2===1?0:a.length-1;return a[s]}const yV={type:"spring",stiffness:500,damping:25,restSpeed:10},bV=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),wV={type:"keyframes",duration:.8},xV={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},_V=(t,{keyframes:e})=>e.length>2?wV:Zd.has(t)?t.startsWith("scale")?bV(e[1]):yV:xV;function SV({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:a,repeat:s,repeatType:l,repeatDelay:u,from:d,elapsed:f,...p}){return!!Object.keys(p).length}const Db=(t,e,n,r={},a,s)=>l=>{const u=xb(r,t)||{},d=u.delay||r.delay||0;let{elapsed:f=0}=r;f=f-No(d);const p={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...u,delay:-f,onUpdate:y=>{e.set(y),u.onUpdate&&u.onUpdate(y)},onComplete:()=>{l(),u.onComplete&&u.onComplete()},name:t,motionValue:e,element:s?void 0:a};SV(u)||Object.assign(p,_V(t,p)),p.duration&&(p.duration=No(p.duration)),p.repeatDelay&&(p.repeatDelay=No(p.repeatDelay)),p.from!==void 0&&(p.keyframes[0]=p.from);let g=!1;if((p.type===!1||p.duration===0&&!p.repeatDelay)&&(ny(p),p.delay===0&&(g=!0)),(fl.instantAnimations||fl.skipAnimations)&&(g=!0,ny(p),p.delay=0),p.allowFlatten=!u.type&&!u.ease,g&&!s&&e.get()!==void 0){const y=vV(p.keyframes,u);if(y!==void 0){nr.update(()=>{p.onUpdate(y),p.onComplete()});return}}return u.isSync?new bb(p):new Vz(p)};function AV({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function ZE(t,e,{delay:n=0,transitionOverride:r,type:a}={}){let{transition:s=t.getDefaultTransition(),transitionEnd:l,...u}=e;r&&(s=r);const d=[],f=a&&t.animationState&&t.animationState.getState()[a];for(const p in u){const g=t.getValue(p,t.latestValues[p]??null),y=u[p];if(y===void 0||f&&AV(f,p))continue;const v={delay:n,...xb(s||{},p)},N=g.get();if(N!==void 0&&!g.isAnimating&&!Array.isArray(y)&&y===N&&!v.velocity)continue;let C=!1;if(window.MotionHandoffAnimation){const A=QE(t);if(A){const D=window.MotionHandoffAnimation(A,p,nr);D!==null&&(v.startTime=D,C=!0)}}cy(t,p),g.start(Db(p,g,y,t.shouldReduceMotion&&bE.has(p)?{type:!1}:v,t,C));const T=g.animation;T&&d.push(T)}return l&&Promise.all(d).then(()=>{nr.update(()=>{l&&pV(t,l)})}),d}function e6(t,e,n,r=0,a=1){const s=Array.from(t).sort((f,p)=>f.sortNodePosition(p)).indexOf(e),l=t.size,u=(l-1)*r;return typeof n=="function"?n(s,l):a===1?s*r:u-s*r}function uy(t,e,n={}){const r=Bd(t,e,n.type==="exit"?t.presenceContext?.custom:void 0);let{transition:a=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(a=n.transitionOverride);const s=r?()=>Promise.all(ZE(t,r,n)):()=>Promise.resolve(),l=t.variantChildren&&t.variantChildren.size?(d=0)=>{const{delayChildren:f=0,staggerChildren:p,staggerDirection:g}=a;return NV(t,e,d,f,p,g,n)}:()=>Promise.resolve(),{when:u}=a;if(u){const[d,f]=u==="beforeChildren"?[s,l]:[l,s];return d().then(()=>f())}else return Promise.all([s(),l(n.delay)])}function NV(t,e,n=0,r=0,a=0,s=1,l){const u=[];for(const d of t.variantChildren)d.notify("AnimationStart",e),u.push(uy(d,e,{...l,delay:n+(typeof r=="function"?0:r)+e6(t.variantChildren,d,r,a,s)}).then(()=>d.notify("AnimationComplete",e)));return Promise.all(u)}function EV(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const a=e.map(s=>uy(t,s,n));r=Promise.all(a)}else if(typeof e=="string")r=uy(t,e,n);else{const a=typeof e=="function"?Bd(t,e,n.custom):e;r=Promise.all(ZE(t,a,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function t6(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const CV=Cb.length;function n6(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?n6(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<CV;n++){const r=Cb[n],a=t.props[r];(Eh(a)||a===!1)&&(e[r]=a)}return e}const TV=[...Eb].reverse(),jV=Eb.length;function kV(t){return e=>Promise.all(e.map(({animation:n,options:r})=>EV(t,n,r)))}function LV(t){let e=kV(t),n=rS(),r=!0;const a=d=>(f,p)=>{const g=Bd(t,p,d==="exit"?t.presenceContext?.custom:void 0);if(g){const{transition:y,transitionEnd:v,...N}=g;f={...f,...N,...v}}return f};function s(d){e=d(t)}function l(d){const{props:f}=t,p=n6(t.parent)||{},g=[],y=new Set;let v={},N=1/0;for(let T=0;T<jV;T++){const A=TV[T],D=n[A],M=f[A]!==void 0?f[A]:p[A],B=Eh(M),q=A===d?D.isActive:null;q===!1&&(N=T);let V=M===p[A]&&M!==f[A]&&B;if(V&&r&&t.manuallyAnimateOnMount&&(V=!1),D.protectedKeys={...v},!D.isActive&&q===null||!M&&!D.prevProp||d0(M)||typeof M=="boolean")continue;const W=RV(D.prevProp,M);let R=W||A===d&&D.isActive&&!V&&B||T>N&&B,L=!1;const $=Array.isArray(M)?M:[M];let k=$.reduce(a(A),{});q===!1&&(k={});const{prevResolvedValues:I={}}=D,J={...I,...k},ne=le=>{R=!0,y.has(le)&&(L=!0,y.delete(le)),D.needsAnimating[le]=!0;const ce=t.getValue(le);ce&&(ce.liveStyle=!1)};for(const le in J){const ce=k[le],me=I[le];if(v.hasOwnProperty(le))continue;let Re=!1;ly(ce)&&ly(me)?Re=!t6(ce,me):Re=ce!==me,Re?ce!=null?ne(le):y.add(le):ce!==void 0&&y.has(le)?ne(le):D.protectedKeys[le]=!0}D.prevProp=M,D.prevResolvedValues=k,D.isActive&&(v={...v,...k}),r&&t.blockInitialAnimation&&(R=!1);const we=V&&W;R&&(!we||L)&&g.push(...$.map(le=>{const ce={type:A};if(typeof le=="string"&&r&&!we&&t.manuallyAnimateOnMount&&t.parent){const{parent:me}=t,Re=Bd(me,le);if(me.enteringChildren&&Re){const{delayChildren:Y}=Re.transition||{};ce.delay=e6(me.enteringChildren,t,Y)}}return{animation:le,options:ce}}))}if(y.size){const T={};if(typeof f.initial!="boolean"){const A=Bd(t,Array.isArray(f.initial)?f.initial[0]:f.initial);A&&A.transition&&(T.transition=A.transition)}y.forEach(A=>{const D=t.getBaseTarget(A),M=t.getValue(A);M&&(M.liveStyle=!0),T[A]=D??null}),g.push({animation:T})}let C=!!g.length;return r&&(f.initial===!1||f.initial===f.animate)&&!t.manuallyAnimateOnMount&&(C=!1),r=!1,C?e(g):Promise.resolve()}function u(d,f){if(n[d].isActive===f)return Promise.resolve();t.variantChildren?.forEach(g=>g.animationState?.setActive(d,f)),n[d].isActive=f;const p=l(d);for(const g in n)n[g].protectedKeys={};return p}return{animateChanges:l,setActive:u,setAnimateFunction:s,getState:()=>n,reset:()=>{n=rS()}}}function RV(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!t6(e,t):!1}function Yc(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function rS(){return{animate:Yc(!0),whileInView:Yc(),whileHover:Yc(),whileTap:Yc(),whileDrag:Yc(),whileFocus:Yc(),exit:Yc()}}class fc{constructor(e){this.isMounted=!1,this.node=e}update(){}}class OV extends fc{constructor(e){super(e),e.animationState||(e.animationState=LV(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();d0(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let DV=0;class PV extends fc{constructor(){super(...arguments),this.id=DV++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const a=this.node.animationState.setActive("exit",!e);n&&!e&&a.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const MV={animation:{Feature:OV},exit:{Feature:PV}};function Ch(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function Fh(t){return{point:{x:t.pageX,y:t.pageY}}}const BV=t=>e=>Ab(e)&&t(e,Fh(e));function rh(t,e,n,r){return Ch(t,e,BV(n),r)}const r6=1e-4,IV=1-r6,FV=1+r6,i6=.01,UV=0-i6,zV=0+i6;function Hi(t){return t.max-t.min}function qV(t,e,n){return Math.abs(t-e)<=n}function iS(t,e,n,r=.5){t.origin=r,t.originPoint=dr(e.min,e.max,t.origin),t.scale=Hi(n)/Hi(e),t.translate=dr(n.min,n.max,t.origin)-t.originPoint,(t.scale>=IV&&t.scale<=FV||isNaN(t.scale))&&(t.scale=1),(t.translate>=UV&&t.translate<=zV||isNaN(t.translate))&&(t.translate=0)}function ih(t,e,n,r){iS(t.x,e.x,n.x,r?r.originX:void 0),iS(t.y,e.y,n.y,r?r.originY:void 0)}function aS(t,e,n){t.min=n.min+e.min,t.max=t.min+Hi(e)}function VV(t,e,n){aS(t.x,e.x,n.x),aS(t.y,e.y,n.y)}function sS(t,e,n){t.min=e.min-n.min,t.max=t.min+Hi(e)}function Hm(t,e,n){sS(t.x,e.x,n.x),sS(t.y,e.y,n.y)}function is(t){return[t("x"),t("y")]}const a6=({current:t})=>t?t.ownerDocument.defaultView:null,oS=(t,e)=>Math.abs(t-e);function HV(t,e){const n=oS(t.x,e.x),r=oS(t.y,e.y);return Math.sqrt(n**2+r**2)}class s6{constructor(e,n,{transformPagePoint:r,contextWindow:a=window,dragSnapToOrigin:s=!1,distanceThreshold:l=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=nv(this.lastMoveEventInfo,this.history),v=this.startEvent!==null,N=HV(y.offset,{x:0,y:0})>=this.distanceThreshold;if(!v&&!N)return;const{point:C}=y,{timestamp:T}=bi;this.history.push({...C,timestamp:T});const{onStart:A,onMove:D}=this.handlers;v||(A&&A(this.lastMoveEvent,y),this.startEvent=this.lastMoveEvent),D&&D(this.lastMoveEvent,y)},this.handlePointerMove=(y,v)=>{this.lastMoveEvent=y,this.lastMoveEventInfo=tv(v,this.transformPagePoint),nr.update(this.updatePoint,!0)},this.handlePointerUp=(y,v)=>{this.end();const{onEnd:N,onSessionEnd:C,resumeAnimation:T}=this.handlers;if(this.dragSnapToOrigin&&T&&T(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const A=nv(y.type==="pointercancel"?this.lastMoveEventInfo:tv(v,this.transformPagePoint),this.history);this.startEvent&&N&&N(y,A),C&&C(y,A)},!Ab(e))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=l,this.contextWindow=a||window;const u=Fh(e),d=tv(u,this.transformPagePoint),{point:f}=d,{timestamp:p}=bi;this.history=[{...f,timestamp:p}];const{onSessionStart:g}=n;g&&g(e,nv(d,this.history)),this.removeListeners=Mh(rh(this.contextWindow,"pointermove",this.handlePointerMove),rh(this.contextWindow,"pointerup",this.handlePointerUp),rh(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),cc(this.updatePoint)}}function tv(t,e){return e?{point:e(t.point)}:t}function lS(t,e){return{x:t.x-e.x,y:t.y-e.y}}function nv({point:t},e){return{point:t,delta:lS(t,o6(e)),offset:lS(t,$V(e)),velocity:GV(e,.1)}}function $V(t){return t[0]}function o6(t){return t[t.length-1]}function GV(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const a=o6(t);for(;n>=0&&(r=t[n],!(a.timestamp-r.timestamp>No(e)));)n--;if(!r)return{x:0,y:0};const s=ss(a.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const l={x:(a.x-r.x)/s,y:(a.y-r.y)/s};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}function WV(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?dr(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?dr(n,t,r.max):Math.min(t,n)),t}function cS(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function YV(t,{top:e,left:n,bottom:r,right:a}){return{x:cS(t.x,n,a),y:cS(t.y,e,r)}}function uS(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function KV(t,e){return{x:uS(t.x,e.x),y:uS(t.y,e.y)}}function XV(t,e){let n=.5;const r=Hi(t),a=Hi(e);return a>r?n=Sh(e.min,e.max-r,t.min):r>a&&(n=Sh(t.min,t.max-a,e.min)),dl(0,1,n)}function JV(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const dy=.35;function QV(t=dy){return t===!1?t=0:t===!0&&(t=dy),{x:dS(t,"left","right"),y:dS(t,"top","bottom")}}function dS(t,e,n){return{min:fS(t,e),max:fS(t,n)}}function fS(t,e){return typeof t=="number"?t:t[e]||0}const ZV=new WeakMap;class eH{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Jr(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const s=g=>{const{dragSnapToOrigin:y}=this.getProps();y?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Fh(g).point)},l=(g,y)=>{const{drag:v,dragPropagation:N,onDragStart:C}=this.getProps();if(v&&!N&&(this.openDragLock&&this.openDragLock(),this.openDragLock=aq(v),!this.openDragLock))return;this.latestPointerEvent=g,this.latestPanInfo=y,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),is(A=>{let D=this.getAxisMotionValue(A).get()||0;if(Eo.test(D)){const{projection:M}=this.visualElement;if(M&&M.layout){const B=M.layout.layoutBox[A];B&&(D=Hi(B)*(parseFloat(D)/100))}}this.originPoint[A]=D}),C&&nr.postRender(()=>C(g,y)),cy(this.visualElement,"transform");const{animationState:T}=this.visualElement;T&&T.setActive("whileDrag",!0)},u=(g,y)=>{this.latestPointerEvent=g,this.latestPanInfo=y;const{dragPropagation:v,dragDirectionLock:N,onDirectionLock:C,onDrag:T}=this.getProps();if(!v&&!this.openDragLock)return;const{offset:A}=y;if(N&&this.currentDirection===null){this.currentDirection=tH(A),this.currentDirection!==null&&C&&C(this.currentDirection);return}this.updateAxis("x",y.point,A),this.updateAxis("y",y.point,A),this.visualElement.render(),T&&T(g,y)},d=(g,y)=>{this.latestPointerEvent=g,this.latestPanInfo=y,this.stop(g,y),this.latestPointerEvent=null,this.latestPanInfo=null},f=()=>is(g=>this.getAnimationState(g)==="paused"&&this.getAxisMotionValue(g).animation?.play()),{dragSnapToOrigin:p}=this.getProps();this.panSession=new s6(e,{onSessionStart:s,onStart:l,onMove:u,onSessionEnd:d,resumeAnimation:f},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:p,distanceThreshold:r,contextWindow:a6(this.visualElement)})}stop(e,n){const r=e||this.latestPointerEvent,a=n||this.latestPanInfo,s=this.isDragging;if(this.cancel(),!s||!a||!r)return;const{velocity:l}=a;this.startAnimation(l);const{onDragEnd:u}=this.getProps();u&&nr.postRender(()=>u(r,a))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:a}=this.getProps();if(!r||!rm(e,a,this.currentDirection))return;const s=this.getAxisMotionValue(e);let l=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(l=WV(l,this.constraints[e],this.elastic[e])),s.set(l)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,a=this.constraints;e&&Cd(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=YV(r.layoutBox,e):this.constraints=!1,this.elastic=QV(n),a!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&is(s=>{this.constraints!==!1&&this.getAxisMotionValue(s)&&(this.constraints[s]=JV(r.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Cd(e))return!1;const r=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const s=nV(r,a.root,this.visualElement.getTransformPagePoint());let l=KV(a.layout.layoutBox,s);if(n){const u=n(Zq(l));this.hasMutatedConstraints=!!u,u&&(l=HE(u))}return l}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:a,dragTransition:s,dragSnapToOrigin:l,onDragTransitionEnd:u}=this.getProps(),d=this.constraints||{},f=is(p=>{if(!rm(p,n,this.currentDirection))return;let g=d&&d[p]||{};l&&(g={min:0,max:0});const y=a?200:1e6,v=a?40:1e7,N={type:"inertia",velocity:r?e[p]:0,bounceStiffness:y,bounceDamping:v,timeConstant:750,restDelta:1,restSpeed:10,...s,...g};return this.startAxisValueAnimation(p,N)});return Promise.all(f).then(u)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return cy(this.visualElement,e),r.start(Db(e,r,0,n,this.visualElement,!1))}stopAnimation(){is(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){is(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),a=r[n];return a||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){is(n=>{const{drag:r}=this.getProps();if(!rm(n,r,this.currentDirection))return;const{projection:a}=this.visualElement,s=this.getAxisMotionValue(n);if(a&&a.layout){const{min:l,max:u}=a.layout.layoutBox[n];s.set(e[n]-dr(l,u,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Cd(n)||!r||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};is(l=>{const u=this.getAxisMotionValue(l);if(u&&this.constraints!==!1){const d=u.get();a[l]=XV({min:d,max:d},this.constraints[l])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),is(l=>{if(!rm(l,e,null))return;const u=this.getAxisMotionValue(l),{min:d,max:f}=this.constraints[l];u.set(dr(d,f,a[l]))})}addListeners(){if(!this.visualElement.current)return;ZV.set(this.visualElement,this);const e=this.visualElement.current,n=rh(e,"pointerdown",d=>{const{drag:f,dragListener:p=!0}=this.getProps();f&&p&&this.start(d)}),r=()=>{const{dragConstraints:d}=this.getProps();Cd(d)&&d.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,s=a.addEventListener("measure",r);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),nr.read(r);const l=Ch(window,"resize",()=>this.scalePositionWithinConstraints()),u=a.addEventListener("didUpdate",(({delta:d,hasLayoutChanged:f})=>{this.isDragging&&f&&(is(p=>{const g=this.getAxisMotionValue(p);g&&(this.originPoint[p]+=d[p].translate,g.set(g.get()+d[p].translate))}),this.visualElement.render())}));return()=>{l(),n(),s(),u&&u()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:a=!1,dragConstraints:s=!1,dragElastic:l=dy,dragMomentum:u=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:a,dragConstraints:s,dragElastic:l,dragMomentum:u}}}function rm(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function tH(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class nH extends fc{constructor(e){super(e),this.removeGroupControls=ls,this.removeListeners=ls,this.controls=new eH(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ls}unmount(){this.removeGroupControls(),this.removeListeners()}}const hS=t=>(e,n)=>{t&&nr.postRender(()=>t(e,n))};class rH extends fc{constructor(){super(...arguments),this.removePointerDownListener=ls}onPointerDown(e){this.session=new s6(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:a6(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:a}=this.node.getProps();return{onSessionStart:hS(e),onStart:hS(n),onMove:r,onEnd:(s,l)=>{delete this.session,a&&nr.postRender(()=>a(s,l))}}}mount(){this.removePointerDownListener=rh(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const ym={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let rv=!1;class iH extends X.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:a}=this.props,{projection:s}=e;s&&(n.group&&n.group.add(s),r&&r.register&&a&&r.register(s),rv&&s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),ym.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:a,isPresent:s}=this.props,{projection:l}=r;return l&&(l.isPresent=s,rv=!0,a||e.layoutDependency!==n||n===void 0||e.isPresent!==s?l.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?l.promote():l.relegate()||nr.postRender(()=>{const u=l.getStack();(!u||!u.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Sb.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:a}=e;rv=!0,a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),r&&r.deregister&&r.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function l6(t){const[e,n]=kE(),r=X.useContext(nb);return w.jsx(iH,{...t,layoutGroup:r,switchLayoutGroup:X.useContext(qE),isPresent:e,safeToRemove:n})}function aH(t,e,n){const r=ji(t)?t:qd(t);return r.start(Db("",r,e,n)),r.animation}const sH=(t,e)=>t.depth-e.depth;class oH{constructor(){this.children=[],this.isDirty=!1}add(e){ab(this.children,e),this.isDirty=!0}remove(e){sb(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(sH),this.isDirty=!1,this.children.forEach(e)}}function lH(t,e){const n=ua.now(),r=({timestamp:a})=>{const s=a-n;s>=e&&(cc(r),t(s-e))};return nr.setup(r,!0),()=>cc(r)}const c6=["TopLeft","TopRight","BottomLeft","BottomRight"],cH=c6.length,pS=t=>typeof t=="string"?parseFloat(t):t,mS=t=>typeof t=="number"||zt.test(t);function uH(t,e,n,r,a,s){a?(t.opacity=dr(0,n.opacity??1,dH(r)),t.opacityExit=dr(e.opacity??1,0,fH(r))):s&&(t.opacity=dr(e.opacity??1,n.opacity??1,r));for(let l=0;l<cH;l++){const u=`border${c6[l]}Radius`;let d=gS(e,u),f=gS(n,u);if(d===void 0&&f===void 0)continue;d||(d=0),f||(f=0),d===0||f===0||mS(d)===mS(f)?(t[u]=Math.max(dr(pS(d),pS(f),r),0),(Eo.test(f)||Eo.test(d))&&(t[u]+="%")):t[u]=f}(e.rotate||n.rotate)&&(t.rotate=dr(e.rotate||0,n.rotate||0,r))}function gS(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const dH=u6(0,.5,KN),fH=u6(.5,.95,ls);function u6(t,e,n){return r=>r<t?0:r>e?1:n(Sh(t,e,r))}function vS(t,e){t.min=e.min,t.max=e.max}function zs(t,e){vS(t.x,e.x),vS(t.y,e.y)}function yS(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function bS(t,e,n,r,a){return t-=e,t=Vm(t,1/n,r),a!==void 0&&(t=Vm(t,1/a,r)),t}function hH(t,e=0,n=1,r=.5,a,s=t,l=t){if(Eo.test(e)&&(e=parseFloat(e),e=dr(l.min,l.max,e/100)-l.min),typeof e!="number")return;let u=dr(s.min,s.max,r);t===s&&(u-=e),t.min=bS(t.min,e,n,u,a),t.max=bS(t.max,e,n,u,a)}function wS(t,e,[n,r,a],s,l){hH(t,e[n],e[r],e[a],e.scale,s,l)}const pH=["x","scaleX","originX"],mH=["y","scaleY","originY"];function xS(t,e,n,r){wS(t.x,e,pH,n?n.x:void 0,r?r.x:void 0),wS(t.y,e,mH,n?n.y:void 0,r?r.y:void 0)}function _S(t){return t.translate===0&&t.scale===1}function d6(t){return _S(t.x)&&_S(t.y)}function SS(t,e){return t.min===e.min&&t.max===e.max}function gH(t,e){return SS(t.x,e.x)&&SS(t.y,e.y)}function AS(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function f6(t,e){return AS(t.x,e.x)&&AS(t.y,e.y)}function NS(t){return Hi(t.x)/Hi(t.y)}function ES(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class vH{constructor(){this.members=[]}add(e){ab(this.members,e),e.scheduleRender()}remove(e){if(sb(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(a=>e===a);if(n===0)return!1;let r;for(let a=n;a>=0;a--){const s=this.members[a];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:a}=e.options;a===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function yH(t,e,n){let r="";const a=t.x.translate/e.x,s=t.y.translate/e.y,l=n?.z||0;if((a||s||l)&&(r=`translate3d(${a}px, ${s}px, ${l}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:f,rotate:p,rotateX:g,rotateY:y,skewX:v,skewY:N}=n;f&&(r=`perspective(${f}px) ${r}`),p&&(r+=`rotate(${p}deg) `),g&&(r+=`rotateX(${g}deg) `),y&&(r+=`rotateY(${y}deg) `),v&&(r+=`skewX(${v}deg) `),N&&(r+=`skewY(${N}deg) `)}const u=t.x.scale*e.x,d=t.y.scale*e.y;return(u!==1||d!==1)&&(r+=`scale(${u}, ${d})`),r||"none"}const iv=["","X","Y","Z"],bH=1e3;let wH=0;function av(t,e,n,r){const{latestValues:a}=e;a[t]&&(n[t]=a[t],e.setStaticValue(t,0),r&&(r[t]=0))}function h6(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=QE(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:a,layoutId:s}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",nr,!(a||s))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&h6(r)}function p6({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:a}){return class{constructor(l={},u=e?.()){this.id=wH++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(SH),this.nodes.forEach(CH),this.nodes.forEach(TH),this.nodes.forEach(AH)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=u?u.root||u:this,this.path=u?[...u.path,u]:[],this.parent=u,this.depth=u?u.depth+1:0;for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new oH)}addEventListener(l,u){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new cb),this.eventHandlers.get(l).add(u)}notifyListeners(l,...u){const d=this.eventHandlers.get(l);d&&d.notify(...u)}hasListeners(l){return this.eventHandlers.has(l)}mount(l){if(this.instance)return;this.isSVG=jE(l)&&!dq(l),this.instance=l;const{layoutId:u,layout:d,visualElement:f}=this.options;if(f&&!f.current&&f.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(d||u)&&(this.isLayoutDirty=!0),t){let p,g=0;const y=()=>this.root.updateBlockedByResize=!1;nr.read(()=>{g=window.innerWidth}),t(l,()=>{const v=window.innerWidth;v!==g&&(g=v,this.root.updateBlockedByResize=!0,p&&p(),p=lH(y,250),ym.hasAnimatedSinceResize&&(ym.hasAnimatedSinceResize=!1,this.nodes.forEach(jS)))})}u&&this.root.registerSharedNode(u,this),this.options.animate!==!1&&f&&(u||d)&&this.addEventListener("didUpdate",({delta:p,hasLayoutChanged:g,hasRelativeLayoutChanged:y,layout:v})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const N=this.options.transition||f.getDefaultTransition()||OH,{onLayoutAnimationStart:C,onLayoutAnimationComplete:T}=f.getProps(),A=!this.targetLayout||!f6(this.targetLayout,v),D=!g&&y;if(this.options.layoutRoot||this.resumeFrom||D||g&&(A||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const M={...xb(N,"layout"),onPlay:C,onComplete:T};(f.shouldReduceMotion||this.options.layoutRoot)&&(M.delay=0,M.type=!1),this.startAnimation(M),this.setAnimationOrigin(p,D)}else g||jS(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=v})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),cc(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(jH),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&h6(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let p=0;p<this.path.length;p++){const g=this.path[p];g.shouldResetTransform=!0,g.updateScroll("snapshot"),g.options.layoutRoot&&g.willUpdate(!1)}const{layoutId:u,layout:d}=this.options;if(u===void 0&&!d)return;const f=this.getTransformTemplate();this.prevTransformTemplateValue=f?f(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(CS);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(TS);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(EH),this.nodes.forEach(xH),this.nodes.forEach(_H)):this.nodes.forEach(TS),this.clearAllSnapshots();const u=ua.now();bi.delta=dl(0,1e3/60,u-bi.timestamp),bi.timestamp=u,bi.isProcessing=!0,W1.update.process(bi),W1.preRender.process(bi),W1.render.process(bi),bi.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Sb.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(NH),this.sharedNodes.forEach(kH)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,nr.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){nr.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Hi(this.snapshot.measuredBox.x)&&!Hi(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=Jr(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:u}=this.options;u&&u.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let u=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(u=!1),u&&this.instance){const d=r(this.instance);this.scroll={animationId:this.root.animationId,phase:l,isRoot:d,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:d}}}resetTransform(){if(!a)return;const l=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,u=this.projectionDelta&&!d6(this.projectionDelta),d=this.getTransformTemplate(),f=d?d(this.latestValues,""):void 0,p=f!==this.prevTransformTemplateValue;l&&this.instance&&(u||eu(this.latestValues)||p)&&(a(this.instance,f),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const u=this.measurePageBox();let d=this.removeElementScroll(u);return l&&(d=this.removeTransform(d)),DH(d),{animationId:this.root.animationId,measuredBox:u,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:l}=this.options;if(!l)return Jr();const u=l.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(PH))){const{scroll:f}=this.root;f&&(Td(u.x,f.offset.x),Td(u.y,f.offset.y))}return u}removeElementScroll(l){const u=Jr();if(zs(u,l),this.scroll?.wasRoot)return u;for(let d=0;d<this.path.length;d++){const f=this.path[d],{scroll:p,options:g}=f;f!==this.root&&p&&g.layoutScroll&&(p.wasRoot&&zs(u,l),Td(u.x,p.offset.x),Td(u.y,p.offset.y))}return u}applyTransform(l,u=!1){const d=Jr();zs(d,l);for(let f=0;f<this.path.length;f++){const p=this.path[f];!u&&p.options.layoutScroll&&p.scroll&&p!==p.root&&jd(d,{x:-p.scroll.offset.x,y:-p.scroll.offset.y}),eu(p.latestValues)&&jd(d,p.latestValues)}return eu(this.latestValues)&&jd(d,this.latestValues),d}removeTransform(l){const u=Jr();zs(u,l);for(let d=0;d<this.path.length;d++){const f=this.path[d];if(!f.instance||!eu(f.latestValues))continue;ay(f.latestValues)&&f.updateSnapshot();const p=Jr(),g=f.measurePageBox();zs(p,g),xS(u,f.latestValues,f.snapshot?f.snapshot.layoutBox:void 0,p)}return eu(this.latestValues)&&xS(u,this.latestValues),u}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==bi.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){const u=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=u.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=u.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=u.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==u;if(!(l||d&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:p,layoutId:g}=this.options;if(!this.layout||!(p||g))return;this.resolvedRelativeTargetAt=bi.timestamp;const y=this.getClosestProjectingParent();y&&this.linkedParentVersion!==y.layoutVersion&&!y.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(y&&y.layout?this.createRelativeTarget(y,this.layout.layoutBox,y.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Jr(),this.targetWithTransforms=Jr()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),VV(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):zs(this.target,this.layout.layoutBox),GE(this.target,this.targetDelta)):zs(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,y&&!!y.resumingFrom==!!this.resumingFrom&&!y.options.layoutScroll&&y.target&&this.animationProgress!==1?this.createRelativeTarget(y,this.target,y.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||ay(this.parent.latestValues)||$E(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(l,u,d){this.relativeParent=l,this.linkedParentVersion=l.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Jr(),this.relativeTargetOrigin=Jr(),Hm(this.relativeTargetOrigin,u,d),zs(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const l=this.getLead(),u=!!this.resumingFrom||this!==l;let d=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(d=!1),u&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===bi.timestamp&&(d=!1),d)return;const{layout:f,layoutId:p}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(f||p))return;zs(this.layoutCorrected,this.layout.layoutBox);const g=this.treeScale.x,y=this.treeScale.y;tV(this.layoutCorrected,this.treeScale,this.path,u),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=Jr());const{target:v}=l;if(!v){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(yS(this.prevProjectionDelta.x,this.projectionDelta.x),yS(this.prevProjectionDelta.y,this.projectionDelta.y)),ih(this.projectionDelta,this.layoutCorrected,v,this.latestValues),(this.treeScale.x!==g||this.treeScale.y!==y||!ES(this.projectionDelta.x,this.prevProjectionDelta.x)||!ES(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",v))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){if(this.options.visualElement?.scheduleRender(),l){const u=this.getStack();u&&u.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=kd(),this.projectionDelta=kd(),this.projectionDeltaWithTransform=kd()}setAnimationOrigin(l,u=!1){const d=this.snapshot,f=d?d.latestValues:{},p={...this.latestValues},g=kd();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!u;const y=Jr(),v=d?d.source:void 0,N=this.layout?this.layout.source:void 0,C=v!==N,T=this.getStack(),A=!T||T.members.length<=1,D=!!(C&&!A&&this.options.crossfade===!0&&!this.path.some(RH));this.animationProgress=0;let M;this.mixTargetDelta=B=>{const q=B/1e3;kS(g.x,l.x,q),kS(g.y,l.y,q),this.setTargetDelta(g),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Hm(y,this.layout.layoutBox,this.relativeParent.layout.layoutBox),LH(this.relativeTarget,this.relativeTargetOrigin,y,q),M&&gH(this.relativeTarget,M)&&(this.isProjectionDirty=!1),M||(M=Jr()),zs(M,this.relativeTarget)),C&&(this.animationValues=p,uH(p,f,this.latestValues,q,D,A)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=q},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(cc(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=nr.update(()=>{ym.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=qd(0)),this.currentAnimation=aH(this.motionValue,[0,1e3],{...l,velocity:0,isSync:!0,onUpdate:u=>{this.mixTargetDelta(u),l.onUpdate&&l.onUpdate(u)},onStop:()=>{},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(bH),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:u,target:d,layout:f,latestValues:p}=l;if(!(!u||!d||!f)){if(this!==l&&this.layout&&f&&m6(this.options.animationType,this.layout.layoutBox,f.layoutBox)){d=this.target||Jr();const g=Hi(this.layout.layoutBox.x);d.x.min=l.target.x.min,d.x.max=d.x.min+g;const y=Hi(this.layout.layoutBox.y);d.y.min=l.target.y.min,d.y.max=d.y.min+y}zs(u,d),jd(u,p),ih(this.projectionDeltaWithTransform,this.layoutCorrected,u,p)}}registerSharedNode(l,u){this.sharedNodes.has(l)||this.sharedNodes.set(l,new vH),this.sharedNodes.get(l).add(u);const f=u.options.initialPromotionConfig;u.promote({transition:f?f.transition:void 0,preserveFollowOpacity:f&&f.shouldPreserveFollowOpacity?f.shouldPreserveFollowOpacity(u):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){const{layoutId:l}=this.options;return l?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:l}=this.options;return l?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:u,preserveFollowOpacity:d}={}){const f=this.getStack();f&&f.promote(this,d),l&&(this.projectionDelta=void 0,this.needsReset=!0),u&&this.setOptions({transition:u})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetSkewAndRotation(){const{visualElement:l}=this.options;if(!l)return;let u=!1;const{latestValues:d}=l;if((d.z||d.rotate||d.rotateX||d.rotateY||d.rotateZ||d.skewX||d.skewY)&&(u=!0),!u)return;const f={};d.z&&av("z",l,f,this.animationValues);for(let p=0;p<iv.length;p++)av(`rotate${iv[p]}`,l,f,this.animationValues),av(`skew${iv[p]}`,l,f,this.animationValues);l.render();for(const p in f)l.setStaticValue(p,f[p]),this.animationValues&&(this.animationValues[p]=f[p]);l.scheduleRender()}applyProjectionStyles(l,u){if(!this.instance||this.isSVG)return;if(!this.isVisible){l.visibility="hidden";return}const d=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,l.visibility="",l.opacity="",l.pointerEvents=vm(u?.pointerEvents)||"",l.transform=d?d(this.latestValues,""):"none";return}const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){this.options.layoutId&&(l.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,l.pointerEvents=vm(u?.pointerEvents)||""),this.hasProjected&&!eu(this.latestValues)&&(l.transform=d?d({},""):"none",this.hasProjected=!1);return}l.visibility="";const p=f.animationValues||f.latestValues;this.applyTransformsToTarget();let g=yH(this.projectionDeltaWithTransform,this.treeScale,p);d&&(g=d(p,g)),l.transform=g;const{x:y,y:v}=this.projectionDelta;l.transformOrigin=`${y.origin*100}% ${v.origin*100}% 0`,f.animationValues?l.opacity=f===this?p.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:l.opacity=f===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const N in iy){if(p[N]===void 0)continue;const{correct:C,applyTo:T,isCSSVariable:A}=iy[N],D=g==="none"?p[N]:C(p[N],f);if(T){const M=T.length;for(let B=0;B<M;B++)l[T[B]]=D}else A?this.options.visualElement.renderState.vars[N]=D:l[N]=D}this.options.layoutId&&(l.pointerEvents=f===this?vm(u?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>l.currentAnimation?.stop()),this.root.nodes.forEach(CS),this.root.sharedNodes.clear()}}}function xH(t){t.updateLayout()}function _H(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:r}=t.layout,{animationType:a}=t.options,s=e.source!==t.layout.source;a==="size"?is(p=>{const g=s?e.measuredBox[p]:e.layoutBox[p],y=Hi(g);g.min=n[p].min,g.max=g.min+y}):m6(a,e.layoutBox,n)&&is(p=>{const g=s?e.measuredBox[p]:e.layoutBox[p],y=Hi(n[p]);g.max=g.min+y,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[p].max=t.relativeTarget[p].min+y)});const l=kd();ih(l,n,e.layoutBox);const u=kd();s?ih(u,t.applyTransform(r,!0),e.measuredBox):ih(u,n,e.layoutBox);const d=!d6(l);let f=!1;if(!t.resumeFrom){const p=t.getClosestProjectingParent();if(p&&!p.resumeFrom){const{snapshot:g,layout:y}=p;if(g&&y){const v=Jr();Hm(v,e.layoutBox,g.layoutBox);const N=Jr();Hm(N,n,y.layoutBox),f6(v,N)||(f=!0),p.options.layoutRoot&&(t.relativeTarget=N,t.relativeTargetOrigin=v,t.relativeParent=p)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:u,layoutDelta:l,hasLayoutChanged:d,hasRelativeLayoutChanged:f})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function SH(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function AH(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function NH(t){t.clearSnapshot()}function CS(t){t.clearMeasurements()}function TS(t){t.isLayoutDirty=!1}function EH(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function jS(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function CH(t){t.resolveTargetDelta()}function TH(t){t.calcProjection()}function jH(t){t.resetSkewAndRotation()}function kH(t){t.removeLeadSnapshot()}function kS(t,e,n){t.translate=dr(e.translate,0,n),t.scale=dr(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function LS(t,e,n,r){t.min=dr(e.min,n.min,r),t.max=dr(e.max,n.max,r)}function LH(t,e,n,r){LS(t.x,e.x,n.x,r),LS(t.y,e.y,n.y,r)}function RH(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const OH={duration:.45,ease:[.4,0,.1,1]},RS=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),OS=RS("applewebkit/")&&!RS("chrome/")?Math.round:ls;function DS(t){t.min=OS(t.min),t.max=OS(t.max)}function DH(t){DS(t.x),DS(t.y)}function m6(t,e,n){return t==="position"||t==="preserve-aspect"&&!qV(NS(e),NS(n),.2)}function PH(t){return t!==t.root&&t.scroll?.wasRoot}const MH=p6({attachResizeListener:(t,e)=>Ch(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),sv={current:void 0},g6=p6({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!sv.current){const t=new MH({});t.mount(window),t.setOptions({layoutScroll:!0}),sv.current=t}return sv.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),BH={pan:{Feature:rH},drag:{Feature:nH,ProjectionNode:g6,MeasureLayout:l6}};function PS(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const a="onHover"+n,s=r[a];s&&nr.postRender(()=>s(e,Fh(e)))}class IH extends fc{mount(){const{current:e}=this.node;e&&(this.unmount=sq(e,(n,r)=>(PS(this.node,r,"Start"),a=>PS(this.node,a,"End"))))}unmount(){}}class FH extends fc{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Mh(Ch(this.node.current,"focus",()=>this.onFocus()),Ch(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function MS(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const a="onTap"+(n==="End"?"":n),s=r[a];s&&nr.postRender(()=>s(e,Fh(e)))}class UH extends fc{mount(){const{current:e}=this.node;e&&(this.unmount=uq(e,(n,r)=>(MS(this.node,r,"Start"),(a,{success:s})=>MS(this.node,a,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const fy=new WeakMap,ov=new WeakMap,zH=t=>{const e=fy.get(t.target);e&&e(t)},qH=t=>{t.forEach(zH)};function VH({root:t,...e}){const n=t||document;ov.has(n)||ov.set(n,{});const r=ov.get(n),a=JSON.stringify(e);return r[a]||(r[a]=new IntersectionObserver(qH,{root:t,...e})),r[a]}function HH(t,e,n){const r=VH(e);return fy.set(t,n),r.observe(t),()=>{fy.delete(t),r.unobserve(t)}}const $H={some:0,all:1};class GH extends fc{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:a="some",once:s}=e,l={root:n?n.current:void 0,rootMargin:r,threshold:typeof a=="number"?a:$H[a]},u=d=>{const{isIntersecting:f}=d;if(this.isInView===f||(this.isInView=f,s&&!f&&this.hasEnteredView))return;f&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",f);const{onViewportEnter:p,onViewportLeave:g}=this.node.getProps(),y=f?p:g;y&&y(d)};return HH(this.node.current,l,u)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(WH(e,n))&&this.startObserver()}unmount(){}}function WH({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const YH={inView:{Feature:GH},tap:{Feature:UH},focus:{Feature:FH},hover:{Feature:IH}},KH={layout:{ProjectionNode:g6,MeasureLayout:l6}},XH={...MV,...YH,...BH,...KH},il=Qq(XH,dV),JH=()=>w.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",className:"w-6 h-6",children:w.jsx("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L0 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413Z"})}),QH=()=>w.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",className:"w-6 h-6",children:w.jsx("path",{d:"M19.59 6.69a4.83 4.83 0 01-3.77-4.25V2h-3.45v13.67a2.89 2.89 0 01-5.2 1.74 2.89 2.89 0 012.31-4.64 2.93 2.93 0 01.88.13V9.4a6.84 6.84 0 00-1-.05A6.33 6.33 0 005 20.1a6.34 6.34 0 0010.86-4.43v-7a8.16 8.16 0 004.77 1.52v-3.4a4.85 4.85 0 01-1-.1z"})});function ZH(){console.log(" GUEST APP UPDATED: FORCE RENDER v2025");const{id:t}=KS(),[e,n]=X.useState(null),[r,a]=X.useState(!0),[s,l]=X.useState("welcome"),[u,d]=X.useState(null),f=X.useRef(null),[p,g]=X.useState(""),[y,v]=X.useState([]),[N,C]=X.useState(!1),A=qA(e?.theme_id||"default")?.colors||{primary:"#6b21a8",secondary:"#581c87",accent:"#FBBF24",background:"#1a1030"},D=k=>{if(k.assigned_video_url)return k.assigned_video_url;if(k.table_info&&e?.video_configuration){const I=k.table_info;if(e.video_configuration[I])return e.video_configuration[I]}return e?.video_url_default};X.useEffect(()=>{t&&M()},[t]);const M=async()=>{try{const{data:k,error:I}=await cn.from("events").select("*").eq("id",t).single();if(I)throw I;n(k);const{data:J,error:ne}=await cn.from("guests").select("id, event_id, status, first_name, last_name, display_name, table_info, assigned_video_url, is_after_party, has_puff").eq("event_id",t);if(ne)throw ne;v(J||[])}catch(k){console.error("Error loading event data:",k)}finally{a(!1)}},[B,q]=X.useState(!1),V=()=>{const k=new window.webkitSpeechRecognition;k.lang="es-ES",k.start(),C(!0),k.onresult=I=>{const J=I.results[0][0].transcript;g(J),C(!1)},k.onerror=()=>C(!1),k.onend=()=>C(!1)},W=k=>{d(k),q(!1),l("video")},R=k=>k.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,""),L=p.length>2?y.filter(k=>{const I=`${k.first_name} ${k.last_name} ${k.display_name||""}`,J=R(I),ne=R(p);return J.includes(ne)}):[];if(r)return w.jsxs(w.Fragment,{children:[w.jsx("style",{children:`
                    :root {
                        --theme-primary: ${A.primary};
                        --theme-secondary: ${A.secondary};
                        --theme-accent: ${A.accent};
                        --theme-bg: ${A.background};
                    }
                `}),w.jsx("div",{className:"min-h-screen flex items-center justify-center",style:{background:`linear-gradient(to bottom right, ${A.secondary}, ${A.primary}, ${A.background})`},children:w.jsxs("div",{className:"text-center",children:[w.jsx("div",{className:"w-16 h-16 border-4 border-t-transparent rounded-full animate-spin mx-auto mb-4",style:{borderColor:`${A.accent} transparent transparent transparent`}}),w.jsx("p",{className:"text-white/80 font-medium",children:"Cargando experiencia..."})]})})]});if(!e)return w.jsx("div",{className:"min-h-screen flex items-center justify-center text-white p-4",style:{background:`linear-gradient(to bottom right, ${A.secondary}, ${A.primary}, ${A.background})`},children:w.jsxs("div",{className:"text-center",children:[w.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Evento no encontrado"}),w.jsx("p",{className:"text-white/70",children:"Verifica el cdigo QR e intenta nuevamente"})]})});const $=e.theme_background_url||"https://images.unsplash.com/photo-5519167758481-83f550bb49b3?q=80&w=2098";return w.jsxs(w.Fragment,{children:[w.jsx("style",{children:`
                :root {
                    --theme-primary: ${A.primary};
                    --theme-secondary: ${A.secondary};
                    --theme-accent: ${A.accent};
                    --theme-bg: ${A.background};
                }
            `}),w.jsxs("div",{className:"fixed inset-0 font-['Outfit'] overflow-hidden",children:[w.jsxs("div",{className:"absolute inset-0",children:[w.jsx("img",{src:$,className:"w-full h-full object-cover",alt:"Background"}),w.jsx("div",{className:"absolute inset-0",style:{background:`linear-gradient(to bottom, ${A.background}99, ${A.background}66, ${A.background}BB)`}})]}),w.jsxs(wq,{mode:"wait",children:[s==="welcome"&&w.jsxs(il.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"relative w-full h-full flex flex-col",children:[w.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-center p-8",children:[w.jsx(il.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.2},className:"mb-8 p-8 rounded-full",style:{background:`radial-gradient(circle, ${A.primary}33, ${A.secondary}11)`,boxShadow:`0 0 60px ${A.primary}66`},children:w.jsx(zL,{size:80,className:"text-white",strokeWidth:1.5})}),w.jsx(il.h1,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.3},className:"text-6xl md:text-7xl font-black text-white mb-4 drop-shadow-2xl",style:{textShadow:`0 0 30px ${A.primary}88, 0 0 60px ${A.secondary}66`},children:e.name}),w.jsx(il.p,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.4},className:"text-2xl text-white/90 mb-12 font-light",children:"Entr para ver tu mesa!"}),w.jsxs(il.button,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.5},onClick:()=>l("search"),className:"px-16 py-6 rounded-full text-white text-2xl font-bold shadow-2xl transition-all duration-300 hover:scale-105 flex items-center gap-3",style:{background:`linear-gradient(135deg, ${A.primary}, ${A.secondary})`,boxShadow:`0 8px 32px ${A.primary}66`,border:`3px solid ${A.accent}`},children:[w.jsx(Id,{size:28}),"Buscar mi Nombre"]})]}),w.jsx("div",{className:"pb-8 px-4",children:w.jsxs("div",{className:"flex flex-col items-center gap-4",children:[w.jsxs("div",{className:"flex items-center gap-6",children:[w.jsx("a",{href:"https://wa.me/5491234567890",target:"_blank",rel:"noopener noreferrer",className:"text-white/80 hover:text-white transition-colors hover:scale-110 transform duration-200",children:w.jsx(JH,{})}),w.jsx("a",{href:"https://instagram.com/ingresovip",target:"_blank",rel:"noopener noreferrer",className:"text-white/80 hover:text-white transition-colors hover:scale-110 transform duration-200",children:w.jsx(xL,{size:24})}),w.jsx("a",{href:"https://tiktok.com/@ingresovip",target:"_blank",rel:"noopener noreferrer",className:"text-white/80 hover:text-white transition-colors hover:scale-110 transform duration-200",children:w.jsx(QH,{})})]}),w.jsxs("p",{className:"text-white/60 text-sm",children:["Todos los derechos reservados - ",w.jsx("span",{className:"font-semibold",children:"INGRESO VIP by Tecno Eventos"})]})]})})]},"welcome"),s==="search"&&w.jsx(il.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"relative w-full h-full",style:{background:`linear-gradient(to bottom right, ${A.secondary}, ${A.primary}, ${A.background})`},children:w.jsxs("div",{className:"flex flex-col items-center justify-center h-full p-6",children:[w.jsx(il.h2,{initial:{y:-20,opacity:0},animate:{y:0,opacity:1},className:"text-4xl md:text-5xl font-black text-white mb-4 text-center",children:"Busc tu Mesa"}),w.jsx("p",{className:"text-white/80 text-lg mb-8 text-center",children:"Presion el botn y dec tu nombre completo"}),w.jsxs(il.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.1},className:"w-full max-w-2xl space-y-4",children:[w.jsxs("button",{onClick:V,className:"w-full p-6 rounded-2xl transition-all flex items-center justify-center gap-3 text-xl font-bold shadow-2xl",style:{background:N?`linear-gradient(135deg, ${A.accent}, ${A.primary})`:`${A.primary}DD`,border:`2px solid ${A.accent}${N?"FF":"66"}`},children:[w.jsx(LL,{size:32,className:`${N?"animate-pulse text-white":"text-white"}`}),w.jsx("span",{className:"text-white",children:N?"Escuchando...":"Decir mi nombre"})]}),w.jsxs("div",{className:"relative",children:[w.jsx(Id,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-white/50",size:24}),w.jsx("input",{type:"text",placeholder:"O escribe tu nombre completo...",value:p,onChange:k=>g(k.target.value),className:"w-full text-white placeholder:text-white/50 text-lg rounded-2xl py-5 pl-14 pr-6 focus:outline-none transition-all backdrop-blur-sm",style:{background:`${A.background}80`,border:`2px solid ${A.accent}33`,boxShadow:`0 4px 24px ${A.primary}22`}})]}),p&&L.length>0&&w.jsx("div",{className:"mt-4 max-h-80 overflow-y-auto space-y-2",children:L.map(k=>w.jsx("button",{onClick:()=>W(k),className:"w-full backdrop-blur-sm p-6 rounded-2xl text-white text-xl font-semibold transition-all",style:{background:`${A.background}CC`,border:`1px solid ${A.accent}20`,boxShadow:`0 4px 16px ${A.primary}22`},children:w.jsxs("div",{className:"flex items-center justify-between",children:[w.jsx("span",{children:k.display_name||`${k.first_name} ${k.last_name}`}),w.jsx("div",{className:"px-4 py-1 rounded-full text-sm font-normal",style:{background:`${A.accent}33`,color:A.accent},children:k.is_after_party?" Trasnoche":k.has_puff?" Espacio Living":k.table_info||"Ingreso"})]})},k.id))}),p&&p.length>2&&L.length===0&&w.jsx("div",{className:"text-center text-white/70 p-6",children:"No se encontraron coincidencias"})]})]})},"search"),s==="video"&&u&&w.jsx(il.div,{initial:{opacity:0},animate:{opacity:1},className:"relative w-full h-full",style:{background:`linear-gradient(to bottom right, ${A.secondary}, ${A.primary}, ${A.background})`},children:w.jsxs("div",{className:"flex flex-col items-center justify-center h-full p-6 text-center text-white overflow-y-auto",children:[w.jsx("h2",{className:"text-3xl md:text-5xl font-bold mb-6 font-display drop-shadow-lg",children:u.display_name||`${u.first_name} ${u.last_name}`}),u.is_after_party?w.jsxs("div",{className:"bg-black/30 p-8 rounded-3xl border border-purple-500/30 backdrop-blur-md max-w-md w-full animate-in zoom-in duration-300",children:[w.jsx("div",{className:"text-6xl mb-6",children:""}),w.jsx("h3",{className:"text-2xl font-bold mb-3 text-purple-200 uppercase tracking-widest",children:"Acceso Trasnoche"}),w.jsx("div",{className:"w-full h-px bg-purple-500/30 my-4"}),w.jsx("p",{className:"text-lg text-white mb-2",children:"Tu ingreso est habilitado a partir de las:"}),w.jsxs("div",{className:"text-6xl font-bold text-[#FBBF24] my-6 font-mono drop-shadow-[0_0_15px_rgba(251,191,36,0.5)]",children:[e?.after_party_time||"00:00"," hs"]}),w.jsx("p",{className:"text-sm text-slate-400",children:"Te esperamos para celebrar juntos."})]}):u.has_puff?w.jsxs("div",{className:"w-full max-w-4xl animate-in fade-in slide-in-from-bottom-8 duration-500",children:[w.jsxs("div",{className:"bg-white/10 p-6 rounded-2xl border border-white/20 backdrop-blur-md mb-8 inline-block",children:[w.jsx("div",{className:"text-4xl mb-2",children:""}),w.jsx("h3",{className:"text-xl font-bold text-white",children:"Sector Living"}),w.jsx("p",{className:"text-white/80",children:"Tienes un lugar asignado en nuestro living exclusivo."})]}),w.jsx("div",{className:"w-full rounded-3xl overflow-hidden shadow-2xl relative bg-black/50 aspect-video",children:D(u)&&!B?w.jsxs(w.Fragment,{children:[w.jsx("video",{ref:f,src:D(u),className:"w-full h-full object-cover",autoPlay:!0,playsInline:!0,loop:!1,muted:!1,onEnded:()=>q(!0)}),w.jsx("div",{className:"absolute bottom-4 right-4 z-20",children:w.jsx("button",{onClick:()=>{f.current&&(f.current.muted=!1,f.current.volume=1,f.current.play())},className:"bg-black/50 hover:bg-black/70 text-white p-2 rounded-full border border-white/20 transition-all",title:"Activar Sonido",children:""})})]}):B?w.jsxs("div",{className:"flex flex-col items-center justify-center h-full bg-slate-900 border border-white/10 p-8 text-center animate-in zoom-in-95 duration-700",children:[w.jsxs("div",{className:"mb-6",children:[w.jsx("p",{className:"text-xl text-slate-300 uppercase tracking-widest font-light mb-2",children:"Tu ubicacin es"}),w.jsx("h1",{className:"text-6xl md:text-8xl font-bold text-white font-display tracking-tight drop-shadow-2xl",children:"LIVING"})]}),w.jsxs("div",{className:"mt-8 opacity-80 flex flex-col items-center",children:[e?.theme_custom_logo_url?w.jsx("img",{src:e.theme_custom_logo_url,className:"h-16 object-contain mb-3",alt:"Logo Evento"}):w.jsx("div",{className:"text-white text-xl font-bold border-2 border-white p-2 mb-3",children:"INGRESO VIP"}),w.jsx("p",{className:"text-[10px] text-slate-500 uppercase tracking-widest",children:"Idea de Tecno Eventos"})]})]}):w.jsx("div",{className:"flex items-center justify-center h-full text-white/50",children:w.jsx("p",{children:"Bienvenido a la fiesta!"})})})]}):w.jsxs("div",{className:"w-full max-w-4xl animate-in fade-in slide-in-from-bottom-8 duration-500",children:[u.table_info&&w.jsxs("div",{className:"bg-white/10 px-8 py-4 rounded-full border border-white/20 backdrop-blur-md mb-8 inline-flex items-center gap-3",children:[w.jsx("span",{className:"text-2xl",children:""}),w.jsx("span",{className:"text-xl font-bold",children:u.table_info})]}),w.jsx("div",{className:"w-full rounded-3xl overflow-hidden shadow-2xl relative bg-black/50 aspect-video",children:D(u)&&!B?w.jsxs(w.Fragment,{children:[w.jsx("video",{ref:f,src:D(u),className:"w-full h-full object-cover",autoPlay:!0,playsInline:!0,loop:!1,muted:!1,onEnded:()=>q(!0)}),w.jsx("div",{className:"absolute bottom-4 right-4 z-20",children:w.jsx("button",{onClick:()=>{f.current&&(f.current.muted=!1,f.current.volume=1,f.current.play())},className:"bg-black/50 hover:bg-black/70 text-white p-2 rounded-full border border-white/20 transition-all",title:"Activar Sonido",children:""})})]}):B?w.jsxs("div",{className:"flex flex-col items-center justify-center h-full bg-slate-900 border border-white/10 p-8 text-center animate-in zoom-in-95 duration-700",children:[w.jsxs("div",{className:"mb-6",children:[w.jsx("p",{className:"text-xl text-slate-300 uppercase tracking-widest font-light mb-2",children:"Tu ubicacin es"}),w.jsx("h1",{className:"text-6xl md:text-8xl font-bold text-white font-display tracking-tight drop-shadow-2xl",children:u.table_info?u.table_info.replace("Mesa ",""):""}),w.jsx("p",{className:"text-2xl text-[#FBBF24] font-serif italic mt-2",children:"Mesa"})]}),w.jsxs("div",{className:"mt-8 opacity-80 flex flex-col items-center",children:[e?.theme_custom_logo_url?w.jsx("img",{src:e.theme_custom_logo_url,className:"h-16 object-contain mb-3",alt:"Logo Evento"}):w.jsx("div",{className:"text-white text-xl font-bold border-2 border-white p-2 mb-3",children:"INGRESO VIP"}),w.jsx("p",{className:"text-[10px] text-slate-500 uppercase tracking-widest",children:"Idea de Tecno Eventos"})]})]}):w.jsx("div",{className:"flex items-center justify-center h-full text-white/50 bg-black/40",children:w.jsxs("div",{className:"text-center p-6",children:[w.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:u.display_name||u.first_name}),w.jsx("p",{className:"text-sm text-slate-300",children:"No hay video disponible para este invitado"}),e?.owner_id&&w.jsxs("p",{className:"text-[10px] text-slate-500 mt-4 opacity-50",children:["ID: ",u.id.slice(0,4)]})]})})})]}),w.jsx("button",{onClick:()=>{l("search"),d(null)},className:"mt-10 px-6 py-2 rounded-full bg-white/10 hover:bg-white/20 transition-colors text-sm font-medium border border-white/10",children:" Buscar otro invitado"})]})},"video")]})]})]})}function e$(){return w.jsx(Yk,{children:w.jsx(rT,{basename:"/ingreso-vip",children:w.jsxs(O8,{children:[w.jsx(wo,{path:"/",element:w.jsx(Xk,{})}),w.jsx(wo,{path:"/login",element:w.jsx(KL,{})}),w.jsx(wo,{path:"/register",element:w.jsx(XL,{})}),w.jsxs(wo,{path:"/admin",element:w.jsx(Kk,{}),children:[w.jsx(wo,{index:!0,element:w.jsx(ZS,{to:"/admin/dashboard",replace:!0})}),w.jsx(wo,{path:"dashboard",element:w.jsx(OO,{})}),w.jsx(wo,{path:"users",element:w.jsx(vU,{})}),w.jsx(wo,{path:"event/:id",element:w.jsx(gU,{})})]}),w.jsx(wo,{path:"/evento/:id",element:w.jsx(ZH,{})})]})})})}OC.createRoot(document.getElementById("root")).render(w.jsx(Ar.StrictMode,{children:w.jsx(e$,{})}));export{Ln as _,t$ as c,Th as g};
